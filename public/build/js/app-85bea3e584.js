("__")[1];if(n(t,e.value,{attr:o||i,bool:o}),o)return y(t,i),!1}),!I(t)&&void 0)})}function u(t,i,n){function o(){var t=S&&_?h:I||h;p(R.attributes,function(e){var i=e.value;b[v(e.name)]=at.hasExpr(i)?at(i,t):i}),p(Object.keys(P),function(e){b[v(e)]=at(P[e],t)})}function s(t){for(var e in C)typeof h[e]!==tt&&T(h,e)&&(h[e]=t[e])}function r(){h.parent&&_&&p(Object.keys(h.parent),function(t){var e=!k(nt,t)&&k(F,t);(typeof h[t]===tt||e)&&(e||F.push(t),h[t]=h.parent[t])})}function a(t){h.update(t,!0)}function u(t){if(p(A,function(e){e[t?"mount":"unmount"]()}),I){var e=t?"on":"off";_?I[e]("unmount",h.unmount):I[e]("update",a)[e]("unmount",h.unmount)}}var d,h=U.observable(this),b=B(i.opts)||{},I=i.parent,_=i.isLoop,S=i.hasImpl,C=D(i.item),E=[],A=[],R=i.root,q=R.tagName.toLowerCase(),P={},F=[];t.name&&R._tag&&R._tag.unmount(!0),this.isMounted=!1,R.isLoop=_,R._tag=this,M(this,"_riot_id",++z),x(this,{parent:I,root:R,opts:b,tags:{}},C),p(R.attributes,function(t){var e=t.value;at.hasExpr(e)&&(P[t.name]=e)}),d=ct(t.tmpl,n),M(this,"update",function(t,e){return t=D(t),r(),t&&g(C)&&(s(t),C=t),x(h,t),o(),h.trigger("update",t),f(E,h),e&&h.parent?h.parent.one("updated",function(){h.trigger("updated")}):ut(function(){h.trigger("updated")}),this}),M(this,"mixin",function(){return p(arguments,function(t){var e;t=typeof t===Z?U.mixin(t):t,m(t)?(e=new t,t=t.prototype):e=t,p(Object.getOwnPropertyNames(t),function(t){"init"!=t&&(h[t]=m(e[t])?e[t].bind(h):e[t])}),e.init&&e.init.bind(h)()}),this}),M(this,"mount",function(){o();var e=U.mixin($);if(e&&h.mixin(e),t.fn&&t.fn.call(h,b),l(d,h,E),u(!0),t.attrs&&j(t.attrs,function(t,e){O(R,t,e)}),(t.attrs||S)&&l(h.root,h,E),h.parent&&!_||h.update(C),h.trigger("before-mount"),_&&!S)R=d.firstChild;else{for(;d.firstChild;)R.appendChild(d.firstChild);R.stub&&(R=I.root)}M(h,"root",R),_&&c(h.root,h.parent,null,!0),!h.parent||h.parent.isMounted?(h.isMounted=!0,h.trigger("mount")):h.parent.one("mount",function(){N(h.root)||(h.parent.isMounted=h.isMounted=!0,h.trigger("mount"))})}),M(this,"unmount",function(t){var i,n=R,o=n.parentNode,s=G.indexOf(h);if(h.trigger("before-unmount"),~s&&G.splice(s,1),o){if(I)i=w(I),L(i.tags[q])?p(i.tags[q],function(t,e){t._riot_id==h._riot_id&&i.tags[q].splice(e,1)}):i.tags[q]=e;else for(;n.firstChild;)n.removeChild(n.firstChild);t?(y(o,K),y(o,X)):o.removeChild(n)}this._virts&&p(this._virts,function(t){t.parentNode&&t.parentNode.removeChild(t)}),h.trigger("unmount"),u(),h.off("*"),h.isMounted=!1,delete R._tag}),c(d,this,A)}function d(e,i,n,o){n[e]=function(e){var s,r=o._parent,a=o._item;if(!a)for(;r&&!a;)a=r._item,r=r._parent;e=e||t.event,T(e,"currentTarget")&&(e.currentTarget=n),T(e,"target")&&(e.target=e.srcElement),T(e,"which")&&(e.which=e.charCode||e.keyCode),e.item=a,i.call(o,e)===!0||/radio|check/.test(n.type)||(e.preventDefault&&e.preventDefault(),e.returnValue=!1),e.preventUpdate||(s=a?w(r):o,s.update())}}function h(t,e,i){t&&(t.insertBefore(i,e),t.removeChild(e))}function f(t,e){p(t,function(t,i){var n=t.dom,o=t.attr,s=at(t.expr,e),r=t.dom.parentNode;if(t.bool?s=!!s:null==s&&(s=""),t.value!==s){if(t.value=s,!o)return s+="",void(r&&("TEXTAREA"===r.tagName?(r.value=s,ot||(n.nodeValue=s)):n.nodeValue=s));if("value"===o)return void(n.value=s);if(y(n,o),m(s))d(o,s,n,e);else if("if"==o){var a=t.stub,c=function(){h(a.parentNode,a,n)},l=function(){h(n.parentNode,n,a)};s?a&&(c(),n.inStub=!1,N(n)||A(n,function(t){t._tag&&!t._tag.isMounted&&(t._tag.isMounted=!!t._tag.trigger("mount"))})):(a=t.stub=a||document.createTextNode(""),n.parentNode?l():(e.parent||e).one("updated",l),n.inStub=!0)}else"show"===o?n.style.display=s?"":"none":"hide"===o?n.style.display=s?"none":"":t.bool?(n[o]=s,s&&O(n,o,o),st&&"selected"===o&&"OPTION"===n.tagName&&(n.__riot1374=s)):(0===s||s&&typeof s!==Q)&&(Y(o,J)&&o!=X&&(o=o.slice(J.length)),O(n,o,s))}})}function p(t,e){for(var i,n=t?t.length:0,o=0;o<n;o++)i=t[o],null!=i&&e(i,o)===!1&&o--;return t}function m(t){return typeof t===et||!1}function g(t){return t&&typeof t===Q}function y(t,e){t.removeAttribute(e)}function v(t){return t.replace(/-(\w)/g,function(t,e){return e.toUpperCase()})}function b(t,e){return t.getAttribute(e)}function O(t,e,i){t.setAttribute(e,i)}function I(t){return t.tagName&&V[b(t,K)||b(t,X)||t.tagName.toLowerCase()]}function _(t,e,i){var n=i.tags[e];n?(L(n)||n!==t&&(i.tags[e]=[n]),k(i.tags[e],t)||i.tags[e].push(t)):i.tags[e]=t}function S(t,e,i){var n,o=t.parent;o&&(n=o.tags[e],L(n)?n.splice(i,0,n.splice(n.indexOf(t),1)[0]):_(t,e,o))}function C(t,e,i,n){var o=new u(t,e,i),s=E(e.root),r=w(n);return o.parent=r,o._parent=n,_(o,s,r),r!==n&&_(o,s,n),e.root.innerHTML="",o}function w(t){for(var e=t;!I(e.root)&&e.parent;)e=e.parent;return e}function M(t,e,i,n){return Object.defineProperty(t,e,x({value:i,enumerable:!1,writable:!1,configurable:!0},n)),t}function E(t){var e=I(t),i=b(t,"name"),n=i&&!at.hasExpr(i)?i:e?e.name:t.tagName.toLowerCase();return n}function x(t){for(var e,i=arguments,n=1;n<i.length;++n)if(e=i[n])for(var o in e)T(t,o)&&(t[o]=e[o]);return t}function k(t,e){return~t.indexOf(e)}function L(t){return Array.isArray(t)||t instanceof Array}function T(t,e){var i=Object.getOwnPropertyDescriptor(t,e);return typeof t[e]===tt||i&&i.writable}function D(t){if(!(t instanceof u||t&&typeof t.trigger==et))return t;var e={};for(var i in t)k(nt,i)||(e[i]=t[i]);return e}function A(t,e){if(t){if(e(t)===!1)return;for(t=t.firstChild;t;)A(t,e),t=t.nextSibling}}function j(t,e){for(var i,n=/([-\w]+) ?= ?(?:"([^"]*)|'([^']*)|({[^}]*}))/g;i=n.exec(t);)e(i[1].toLowerCase(),i[2]||i[3]||i[4])}function N(t){for(;t;){if(t.inStub)return!0;t=t.parentNode}return!1}function R(t){return document.createElement(t)}function q(t,e){return(e||document).querySelectorAll(t)}function P(t,e){return(e||document).querySelector(t)}function B(t){function e(){}return e.prototype=t,new e}function F(t){return b(t,"id")||b(t,"name")}function H(t,e,i){var n,o=F(t),s=function(s){k(i,o)||(n=L(s),s?(!n||n&&!k(s,t))&&(n?s.push(t):e[o]=[s,t]):e[o]=t)};o&&(at.hasExpr(o)?e.one("mount",function(){o=F(t),s(e[o])}):s(e[o]))}function Y(t,e){return t.slice(0,e.length)===e}function W(t,e,i){var n=V[e],o=t._innerHTML=t._innerHTML||t.innerHTML;return t.innerHTML="",n&&t&&(n=new u(n,{root:t,opts:i},o)),n&&n.mount&&(n.mount(),k(G,n)||G.push(n)),n}var U={version:"v2.3.18",settings:{}},z=0,G=[],V={},$="__global_mixin",J="riot-",X=J+"tag",K="data-is",Z="string",Q="object",tt="undefined",et="function",it=/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?|opt(?:ion|group))$/,nt=["_item","_id","_parent","update","root","mount","unmount","mixin","isMounted","isLoop","tags","parent","opts","trigger","on","off","one"],ot=0|(t&&t.document||{}).documentMode,st=t&&!!t.InstallTrigger;U.observable=function(t){t=t||{};var e={},i=Array.prototype.slice,n=function(t,e){t.replace(/\S+/g,e)};return Object.defineProperties(t,{on:{value:function(i,o){return"function"!=typeof o?t:(n(i,function(t,i){(e[t]=e[t]||[]).push(o),o.typed=i>0}),t)},enumerable:!1,writable:!1,configurable:!1},off:{value:function(i,o){return"*"!=i||o?n(i,function(t){if(o)for(var i,n=e[t],s=0;i=n&&n[s];++s)i==o&&n.splice(s--,1);else delete e[t]}):e={},t},enumerable:!1,writable:!1,configurable:!1},one:{value:function(e,i){function n(){t.off(e,n),i.apply(t,arguments)}return t.on(e,n)},enumerable:!1,writable:!1,configurable:!1},trigger:{value:function(o){for(var s,r=arguments.length-1,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c+1];return n(o,function(n){s=i.call(e[n]||[],0);for(var o,r=0;o=s[r];++r){if(o.busy)return;o.busy=1,o.apply(t,o.typed?[n].concat(a):a),s[r]!==o&&r--,o.busy=0}e["*"]&&"*"!=n&&t.trigger.apply(t,["*",n].concat(a))}),t},enumerable:!1,writable:!1,configurable:!1}}),t},function(e){function i(t){return t.split(/[\/?#]/)}function n(t,e){var i=new RegExp("^"+e[C](/\*/g,"([^/?#]+?)")[C](/\.\./,".*")+"$"),n=t.match(i);if(n)return n.slice(1)}function o(t,e){var i;return function(){clearTimeout(i),i=setTimeout(t,e)}}function s(t){p=o(d,1),k[_](w,p),k[_](M,p),L[_](j,h),t&&d(!0)}function r(){this.$=[],e.observable(this),R.on("stop",this.s.bind(this)),R.on("emit",this.e.bind(this))}function a(t){return t[C](/^\/|\/$/,"")}function c(t){return"string"==typeof t}function l(t){return(t||D.href)[C](b,"")}function u(t){return"#"==m[0]?(t||D.href||"").split(m)[1]||"":(D?l(t):t||"")[C](m,"")}function d(t){var e=0==B;if(!(x<=B)&&(B++,P.push(function(){var e=u();(t||e!=g)&&(R[E]("emit",e),g=e)}),e)){for(;P.length;)P[0](),P.shift();B=0}}function h(t){if(!(1!=t.which||t.metaKey||t.ctrlKey||t.shiftKey||t.defaultPrevented)){for(var e=t.target;e&&"A"!=e.nodeName;)e=e.parentNode;!e||"A"!=e.nodeName||e[S]("download")||!e[S]("href")||e.target&&"_self"!=e.target||e.href.indexOf(D.href.match(b)[0])==-1||(e.href==D.href||e.href.split("#")[0]!=D.href.split("#")[0]&&("#"==m||0===l(e.href).indexOf(m))&&f(u(e.href),e.title||L.title))&&t.preventDefault()}}function f(t,e,i){return T?(t=m+a(t),e=e||L.title,i?T.replaceState(null,e,t):T.pushState(null,e,t),L.title=e,q=!1,d(),q):R[E]("emit",u(t))}var p,m,g,y,v,b=/^.+?\/\/+[^\/]+/,O="EventListener",I="remove"+O,_="add"+O,S="hasAttribute",C="replace",w="popstate",M="hashchange",E="trigger",x=3,k="undefined"!=typeof t&&t,L="undefined"!=typeof document&&document,T=k&&history,D=k&&(T.location||k.location),A=r.prototype,j=L&&L.ontouchstart?"touchstart":"click",N=!1,R=e.observable(),q=!1,P=[],B=0;A.m=function(t,e,i){!c(t)||e&&!c(e)?e?this.r(t,e):this.r("@",t):f(t,e,i||!1)},A.s=function(){this.off("*"),this.$=[]},A.e=function(t){this.$.concat("@").some(function(e){var i=("@"==e?y:v)(a(t),a(e));if("undefined"!=typeof i)return this[E].apply(null,[e].concat(i)),q=!0},this)},A.r=function(t,e){"@"!=t&&(t="/"+a(t),this.$.push(t)),this.on(t,e)};var F=new r,H=F.m.bind(F);H.create=function(){var t=new r,e=t.m.bind(t);return e.stop=t.s.bind(t),e},H.base=function(t){m=t||"#",g=u()},H.exec=function(){d(!0)},H.parser=function(t,e){t||e||(y=i,v=n),t&&(y=t),e&&(v=e)},H.query=function(){var t={},e=D.href||g;return e[C](/[?&](.+?)=([^&]*)/g,function(e,i,n){t[i]=n}),t},H.stop=function(){N&&(k&&(k[I](w,p),k[I](M,p),L[I](j,h)),R[E]("stop"),N=!1)},H.start=function(t){N||(k&&("complete"==document.readyState?s(t):k[_]("load",function(){setTimeout(function(){s(t)},1)})),N=!0)},H.base(),H.parser(),e.route=H}(U);var rt=function(t){function e(t){return t}function i(t,e){return e||(e=y),new RegExp(t.source.replace(/{/g,e[2]).replace(/}/g,e[3]),t.global?l:"")}function n(t){if(t===p)return m;var e=t.split(" ");if(2!==e.length||/[\x00-\x1F<>a-zA-Z0-9'",;\\]/.test(t))throw new Error('Unsupported brackets "'+t+'"');return e=e.concat(t.replace(/(?=[[\]()*+?.^$|])/g,"\\").split(" ")),e[4]=i(e[1].length>1?/{[\S\s]*?}/:m[4],e),e[5]=i(t.length>3?/\\({|})/g:m[5],e),e[6]=i(m[6],e),e[7]=RegExp("\\\\("+e[3]+")|([[({])|("+e[3]+")|"+h,l),e[8]=t,e}function o(t){return t instanceof RegExp?a(t):y[t]}function s(t){(t||(t=p))!==y[8]&&(y=n(t),a=t===p?e:i,y[9]=a(m[9])),g=t}function r(t){var e;t=t||{},e=t.brackets,Object.defineProperty(t,"brackets",{set:s,get:function(){return g},enumerable:!0}),c=t,s(e)}var a,c,l="g",u=/\/\*[^*]*\*+(?:[^*\/][^*]*\*+)*\//g,d=/"[^"\\]*(?:\\[\S\s][^"\\]*)*"|'[^'\\]*(?:\\[\S\s][^'\\]*)*'/g,h=d.source+"|"+/(?:\breturn\s+|(?:[$\w\)\]]|\+\+|--)\s*(\/)(?![*\/]))/.source+"|"+/\/(?=[^*\/])[^[\/\\]*(?:(?:\[(?:\\.|[^\]\\]*)*\]|\\.)[^[\/\\]*)*?(\/)[gim]*/.source,f={"(":RegExp("([()])|"+h,l),"[":RegExp("([[\\]])|"+h,l),"{":RegExp("([{}])|"+h,l)},p="{ }",m=["{","}","{","}",/{[^}]*}/,/\\([{}])/g,/\\({)|{/g,RegExp("\\\\(})|([[({])|(})|"+h,l),p,/^\s*{\^?\s*([$\w]+)(?:\s*,\s*(\S+))?\s+in\s+(\S.*)\s*}/,/(^|[^\\]){=[\S\s]*?}/],g=t,y=[];return o.split=function(t,e,i){function n(t){e||r?l.push(t&&t.replace(i[5],"$1")):l.push(t)}function o(t,e,i){var n,o=f[e];for(o.lastIndex=i,i=1;(n=o.exec(t))&&(!n[1]||(n[1]===e?++i:--i)););return i?t.length:o.lastIndex}i||(i=y);var s,r,a,c,l=[],u=i[6];for(r=a=u.lastIndex=0;s=u.exec(t);){if(c=s.index,r){if(s[2]){u.lastIndex=o(t,s[2],u.lastIndex);continue}if(!s[3])continue}s[1]||(n(t.slice(a,c)),a=u.lastIndex,u=i[6+(r^=1)],u.lastIndex=a)}return t&&a<t.length&&n(t.slice(a)),l},o.hasExpr=function(t){return y[4].test(t)},o.loopKeys=function(t){var e=t.match(y[9]);return e?{key:e[1],pos:e[2],val:y[0]+e[3].trim()+y[1]}:{val:t.trim()}},o.array=function(t){return t?n(t):y},Object.defineProperty(o,"settings",{set:r,get:function(){return c}}),o.settings="undefined"!=typeof U&&U.settings||{},o.set=s,o.R_STRINGS=d,o.R_MLCOMMS=u,o.S_QBLOCKS=h,o}(),at=function(){function e(t,e){return t?(a[t]||(a[t]=n(t))).call(e,i):t}function i(t,i){e.errorHandler&&(t.riotData={tagName:i&&i.root&&i.root.tagName,_riot_id:i&&i._riot_id},e.errorHandler(t))}function n(t){var e=o(t);return"try{return "!==e.slice(0,11)&&(e="return "+e),new Function("E",e+";")}function o(t){var e,i=[],n=rt.split(t.replace(d,'"'),1);if(n.length>2||n[0]){var o,r,a=[];for(o=r=0;o<n.length;++o)e=n[o],e&&(e=1&o?s(e,1,i):'"'+e.replace(/\\/g,"\\\\").replace(/\r\n?|\n/g,"\\n").replace(/"/g,'\\"')+'"')&&(a[r++]=e);e=r<2?a[0]:"["+a.join(",")+'].join("")'}else e=s(n[1],0,i);return i[0]&&(e=e.replace(h,function(t,e){return i[e].replace(/\r/g,"\\r").replace(/\n/g,"\\n")})),e}function s(t,e,i){function n(e,i){var n,o=1,s=f[e];for(s.lastIndex=i.lastIndex;n=s.exec(t);)if(n[0]===e)++o;else if(!--o)break;i.lastIndex=o?t.length:s.lastIndex}if(t=t.replace(u,function(t,e){return t.length>2&&!e?c+(i.push(t)-1)+"~":t}).replace(/\s+/g," ").trim().replace(/\ ?([[\({},?\.:])\ ?/g,"$1")){for(var o,s=[],a=0;t&&(o=t.match(l))&&!o.index;){var d,h,p=/,|([[{(])|$/g;for(t=RegExp.rightContext,d=o[2]?i[o[2]].slice(1,-1).trim().replace(/\s+/g," "):o[1];h=(o=p.exec(t))[1];)n(h,p);h=t.slice(0,o.index),t=RegExp.rightContext,s[a++]=r(h,1,d)}t=a?a>1?"["+s.join(",")+'].join(" ").trim()':s[0]:r(t,e)}return t}function r(t,e,i){var n;return t=t.replace(m,function(t,e,i,o,s){return i&&(o=n?0:o+t.length,"this"!==i&&"global"!==i&&"window"!==i?(t=e+'("'+i+p+i,o&&(n="."===(s=s[o])||"("===s||"["===s)):o&&(n=!g.test(s.slice(o)))),t}),n&&(t="try{return "+t+"}catch(e){E(e,this)}"),i?t=(n?"function(){"+t+"}.call(this)":"("+t+")")+'?"'+i+'":""':e&&(t="function(v){"+(n?t.replace("return ","v="):"v=("+t+")")+';return v||v===0?v:""}.call(this)'),t}var a={};e.haveRaw=rt.hasRaw,e.hasExpr=rt.hasExpr,e.loopKeys=rt.loopKeys,e.errorHandler=null;var c="⁗",l=/^(?:(-?[_A-Za-z\xA0-\xFF][-\w\xA0-\xFF]*)|\u2057(\d+)~):/,u=RegExp(rt.S_QBLOCKS,"g"),d=/\u2057/g,h=/\u2057(\d+)~/g,f={"(":/[()]/g,"[":/[[\]]/g,"{":/[{}]/g},p='"in this?this:'+("object"!=typeof t?"global":"window")+").",m=/[,{][$\w]+:|(^ *|[^$\w\.])(?!(?:typeof|true|false|null|undefined|in|instanceof|is(?:Finite|NaN)|void|NaN|new|Date|RegExp|Math)(?![$\w]))([$_A-Za-z][$\w]*)/g,g=/^(?=(\.[$\w]+))\1(?:[^.[(]|$)/;return e.parse=function(t){return t},e.version=rt.version="v2.3.22",e}(),ct=function dt(){function dt(i,n){var o=i&&i.match(/^\s*<([-\w]+)/),s=o&&o[1].toLowerCase(),r=R("div");return i=e(i,n),a.test(s)?r=t(r,i,s):r.innerHTML=i,r.stub=!0,r}function t(t,e,i){var n="o"===i[0],o=n?"select>":"table>";if(t.innerHTML="<"+o+e.trim()+"</"+o,o=t.firstChild,n)o.selectedIndex=-1;else{var s=r[i];s&&1===o.childElementCount&&(o=P(s,o))}return o}function e(t,e){if(!i.test(t))return t;var r={};return e=e&&e.replace(o,function(t,e,i){return r[e]=r[e]||i,""}).trim(),t.replace(s,function(t,e,i){return r[e]||i||""}).replace(n,function(t,i){return e||i||""})}var i=/<yield\b/i,n=/<yield\s*(?:\/>|>([\S\s]*?)<\/yield\s*>)/gi,o=/<yield\s+to=['"]([^'">]*)['"]\s*>([\S\s]*?)<\/yield\s*>/gi,s=/<yield\s+from=['"]?([-\w]+)['"]?\s*(?:\/>|>([\S\s]*?)<\/yield\s*>)/gi,r={tr:"tbody",th:"tr",td:"tr",col:"colgroup"},a=ot&&ot<10?it:/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?)$/;return dt}(),lt=function(e){if(!t)return{add:function(){},inject:function(){}};var i=function(){var t=R("style");O(t,"type","text/css");var e=P("style[type=riot]");return e?(e.id&&(t.id=e.id),e.parentNode.replaceChild(t,e)):document.getElementsByTagName("head")[0].appendChild(t),t}(),n=i.styleSheet,o="";return Object.defineProperty(e,"styleNode",{value:i,writable:!0}),{add:function(t){o+=t},inject:function(){o&&(n?n.cssText+=o:i.innerHTML+=o,o="")}}}(U),ut=function(t){var e=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame;if(!e||/iP(ad|hone|od).*OS 6/.test(t.navigator.userAgent)){var i=0;e=function(t){var e=Date.now(),n=Math.max(16-(e-i),0);setTimeout(function(){t(i=e+n)},n)}}return e}(t||{});U.util={brackets:rt,tmpl:at},U.mixin=function(){var t={};return function(e,i){return g(e)?(i=e,void(t[$]=x(t[$]||{},i))):i?void(t[e]=i):t[e]}}(),U.tag=function(t,e,i,n,o){return m(n)&&(o=n,/^[\w\-]+\s?=/.test(i)?(n=i,i=""):n=""),i&&(m(i)?o=i:lt.add(i)),t=t.toLowerCase(),V[t]={name:t,tmpl:e,attrs:n,fn:o},t},U.tag2=function(t,e,i,n,o){return i&&lt.add(i),V[t]={name:t,tmpl:e,attrs:n,fn:o},t},U.mount=function(t,e,i){function n(t){var e="";return p(t,function(t){/[^-\w]/.test(t)||(t=t.trim().toLowerCase(),e+=",["+K+'="'+t+'"],['+X+'="'+t+'"]')}),e}function o(){var t=Object.keys(V);return t+n(t)}function s(t){if(t.tagName){var n=b(t,K)||b(t,X);e&&n!==e&&(n=e,O(t,K,e),O(t,X,e));var o=W(t,n||t.tagName.toLowerCase(),i);o&&c.push(o)}else t.length&&p(t,s)}var r,a,c=[];if(lt.inject(),g(e)&&(i=e,e=0),typeof t===Z?("*"===t?t=a=o():t+=n(t.split(/, */)),r=t?q(t):[]):r=t,"*"===e){if(e=a||o(),r.tagName)r=q(e,r);else{var l=[];p(r,function(t){l.push(q(e,t))}),r=l}e=0}return s(r),c},U.update=function(){return p(G,function(t){t.update()})},U.vdom=G,U.Tag=u,SOCIOMILE.riot=U}("undefined"!=typeof window?window:void 0),function(t,e){"object"==typeof exports&&"object"==typeof module?SOCIOMILE.io=e():"function"==typeof define&&define.amd?SOCIOMILE.io=e():"object"==typeof exports?SOCIOMILE.io=e():SOCIOMILE.io=e()}(this,function(){return function(t){function e(n){if(i[n])return i[n].exports;var o=i[n]={exports:{},id:n,loaded:!1};return t[n].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){"use strict";function n(t,e){"object"===("undefined"==typeof t?"undefined":o(t))&&(e=t,t=void 0),e=e||{};var i,n=s(t),r=n.source,u=n.id,d=n.path,h=l[u]&&d in l[u].nsps,f=e.forceNew||e["force new connection"]||!1===e.multiplex||h;return f?(c("ignoring socket cache for %s",r),i=a(r,e)):(l[u]||(c("new io instance for %s",r),l[u]=a(r,e)),i=l[u]),n.query&&!e.query&&(e.query=n.query),i.socket(n.path,e)}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=i(1),r=i(7),a=i(12),c=i(3)("socket.io-client");t.exports=e=n;var l=e.managers={};e.protocol=r.protocol,e.connect=n,e.Manager=i(12),e.Socket=i(36)},function(t,e,i){"use strict";function n(t,e){var i=t;e=e||"undefined"!=typeof location&&location,null==t&&(t=e.protocol+"//"+e.host),"string"==typeof t&&("/"===t.charAt(0)&&(t="/"===t.charAt(1)?e.protocol+t:e.host+t),/^(https?|wss?):\/\//.test(t)||(s("protocol-less url %s",t),t="undefined"!=typeof e?e.protocol+"//"+t:"https://"+t),s("parse %s",t),i=o(t)),i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443")),i.path=i.path||"/";var n=i.host.indexOf(":")!==-1,r=n?"["+i.host+"]":i.host;return i.id=i.protocol+"://"+r+":"+i.port,i.href=i.protocol+"://"+r+(e&&e.port===i.port?"":":"+i.port),i}var o=i(2),s=i(3)("socket.io-client:url");t.exports=n},function(t,e){var i=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,n=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];t.exports=function(t){var e=t,o=t.indexOf("["),s=t.indexOf("]");o!=-1&&s!=-1&&(t=t.substring(0,o)+t.substring(o,s).replace(/:/g,";")+t.substring(s,t.length));for(var r=i.exec(t||""),a={},c=14;c--;)a[n[c]]=r[c]||"";return o!=-1&&s!=-1&&(a.source=e,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a}},function(t,e,i){(function(n){function o(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function s(t){var i=this.useColors;if(t[0]=(i?"%c":"")+this.namespace+(i?" %c":" ")+t[0]+(i?"%c ":" ")+"+"+e.humanize(this.diff),i){var n="color: "+this.color;t.splice(1,0,n,"color: inherit");var o=0,s=0;t[0].replace(/%[a-zA-Z%]/g,function(t){"%%"!==t&&(o++,"%c"===t&&(s=o))}),t.splice(s,0,n)}}function r(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function a(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(i){}}function c(){var t;try{t=e.storage.debug}catch(i){}return!t&&"undefined"!=typeof n&&"env"in n&&(t=n.env.DEBUG),t}function l(){try{return window.localStorage}catch(t){}}e=t.exports=i(5),e.log=r,e.formatArgs=s,e.save=a,e.load=c,e.useColors=o,e.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:l(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},e.enable(c())}).call(e,i(4))},function(t,e){function i(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function o(t){if(u===setTimeout)return setTimeout(t,0);if((u===i||!u)&&setTimeout)return u=setTimeout,setTimeout(t,0);try{return u(t,0)}catch(e){try{return u.call(null,t,0)}catch(e){return u.call(this,t,0)}}}function s(t){if(d===clearTimeout)return clearTimeout(t);if((d===n||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(t);try{return d(t)}catch(e){try{return d.call(null,t)}catch(e){return d.call(this,t)}}}function r(){m&&f&&(m=!1,f.length?p=f.concat(p):g=-1,p.length&&a())}function a(){if(!m){var t=o(r);m=!0;for(var e=p.length;e;){for(f=p,p=[];++g<e;)f&&f[g].run();g=-1,e=p.length}f=null,m=!1,s(t)}}function c(t,e){this.fun=t,this.array=e}function l(){}var u,d,h=t.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:i}catch(t){u=i}try{d="function"==typeof clearTimeout?clearTimeout:n}catch(t){d=n}}();var f,p=[],m=!1,g=-1;h.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];p.push(new c(t,e)),1!==p.length||m||o(a)},c.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=l,h.addListener=l,h.once=l,h.off=l,h.removeListener=l,h.removeAllListeners=l,h.emit=l,h.prependListener=l,h.prependOnceListener=l,h.listeners=function(t){return[]},h.binding=function(t){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(t){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},function(t,e,i){function n(t){var i,n=0;for(i in t)n=(n<<5)-n+t.charCodeAt(i),n|=0;return e.colors[Math.abs(n)%e.colors.length]}function o(t){function i(){if(i.enabled){var t=i,n=+new Date,s=n-(o||n);t.diff=s,t.prev=o,t.curr=n,o=n;for(var r=new Array(arguments.length),a=0;a<r.length;a++)r[a]=arguments[a];r[0]=e.coerce(r[0]),"string"!=typeof r[0]&&r.unshift("%O");var c=0;r[0]=r[0].replace(/%([a-zA-Z%])/g,function(i,n){if("%%"===i)return i;c++;var o=e.formatters[n];if("function"==typeof o){var s=r[c];i=o.call(t,s),r.splice(c,1),c--}return i}),e.formatArgs.call(t,r);var l=i.log||e.log||void 0;l.apply(t,r)}}var o;return i.namespace=t,i.enabled=e.enabled(t),i.useColors=e.useColors(),i.color=n(t),i.destroy=s,"function"==typeof e.init&&e.init(i),e.instances.push(i),i}function s(){var t=e.instances.indexOf(this);return t!==-1&&(e.instances.splice(t,1),!0)}function r(t){e.save(t),e.names=[],e.skips=[];var i,n=("string"==typeof t?t:"").split(/[\s,]+/),o=n.length;for(i=0;i<o;i++)n[i]&&(t=n[i].replace(/\*/g,".*?"),"-"===t[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")));for(i=0;i<e.instances.length;i++){var s=e.instances[i];s.enabled=e.enabled(s.namespace)}}function a(){e.enable("")}function c(t){if("*"===t[t.length-1])return!0;var i,n;for(i=0,n=e.skips.length;i<n;i++)if(e.skips[i].test(t))return!1;for(i=0,n=e.names.length;i<n;i++)if(e.names[i].test(t))return!0;return!1}function l(t){return t instanceof Error?t.stack||t.message:t}e=t.exports=o.debug=o["default"]=o,e.coerce=l,e.disable=a,e.enable=r,e.enabled=c,e.humanize=i(6),e.instances=[],e.names=[],e.skips=[],e.formatters={}},function(t,e){function i(t){if(t=String(t),!(t.length>100)){var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(e){var i=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return i*u;case"days":case"day":case"d":return i*l;case"hours":case"hour":case"hrs":case"hr":case"h":return i*c;case"minutes":case"minute":case"mins":case"min":case"m":return i*a;case"seconds":case"second":case"secs":case"sec":case"s":return i*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return i;default:return}}}}function n(t){return t>=l?Math.round(t/l)+"d":t>=c?Math.round(t/c)+"h":t>=a?Math.round(t/a)+"m":t>=r?Math.round(t/r)+"s":t+"ms"}function o(t){return s(t,l,"day")||s(t,c,"hour")||s(t,a,"minute")||s(t,r,"second")||t+" ms"}function s(t,e,i){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+i:Math.ceil(t/e)+" "+i+"s"}var r=1e3,a=60*r,c=60*a,l=24*c,u=365.25*l;t.exports=function(t,e){e=e||{};var s=typeof t;if("string"===s&&t.length>0)return i(t);if("number"===s&&isNaN(t)===!1)return e["long"]?o(t):n(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},function(t,e,i){function n(){}function o(t){var i=""+t.type;if(e.BINARY_EVENT!==t.type&&e.BINARY_ACK!==t.type||(i+=t.attachments+"-"),t.nsp&&"/"!==t.nsp&&(i+=t.nsp+","),null!=t.id&&(i+=t.id),null!=t.data){var n=s(t.data);if(n===!1)return y;i+=n}return h("encoded %j as %s",t,i),i}function s(t){try{return JSON.stringify(t)}catch(e){return!1}}function r(t,e){function i(t){var i=p.deconstructPacket(t),n=o(i.packet),s=i.buffers;s.unshift(n),e(s)}p.removeBlobs(t,i)}function a(){this.reconstructor=null}function c(t){var i=0,n={type:Number(t.charAt(0))};if(null==e.types[n.type])return d("unknown packet type "+n.type);if(e.BINARY_EVENT===n.type||e.BINARY_ACK===n.type){for(var o="";"-"!==t.charAt(++i)&&(o+=t.charAt(i),i!=t.length););if(o!=Number(o)||"-"!==t.charAt(i))throw new Error("Illegal attachments");n.attachments=Number(o)}if("/"===t.charAt(i+1))for(n.nsp="";++i;){var s=t.charAt(i);if(","===s)break;if(n.nsp+=s,i===t.length)break}else n.nsp="/";var r=t.charAt(i+1);if(""!==r&&Number(r)==r){for(n.id="";++i;){var s=t.charAt(i);if(null==s||Number(s)!=s){--i;break}if(n.id+=t.charAt(i),i===t.length)break}n.id=Number(n.id)}if(t.charAt(++i)){var a=l(t.substr(i)),c=a!==!1&&(n.type===e.ERROR||m(a));if(!c)return d("invalid payload");n.data=a}return h("decoded %s as %j",t,n),n}function l(t){try{return JSON.parse(t)}catch(e){return!1}}function u(t){this.reconPack=t,this.buffers=[]}function d(t){return{type:e.ERROR,data:"parser error: "+t}}var h=i(3)("socket.io-parser"),f=i(8),p=i(9),m=i(10),g=i(11);e.protocol=4,e.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],e.CONNECT=0,e.DISCONNECT=1,e.EVENT=2,e.ACK=3,e.ERROR=4,e.BINARY_EVENT=5,e.BINARY_ACK=6,e.Encoder=n,e.Decoder=a;var y=e.ERROR+'"encode error"';n.prototype.encode=function(t,i){if(h("encoding packet %j",t),e.BINARY_EVENT===t.type||e.BINARY_ACK===t.type)r(t,i);else{var n=o(t);i([n])}},f(a.prototype),a.prototype.add=function(t){var i;if("string"==typeof t)i=c(t),e.BINARY_EVENT===i.type||e.BINARY_ACK===i.type?(this.reconstructor=new u(i),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",i)):this.emit("decoded",i);else{if(!g(t)&&!t.base64)throw new Error("Unknown type: "+t);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");i=this.reconstructor.takeBinaryData(t),i&&(this.reconstructor=null,this.emit("decoded",i))}},a.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},u.prototype.takeBinaryData=function(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){var e=p.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null},u.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},function(t,e,i){function n(t){if(t)return o(t)}function o(t){for(var e in n.prototype)t[e]=n.prototype[e];return t}t.exports=n,n.prototype.on=n.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},n.prototype.once=function(t,e){function i(){this.off(t,i),e.apply(this,arguments)}return i.fn=e,this.on(t,i),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var i=this._callbacks["$"+t];if(!i)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var n,o=0;o<i.length;o++)if(n=i[o],n===e||n.fn===e){i.splice(o,1);break}return this},n.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),i=this._callbacks["$"+t];if(i){i=i.slice(0);for(var n=0,o=i.length;n<o;++n)i[n].apply(this,e)}return this},n.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},n.prototype.hasListeners=function(t){return!!this.listeners(t).length}},function(t,e,i){function n(t,e){if(!t)return t;if(r(t)){var i={_placeholder:!0,num:e.length};return e.push(t),i}if(s(t)){for(var o=new Array(t.length),a=0;a<t.length;a++)o[a]=n(t[a],e);return o}if("object"==typeof t&&!(t instanceof Date)){var o={};for(var c in t)o[c]=n(t[c],e);return o}return t}function o(t,e){if(!t)return t;if(t&&t._placeholder)return e[t.num];if(s(t))for(var i=0;i<t.length;i++)t[i]=o(t[i],e);else if("object"==typeof t)for(var n in t)t[n]=o(t[n],e);return t}var s=i(10),r=i(11),a=Object.prototype.toString,c="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===a.call(Blob),l="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===a.call(File);e.deconstructPacket=function(t){var e=[],i=t.data,o=t;return o.data=n(i,e),o.attachments=e.length,{packet:o,buffers:e}},e.reconstructPacket=function(t,e){return t.data=o(t.data,e),t.attachments=void 0,t},e.removeBlobs=function(t,e){function i(t,a,u){if(!t)return t;if(c&&t instanceof Blob||l&&t instanceof File){n++;var d=new FileReader;d.onload=function(){u?u[a]=this.result:o=this.result,--n||e(o)},d.readAsArrayBuffer(t)}else if(s(t))for(var h=0;h<t.length;h++)i(t[h],h,t);else if("object"==typeof t&&!r(t))for(var f in t)i(t[f],f,t)}var n=0,o=t;i(o),n||e(o)}},function(t,e){var i={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==i.call(t)}},function(t,e){function i(t){return n&&Buffer.isBuffer(t)||o&&(t instanceof ArrayBuffer||s(t))}t.exports=i;var n="function"==typeof Buffer&&"function"==typeof Buffer.isBuffer,o="function"==typeof ArrayBuffer,s=function(t){return"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer}},function(t,e,i){"use strict";function n(t,e){if(!(this instanceof n))return new n(t,e);t&&"object"===("undefined"==typeof t?"undefined":o(t))&&(e=t,t=void 0),e=e||{},e.path=e.path||"/socket.io",this.nsps={},this.subs=[],this.opts=e,this.reconnection(e.reconnection!==!1),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor(e.randomizationFactor||.5),this.backoff=new f({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==e.timeout?2e4:e.timeout),this.readyState="closed",this.uri=t,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var i=e.parser||c;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this.autoConnect=e.autoConnect!==!1,this.autoConnect&&this.open()}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=i(13),r=i(36),a=i(8),c=i(7),l=i(38),u=i(39),d=i(3)("socket.io-client:manager"),h=i(35),f=i(40),p=Object.prototype.hasOwnProperty;t.exports=n,n.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var t in this.nsps)p.call(this.nsps,t)&&this.nsps[t].emit.apply(this.nsps[t],arguments)},n.prototype.updateSocketIds=function(){for(var t in this.nsps)p.call(this.nsps,t)&&(this.nsps[t].id=this.generateId(t))},n.prototype.generateId=function(t){return("/"===t?"":t+"#")+this.engine.id},a(n.prototype),n.prototype.reconnection=function(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection},n.prototype.reconnectionAttempts=function(t){return arguments.length?(this._reconnectionAttempts=t,this):this._reconnectionAttempts},n.prototype.reconnectionDelay=function(t){return arguments.length?(this._reconnectionDelay=t,this.backoff&&this.backoff.setMin(t),this):this._reconnectionDelay},n.prototype.randomizationFactor=function(t){return arguments.length?(this._randomizationFactor=t,this.backoff&&this.backoff.setJitter(t),this):this._randomizationFactor},n.prototype.reconnectionDelayMax=function(t){return arguments.length?(this._reconnectionDelayMax=t,this.backoff&&this.backoff.setMax(t),this):this._reconnectionDelayMax},n.prototype.timeout=function(t){return arguments.length?(this._timeout=t,this):this._timeout},n.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},n.prototype.open=n.prototype.connect=function(t,e){if(d("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;d("opening %s",this.uri),this.engine=s(this.uri,this.opts);var i=this.engine,n=this;this.readyState="opening",this.skipReconnect=!1;var o=l(i,"open",function(){n.onopen(),t&&t()}),r=l(i,"error",function(e){if(d("connect_error"),n.cleanup(),n.readyState="closed",n.emitAll("connect_error",e),t){var i=new Error("Connection error");i.data=e,t(i)}else n.maybeReconnectOnOpen()});if(!1!==this._timeout){var a=this._timeout;d("connect attempt will timeout after %d",a);var c=setTimeout(function(){d("connect attempt timed out after %d",a),o.destroy(),i.close(),i.emit("error","timeout"),n.emitAll("connect_timeout",a)},a);this.subs.push({destroy:function(){clearTimeout(c)}})}return this.subs.push(o),this.subs.push(r),this},n.prototype.onopen=function(){d("open"),this.cleanup(),this.readyState="open",this.emit("open");var t=this.engine;this.subs.push(l(t,"data",u(this,"ondata"))),this.subs.push(l(t,"ping",u(this,"onping"))),this.subs.push(l(t,"pong",u(this,"onpong"))),this.subs.push(l(t,"error",u(this,"onerror"))),this.subs.push(l(t,"close",u(this,"onclose"))),this.subs.push(l(this.decoder,"decoded",u(this,"ondecoded")))},n.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},n.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},n.prototype.ondata=function(t){this.decoder.add(t)},n.prototype.ondecoded=function(t){this.emit("packet",t)},n.prototype.onerror=function(t){d("error",t),this.emitAll("error",t)},n.prototype.socket=function(t,e){function i(){~h(o.connecting,n)||o.connecting.push(n)}var n=this.nsps[t];if(!n){n=new r(this,t,e),this.nsps[t]=n;var o=this;n.on("connecting",i),n.on("connect",function(){n.id=o.generateId(t)}),this.autoConnect&&i()}return n},n.prototype.destroy=function(t){var e=h(this.connecting,t);~e&&this.connecting.splice(e,1),this.connecting.length||this.close()},n.prototype.packet=function(t){d("writing packet %j",t);var e=this;t.query&&0===t.type&&(t.nsp+="?"+t.query),e.encoding?e.packetBuffer.push(t):(e.encoding=!0,this.encoder.encode(t,function(i){for(var n=0;n<i.length;n++)e.engine.write(i[n],t.options);e.encoding=!1,e.processPacketQueue()}))},n.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var t=this.packetBuffer.shift();this.packet(t)}},n.prototype.cleanup=function(){d("cleanup");for(var t=this.subs.length,e=0;e<t;e++){var i=this.subs.shift();i.destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},n.prototype.close=n.prototype.disconnect=function(){d("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},n.prototype.onclose=function(t){d("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",t),this._reconnection&&!this.skipReconnect&&this.reconnect()},n.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var t=this;if(this.backoff.attempts>=this._reconnectionAttempts)d("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var e=this.backoff.duration();d("will wait %dms before reconnect attempt",e),this.reconnecting=!0;var i=setTimeout(function(){t.skipReconnect||(d("attempting reconnect"),t.emitAll("reconnect_attempt",t.backoff.attempts),t.emitAll("reconnecting",t.backoff.attempts),t.skipReconnect||t.open(function(e){e?(d("reconnect attempt error"),t.reconnecting=!1,t.reconnect(),t.emitAll("reconnect_error",e.data)):(d("reconnect success"),t.onreconnect())}))},e);this.subs.push({destroy:function(){clearTimeout(i)}})}},n.prototype.onreconnect=function(){var t=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",t)}},function(t,e,i){t.exports=i(14),t.exports.parser=i(21)},function(t,e,i){function n(t,e){return this instanceof n?(e=e||{},t&&"object"==typeof t&&(e=t,t=null),t?(t=u(t),e.hostname=t.host,e.secure="https"===t.protocol||"wss"===t.protocol,e.port=t.port,t.query&&(e.query=t.query)):e.host&&(e.hostname=u(e.host).host),this.secure=null!=e.secure?e.secure:"undefined"!=typeof location&&"https:"===location.protocol,e.hostname&&!e.port&&(e.port=this.secure?"443":"80"),this.agent=e.agent||!1,this.hostname=e.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=e.port||("undefined"!=typeof location&&location.port?location.port:this.secure?443:80),this.query=e.query||{},"string"==typeof this.query&&(this.query=d.decode(this.query)),this.upgrade=!1!==e.upgrade,this.path=(e.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!e.forceJSONP,this.jsonp=!1!==e.jsonp,this.forceBase64=!!e.forceBase64,this.enablesXDR=!!e.enablesXDR,this.timestampParam=e.timestampParam||"t",this.timestampRequests=e.timestampRequests,this.transports=e.transports||["polling","websocket"],this.transportOptions=e.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=e.policyPort||843,this.rememberUpgrade=e.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=e.onlyBinaryUpgrades,this.perMessageDeflate=!1!==e.perMessageDeflate&&(e.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=e.pfx||null,this.key=e.key||null,this.passphrase=e.passphrase||null,this.cert=e.cert||null,this.ca=e.ca||null,this.ciphers=e.ciphers||null,this.rejectUnauthorized=void 0===e.rejectUnauthorized||e.rejectUnauthorized,this.forceNode=!!e.forceNode,this.isReactNative="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),("undefined"==typeof self||this.isReactNative)&&(e.extraHeaders&&Object.keys(e.extraHeaders).length>0&&(this.extraHeaders=e.extraHeaders),e.localAddress&&(this.localAddress=e.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,void this.open()):new n(t,e)}function o(t){var e={};for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e}var s=i(15),r=i(8),a=i(3)("engine.io-client:socket"),c=i(35),l=i(21),u=i(2),d=i(29);t.exports=n,n.priorWebsocketSuccess=!1,r(n.prototype),n.protocol=l.protocol,n.Socket=n,n.Transport=i(20),n.transports=i(15),n.parser=i(21),n.prototype.createTransport=function(t){a('creating transport "%s"',t);var e=o(this.query);e.EIO=l.protocol,e.transport=t;var i=this.transportOptions[t]||{};this.id&&(e.sid=this.id);var n=new s[t]({query:e,socket:this,agent:i.agent||this.agent,hostname:i.hostname||this.hostname,port:i.port||this.port,secure:i.secure||this.secure,path:i.path||this.path,forceJSONP:i.forceJSONP||this.forceJSONP,jsonp:i.jsonp||this.jsonp,forceBase64:i.forceBase64||this.forceBase64,enablesXDR:i.enablesXDR||this.enablesXDR,timestampRequests:i.timestampRequests||this.timestampRequests,timestampParam:i.timestampParam||this.timestampParam,policyPort:i.policyPort||this.policyPort,pfx:i.pfx||this.pfx,key:i.key||this.key,passphrase:i.passphrase||this.passphrase,cert:i.cert||this.cert,ca:i.ca||this.ca,ciphers:i.ciphers||this.ciphers,rejectUnauthorized:i.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:i.perMessageDeflate||this.perMessageDeflate,extraHeaders:i.extraHeaders||this.extraHeaders,forceNode:i.forceNode||this.forceNode,localAddress:i.localAddress||this.localAddress,requestTimeout:i.requestTimeout||this.requestTimeout,protocols:i.protocols||void 0,isReactNative:this.isReactNative});return n},n.prototype.open=function(){var t;if(this.rememberUpgrade&&n.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)t="websocket";else{if(0===this.transports.length){var e=this;return void setTimeout(function(){e.emit("error","No transports available")},0)}t=this.transports[0]}this.readyState="opening";try{t=this.createTransport(t)}catch(i){return this.transports.shift(),void this.open()}t.open(),this.setTransport(t)},n.prototype.setTransport=function(t){a("setting transport %s",t.name);var e=this;this.transport&&(a("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=t,t.on("drain",function(){e.onDrain()}).on("packet",function(t){e.onPacket(t)}).on("error",function(t){e.onError(t)}).on("close",function(){e.onClose("transport close")})},n.prototype.probe=function(t){function e(){if(h.onlyBinaryUpgrades){var e=!this.supportsBinary&&h.transport.supportsBinary;d=d||e}d||(a('probe transport "%s" opened',t),u.send([{type:"ping",data:"probe"}]),u.once("packet",function(e){if(!d)if("pong"===e.type&&"probe"===e.data){if(a('probe transport "%s" pong',t),h.upgrading=!0,h.emit("upgrading",u),!u)return;n.priorWebsocketSuccess="websocket"===u.name,a('pausing current transport "%s"',h.transport.name),h.transport.pause(function(){d||"closed"!==h.readyState&&(a("changing transport and sending upgrade packet"),l(),h.setTransport(u),u.send([{type:"upgrade"}]),h.emit("upgrade",u),u=null,h.upgrading=!1,h.flush())})}else{a('probe transport "%s" failed',t);var i=new Error("probe error");i.transport=u.name,h.emit("upgradeError",i)}}))}function i(){d||(d=!0,l(),u.close(),u=null)}function o(e){var n=new Error("probe error: "+e);n.transport=u.name,i(),a('probe transport "%s" failed because of error: %s',t,e),h.emit("upgradeError",n)}function s(){o("transport closed")}function r(){o("socket closed")}function c(t){u&&t.name!==u.name&&(a('"%s" works - aborting "%s"',t.name,u.name),i())}function l(){u.removeListener("open",e),u.removeListener("error",o),u.removeListener("close",s),h.removeListener("close",r),h.removeListener("upgrading",c)}a('probing transport "%s"',t);var u=this.createTransport(t,{probe:1}),d=!1,h=this;n.priorWebsocketSuccess=!1,u.once("open",e),u.once("error",o),u.once("close",s),this.once("close",r),this.once("upgrading",c),u.open()},n.prototype.onOpen=function(){if(a("socket open"),this.readyState="open",n.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){a("starting upgrade probes");for(var t=0,e=this.upgrades.length;t<e;t++)this.probe(this.upgrades[t])}},n.prototype.onPacket=function(t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(a('socket receive: type "%s", data "%s"',t.type,t.data),this.emit("packet",t),this.emit("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var e=new Error("server error");e.code=t.data,this.onError(e);break;case"message":this.emit("data",t.data),this.emit("message",t.data)}else a('packet received with socket readyState "%s"',this.readyState)},n.prototype.onHandshake=function(t){this.emit("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},n.prototype.onHeartbeat=function(t){clearTimeout(this.pingTimeoutTimer);var e=this;e.pingTimeoutTimer=setTimeout(function(){"closed"!==e.readyState&&e.onClose("ping timeout")},t||e.pingInterval+e.pingTimeout)},n.prototype.setPing=function(){var t=this;clearTimeout(t.pingIntervalTimer),t.pingIntervalTimer=setTimeout(function(){a("writing ping packet - expecting pong within %sms",t.pingTimeout),t.ping(),t.onHeartbeat(t.pingTimeout)},t.pingInterval)},n.prototype.ping=function(){var t=this;this.sendPacket("ping",function(){t.emit("ping")})},n.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},n.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(a("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},n.prototype.write=n.prototype.send=function(t,e,i){return this.sendPacket("message",t,e,i),this},n.prototype.sendPacket=function(t,e,i,n){if("function"==typeof e&&(n=e,e=void 0),"function"==typeof i&&(n=i,i=null),"closing"!==this.readyState&&"closed"!==this.readyState){i=i||{},i.compress=!1!==i.compress;var o={type:t,data:e,options:i};this.emit("packetCreate",o),this.writeBuffer.push(o),n&&this.once("flush",n),this.flush()}},n.prototype.close=function(){function t(){n.onClose("forced close"),a("socket closing - telling transport to close"),n.transport.close()}function e(){n.removeListener("upgrade",e),n.removeListener("upgradeError",e),t()}function i(){n.once("upgrade",e),n.once("upgradeError",e)}if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var n=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?i():t()}):this.upgrading?i():t()}return this},n.prototype.onError=function(t){a("socket error %j",t),n.priorWebsocketSuccess=!1,this.emit("error",t),this.onClose("transport error",t)},n.prototype.onClose=function(t,e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){a('socket close with reason: "%s"',t);var i=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",t,e),i.writeBuffer=[],i.prevBufferLen=0}},n.prototype.filterUpgrades=function(t){for(var e=[],i=0,n=t.length;i<n;i++)~c(this.transports,t[i])&&e.push(t[i]);return e}},function(t,e,i){function n(t){var e,i=!1,n=!1,a=!1!==t.jsonp;if("undefined"!=typeof location){var c="https:"===location.protocol,l=location.port;l||(l=c?443:80),i=t.hostname!==location.hostname||l!==t.port,n=t.secure!==c}if(t.xdomain=i,t.xscheme=n,e=new o(t),"open"in e&&!t.forceJSONP)return new s(t);if(!a)throw new Error("JSONP disabled");return new r(t)}var o=i(16),s=i(18),r=i(32),a=i(33);e.polling=n,e.websocket=a},function(t,e,i){var n=i(17);t.exports=function(t){var e=t.xdomain,i=t.xscheme,o=t.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!e||n))return new XMLHttpRequest}catch(s){}try{if("undefined"!=typeof XDomainRequest&&!i&&o)return new XDomainRequest}catch(s){}if(!e)try{return new(self[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(s){}}},function(t,e){try{t.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(i){t.exports=!1}},function(t,e,i){function n(){}function o(t){if(c.call(this,t),this.requestTimeout=t.requestTimeout,this.extraHeaders=t.extraHeaders,"undefined"!=typeof location){var e="https:"===location.protocol,i=location.port;i||(i=e?443:80),this.xd="undefined"!=typeof location&&t.hostname!==location.hostname||i!==t.port,this.xs=t.secure!==e}}function s(t){this.method=t.method||"GET",this.uri=t.uri,this.xd=!!t.xd,this.xs=!!t.xs,this.async=!1!==t.async,this.data=void 0!==t.data?t.data:null,this.agent=t.agent,this.isBinary=t.isBinary,this.supportsBinary=t.supportsBinary,this.enablesXDR=t.enablesXDR,this.requestTimeout=t.requestTimeout,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.extraHeaders=t.extraHeaders,this.create()}function r(){for(var t in s.requests)s.requests.hasOwnProperty(t)&&s.requests[t].abort()}var a=i(16),c=i(19),l=i(8),u=i(30),d=i(3)("engine.io-client:polling-xhr");if(t.exports=o,t.exports.Request=s,u(o,c),o.prototype.supportsBinary=!0,o.prototype.request=function(t){return t=t||{},t.uri=this.uri(),t.xd=this.xd,t.xs=this.xs,t.agent=this.agent||!1,t.supportsBinary=this.supportsBinary,t.enablesXDR=this.enablesXDR,t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized,t.requestTimeout=this.requestTimeout,t.extraHeaders=this.extraHeaders,new s(t)},o.prototype.doWrite=function(t,e){var i="string"!=typeof t&&void 0!==t,n=this.request({method:"POST",data:t,isBinary:i}),o=this;n.on("success",e),n.on("error",function(t){o.onError("xhr post error",t)}),this.sendXhr=n},o.prototype.doPoll=function(){d("xhr poll");var t=this.request(),e=this;t.on("data",function(t){e.onData(t)}),t.on("error",function(t){e.onError("xhr poll error",t)}),this.pollXhr=t},l(s.prototype),s.prototype.create=function(){var t={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized;var e=this.xhr=new a(t),i=this;try{d("xhr open %s: %s",this.method,this.uri),e.open(this.method,this.uri,this.async);try{if(this.extraHeaders){e.setDisableHeaderCheck&&e.setDisableHeaderCheck(!0);for(var n in this.extraHeaders)this.extraHeaders.hasOwnProperty(n)&&e.setRequestHeader(n,this.extraHeaders[n])}}catch(o){}if("POST"===this.method)try{this.isBinary?e.setRequestHeader("Content-type","application/octet-stream"):e.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(o){}try{e.setRequestHeader("Accept","*/*")}catch(o){}"withCredentials"in e&&(e.withCredentials=!0),this.requestTimeout&&(e.timeout=this.requestTimeout),this.hasXDR()?(e.onload=function(){i.onLoad()},e.onerror=function(){i.onError(e.responseText)}):e.onreadystatechange=function(){if(2===e.readyState)try{var t=e.getResponseHeader("Content-Type");i.supportsBinary&&"application/octet-stream"===t&&(e.responseType="arraybuffer")}catch(n){}4===e.readyState&&(200===e.status||1223===e.status?i.onLoad():setTimeout(function(){i.onError(e.status)},0))},d("xhr data %s",this.data),e.send(this.data)}catch(o){return void setTimeout(function(){i.onError(o)},0)}"undefined"!=typeof document&&(this.index=s.requestsCount++,s.requests[this.index]=this)},s.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},s.prototype.onData=function(t){this.emit("data",t),this.onSuccess()},s.prototype.onError=function(t){this.emit("error",t),this.cleanup(!0)},s.prototype.cleanup=function(t){if("undefined"!=typeof this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=n:this.xhr.onreadystatechange=n,t)try{this.xhr.abort()}catch(e){}"undefined"!=typeof document&&delete s.requests[this.index],this.xhr=null}},s.prototype.onLoad=function(){var t;try{var e;try{e=this.xhr.getResponseHeader("Content-Type")}catch(i){}t="application/octet-stream"===e?this.xhr.response||this.xhr.responseText:this.xhr.responseText}catch(i){this.onError(i)}null!=t&&this.onData(t)},s.prototype.hasXDR=function(){return"undefined"!=typeof XDomainRequest&&!this.xs&&this.enablesXDR},s.prototype.abort=function(){this.cleanup()},s.requestsCount=0,s.requests={},"undefined"!=typeof document)if("function"==typeof attachEvent)attachEvent("onunload",r);else if("function"==typeof addEventListener){var h="onpagehide"in self?"pagehide":"unload";addEventListener(h,r,!1)}},function(t,e,i){function n(t){var e=t&&t.forceBase64;u&&!e||(this.supportsBinary=!1),o.call(this,t)}var o=i(20),s=i(29),r=i(21),a=i(30),c=i(31),l=i(3)("engine.io-client:polling");t.exports=n;var u=function(){var t=i(16),e=new t({xdomain:!1});return null!=e.responseType}();a(n,o),n.prototype.name="polling",n.prototype.doOpen=function(){this.poll()},n.prototype.pause=function(t){function e(){l("paused"),i.readyState="paused",t()}var i=this;if(this.readyState="pausing",this.polling||!this.writable){var n=0;this.polling&&(l("we are currently polling - waiting to pause"),n++,this.once("pollComplete",function(){l("pre-pause polling complete"),--n||e()})),this.writable||(l("we are currently writing - waiting to pause"),n++,this.once("drain",function(){l("pre-pause writing complete"),--n||e()}))}else e()},n.prototype.poll=function(){l("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},n.prototype.onData=function(t){var e=this;l("polling got data %s",t);var i=function(t,i,n){return"opening"===e.readyState&&e.onOpen(),"close"===t.type?(e.onClose(),!1):void e.onPacket(t)};r.decodePayload(t,this.socket.binaryType,i),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():l('ignoring poll - transport state "%s"',this.readyState))},n.prototype.doClose=function(){function t(){l("writing close packet"),e.write([{type:"close"}])}var e=this;"open"===this.readyState?(l("transport open - closing"),t()):(l("transport not open - deferring close"),this.once("open",t))},n.prototype.write=function(t){var e=this;this.writable=!1;var i=function(){e.writable=!0,e.emit("drain")};r.encodePayload(t,this.supportsBinary,function(t){e.doWrite(t,i)})},n.prototype.uri=function(){var t=this.query||{},e=this.secure?"https":"http",i="";!1!==this.timestampRequests&&(t[this.timestampParam]=c()),this.supportsBinary||t.sid||(t.b64=1),t=s.encode(t),this.port&&("https"===e&&443!==Number(this.port)||"http"===e&&80!==Number(this.port))&&(i=":"+this.port),t.length&&(t="?"+t);var n=this.hostname.indexOf(":")!==-1;return e+"://"+(n?"["+this.hostname+"]":this.hostname)+i+this.path+t}},function(t,e,i){function n(t){this.path=t.path,this.hostname=t.hostname,this.port=t.port,this.secure=t.secure,this.query=t.query,this.timestampParam=t.timestampParam,this.timestampRequests=t.timestampRequests,this.readyState="",this.agent=t.agent||!1,this.socket=t.socket,this.enablesXDR=t.enablesXDR,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.forceNode=t.forceNode,this.isReactNative=t.isReactNative,this.extraHeaders=t.extraHeaders,this.localAddress=t.localAddress}var o=i(21),s=i(8);t.exports=n,s(n.prototype),n.prototype.onError=function(t,e){var i=new Error(t);return i.type="TransportError",i.description=e,this.emit("error",i),this},n.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},n.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},n.prototype.send=function(t){if("open"!==this.readyState)throw new Error("Transport not open");this.write(t)},n.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},n.prototype.onData=function(t){var e=o.decodePacket(t,this.socket.binaryType);this.onPacket(e)},n.prototype.onPacket=function(t){this.emit("packet",t)},n.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},function(t,e,i){function n(t,i){var n="b"+e.packets[t.type]+t.data.data;return i(n)}function o(t,i,n){if(!i)return e.encodeBase64Packet(t,n);var o=t.data,s=new Uint8Array(o),r=new Uint8Array(1+o.byteLength);r[0]=v[t.type];for(var a=0;a<s.length;a++)r[a+1]=s[a];return n(r.buffer)}function s(t,i,n){if(!i)return e.encodeBase64Packet(t,n);var o=new FileReader;return o.onload=function(){e.encodePacket({type:t.type,data:o.result},i,!0,n)},o.readAsArrayBuffer(t.data)}function r(t,i,n){if(!i)return e.encodeBase64Packet(t,n);if(y)return s(t,i,n);var o=new Uint8Array(1);o[0]=v[t.type];var r=new I([o.buffer,t.data]);return n(r)}function a(t){try{t=p.decode(t,{strict:!1})}catch(e){return!1}return t}function c(t,e,i){for(var n=new Array(t.length),o=f(t.length,i),s=function(t,i,o){e(i,function(e,i){n[t]=i,o(e,n)})},r=0;r<t.length;r++)s(r,t[r],o)}var l,u=i(22),d=i(23),h=i(24),f=i(25),p=i(26);"undefined"!=typeof ArrayBuffer&&(l=i(27));var m="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),g="undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),y=m||g;e.protocol=3;var v=e.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},b=u(v),O={type:"error",data:"parser error"},I=i(28);e.encodePacket=function(t,e,i,s){"function"==typeof e&&(s=e,e=!1),"function"==typeof i&&(s=i,i=null);var a=void 0===t.data?void 0:t.data.buffer||t.data;if("undefined"!=typeof ArrayBuffer&&a instanceof ArrayBuffer)return o(t,e,s);if("undefined"!=typeof I&&a instanceof I)return r(t,e,s);if(a&&a.base64)return n(t,s);var c=v[t.type];return void 0!==t.data&&(c+=i?p.encode(String(t.data),{strict:!1}):String(t.data)),s(""+c)},e.encodeBase64Packet=function(t,i){var n="b"+e.packets[t.type];if("undefined"!=typeof I&&t.data instanceof I){var o=new FileReader;return o.onload=function(){var t=o.result.split(",")[1];i(n+t)},o.readAsDataURL(t.data)}var s;try{s=String.fromCharCode.apply(null,new Uint8Array(t.data))}catch(r){for(var a=new Uint8Array(t.data),c=new Array(a.length),l=0;l<a.length;l++)c[l]=a[l];s=String.fromCharCode.apply(null,c)}return n+=btoa(s),i(n)},e.decodePacket=function(t,i,n){if(void 0===t)return O;if("string"==typeof t){if("b"===t.charAt(0))return e.decodeBase64Packet(t.substr(1),i);if(n&&(t=a(t),t===!1))return O;var o=t.charAt(0);return Number(o)==o&&b[o]?t.length>1?{type:b[o],data:t.substring(1)}:{type:b[o]}:O}var s=new Uint8Array(t),o=s[0],r=h(t,1);return I&&"blob"===i&&(r=new I([r])),{type:b[o],data:r}},e.decodeBase64Packet=function(t,e){var i=b[t.charAt(0)];if(!l)return{type:i,data:{base64:!0,data:t.substr(1)}};var n=l.decode(t.substr(1));return"blob"===e&&I&&(n=new I([n])),{type:i,data:n}},e.encodePayload=function(t,i,n){function o(t){return t.length+":"+t}function s(t,n){e.encodePacket(t,!!r&&i,!1,function(t){n(null,o(t))})}"function"==typeof i&&(n=i,i=null);var r=d(t);return i&&r?I&&!y?e.encodePayloadAsBlob(t,n):e.encodePayloadAsArrayBuffer(t,n):t.length?void c(t,s,function(t,e){return n(e.join(""))}):n("0:")},e.decodePayload=function(t,i,n){if("string"!=typeof t)return e.decodePayloadAsBinary(t,i,n);"function"==typeof i&&(n=i,i=null);var o;if(""===t)return n(O,0,1);for(var s,r,a="",c=0,l=t.length;c<l;c++){var u=t.charAt(c);if(":"===u){if(""===a||a!=(s=Number(a)))return n(O,0,1);if(r=t.substr(c+1,s),a!=r.length)return n(O,0,1);if(r.length){if(o=e.decodePacket(r,i,!1),O.type===o.type&&O.data===o.data)return n(O,0,1);var d=n(o,c+s,l);if(!1===d)return}c+=s,a=""}else a+=u}return""!==a?n(O,0,1):void 0},e.encodePayloadAsArrayBuffer=function(t,i){function n(t,i){e.encodePacket(t,!0,!0,function(t){return i(null,t)})}return t.length?void c(t,n,function(t,e){var n=e.reduce(function(t,e){var i;return i="string"==typeof e?e.length:e.byteLength,t+i.toString().length+i+2},0),o=new Uint8Array(n),s=0;return e.forEach(function(t){var e="string"==typeof t,i=t;if(e){for(var n=new Uint8Array(t.length),r=0;r<t.length;r++)n[r]=t.charCodeAt(r);i=n.buffer}e?o[s++]=0:o[s++]=1;for(var a=i.byteLength.toString(),r=0;r<a.length;r++)o[s++]=parseInt(a[r]);o[s++]=255;for(var n=new Uint8Array(i),r=0;r<n.length;r++)o[s++]=n[r]}),i(o.buffer)}):i(new ArrayBuffer(0))},e.encodePayloadAsBlob=function(t,i){function n(t,i){e.encodePacket(t,!0,!0,function(t){var e=new Uint8Array(1);if(e[0]=1,"string"==typeof t){for(var n=new Uint8Array(t.length),o=0;o<t.length;o++)n[o]=t.charCodeAt(o);t=n.buffer,e[0]=0}for(var s=t instanceof ArrayBuffer?t.byteLength:t.size,r=s.toString(),a=new Uint8Array(r.length+1),o=0;o<r.length;o++)a[o]=parseInt(r[o]);if(a[r.length]=255,I){var c=new I([e.buffer,a.buffer,t]);i(null,c)}})}c(t,n,function(t,e){return i(new I(e))})},e.decodePayloadAsBinary=function(t,i,n){"function"==typeof i&&(n=i,i=null);for(var o=t,s=[];o.byteLength>0;){for(var r=new Uint8Array(o),a=0===r[0],c="",l=1;255!==r[l];l++){if(c.length>310)return n(O,0,1);c+=r[l]}o=h(o,2+c.length),c=parseInt(c);var u=h(o,0,c);if(a)try{u=String.fromCharCode.apply(null,new Uint8Array(u))}catch(d){var f=new Uint8Array(u);u="";for(var l=0;l<f.length;l++)u+=String.fromCharCode(f[l])}s.push(u),o=h(o,c)}var p=s.length;s.forEach(function(t,o){n(e.decodePacket(t,i,!0),o,p)})}},function(t,e){t.exports=Object.keys||function(t){var e=[],i=Object.prototype.hasOwnProperty;for(var n in t)i.call(t,n)&&e.push(n);return e}},function(t,e,i){function n(t){if(!t||"object"!=typeof t)return!1;if(o(t)){for(var e=0,i=t.length;e<i;e++)if(n(t[e]))return!0;return!1}if("function"==typeof Buffer&&Buffer.isBuffer&&Buffer.isBuffer(t)||"function"==typeof ArrayBuffer&&t instanceof ArrayBuffer||r&&t instanceof Blob||a&&t instanceof File)return!0;if(t.toJSON&&"function"==typeof t.toJSON&&1===arguments.length)return n(t.toJSON(),!0);for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)&&n(t[s]))return!0;return!1}var o=i(10),s=Object.prototype.toString,r="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===s.call(Blob),a="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===s.call(File);t.exports=n},function(t,e){t.exports=function(t,e,i){var n=t.byteLength;if(e=e||0,i=i||n,t.slice)return t.slice(e,i);if(e<0&&(e+=n),i<0&&(i+=n),i>n&&(i=n),e>=n||e>=i||0===n)return new ArrayBuffer(0);for(var o=new Uint8Array(t),s=new Uint8Array(i-e),r=e,a=0;r<i;r++,a++)s[a]=o[r];return s.buffer}},function(t,e){function i(t,e,i){function o(t,n){if(o.count<=0)throw new Error("after called too many times");--o.count,t?(s=!0,e(t),e=i):0!==o.count||s||e(null,n)}var s=!1;return i=i||n,o.count=t,0===t?e():o}function n(){}t.exports=i},function(t,e){function i(t){for(var e,i,n=[],o=0,s=t.length;o<s;)e=t.charCodeAt(o++),e>=55296&&e<=56319&&o<s?(i=t.charCodeAt(o++),56320==(64512&i)?n.push(((1023&e)<<10)+(1023&i)+65536):(n.push(e),o--)):n.push(e);return n}function n(t){for(var e,i=t.length,n=-1,o="";++n<i;)e=t[n],e>65535&&(e-=65536,o+=p(e>>>10&1023|55296),e=56320|1023&e),o+=p(e);return o}function o(t,e){if(t>=55296&&t<=57343){if(e)throw Error("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function s(t,e){return p(t>>e&63|128)}function r(t,e){if(0==(4294967168&t))return p(t);var i="";return 0==(4294965248&t)?i=p(t>>6&31|192):0==(4294901760&t)?(o(t,e)||(t=65533),i=p(t>>12&15|224),i+=s(t,6)):0==(4292870144&t)&&(i=p(t>>18&7|240),i+=s(t,12),i+=s(t,6)),i+=p(63&t|128)}function a(t,e){e=e||{};for(var n,o=!1!==e.strict,s=i(t),a=s.length,c=-1,l="";++c<a;)n=s[c],l+=r(n,o);return l}function c(){if(f>=h)throw Error("Invalid byte index");var t=255&d[f];if(f++,128==(192&t))return 63&t;throw Error("Invalid continuation byte")}function l(t){var e,i,n,s,r;if(f>h)throw Error("Invalid byte index");if(f==h)return!1;if(e=255&d[f],f++,0==(128&e))return e;if(192==(224&e)){if(i=c(),r=(31&e)<<6|i,r>=128)return r;throw Error("Invalid continuation byte")}if(224==(240&e)){if(i=c(),n=c(),r=(15&e)<<12|i<<6|n,r>=2048)return o(r,t)?r:65533;throw Error("Invalid continuation byte")}if(240==(248&e)&&(i=c(),n=c(),s=c(),r=(7&e)<<18|i<<12|n<<6|s,r>=65536&&r<=1114111))return r;throw Error("Invalid UTF-8 detected")}function u(t,e){e=e||{};var o=!1!==e.strict;d=i(t),h=d.length,f=0;for(var s,r=[];(s=l(o))!==!1;)r.push(s);return n(r)}var d,h,f,p=String.fromCharCode;t.exports={version:"2.1.2",encode:a,decode:u}},function(t,e){!function(){"use strict";for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=new Uint8Array(256),n=0;n<t.length;n++)i[t.charCodeAt(n)]=n;e.encode=function(e){var i,n=new Uint8Array(e),o=n.length,s="";for(i=0;i<o;i+=3)s+=t[n[i]>>2],s+=t[(3&n[i])<<4|n[i+1]>>4],s+=t[(15&n[i+1])<<2|n[i+2]>>6],s+=t[63&n[i+2]];return o%3===2?s=s.substring(0,s.length-1)+"=":o%3===1&&(s=s.substring(0,s.length-2)+"=="),s},e.decode=function(t){var e,n,o,s,r,a=.75*t.length,c=t.length,l=0;"="===t[t.length-1]&&(a--,"="===t[t.length-2]&&a--);var u=new ArrayBuffer(a),d=new Uint8Array(u);for(e=0;e<c;e+=4)n=i[t.charCodeAt(e)],o=i[t.charCodeAt(e+1)],s=i[t.charCodeAt(e+2)],r=i[t.charCodeAt(e+3)],d[l++]=n<<2|o>>4,d[l++]=(15&o)<<4|s>>2,d[l++]=(3&s)<<6|63&r;return u}}()},function(t,e){function i(t){return t.map(function(t){if(t.buffer instanceof ArrayBuffer){var e=t.buffer;if(t.byteLength!==e.byteLength){var i=new Uint8Array(t.byteLength);i.set(new Uint8Array(e,t.byteOffset,t.byteLength)),e=i.buffer}return e}return t})}function n(t,e){e=e||{};var n=new s;return i(t).forEach(function(t){n.append(t)}),e.type?n.getBlob(e.type):n.getBlob()}function o(t,e){return new Blob(i(t),e||{})}var s="undefined"!=typeof s?s:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder&&MozBlobBuilder,r=function(){try{var t=new Blob(["hi"]);return 2===t.size}catch(e){return!1}}(),a=r&&function(){try{var t=new Blob([new Uint8Array([1,2])]);return 2===t.size}catch(e){return!1}}(),c=s&&s.prototype.append&&s.prototype.getBlob;"undefined"!=typeof Blob&&(n.prototype=Blob.prototype,o.prototype=Blob.prototype),t.exports=function(){return r?a?Blob:o:c?n:void 0}()},function(t,e){e.encode=function(t){var e="";for(var i in t)t.hasOwnProperty(i)&&(e.length&&(e+="&"),e+=encodeURIComponent(i)+"="+encodeURIComponent(t[i]));return e},e.decode=function(t){for(var e={},i=t.split("&"),n=0,o=i.length;n<o;n++){var s=i[n].split("=");e[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return e}},function(t,e){t.exports=function(t,e){var i=function(){};i.prototype=e.prototype,t.prototype=new i,t.prototype.constructor=t}},function(t,e){"use strict";function i(t){var e="";do e=r[t%a]+e,t=Math.floor(t/a);while(t>0);return e}function n(t){var e=0;for(u=0;u<t.length;u++)e=e*a+c[t.charAt(u)];return e}function o(){var t=i(+new Date);return t!==s?(l=0,s=t):t+"."+i(l++)}for(var s,r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),a=64,c={},l=0,u=0;u<a;u++)c[r[u]]=u;o.encode=i,o.decode=n,t.exports=o},function(t,e,i){(function(e){function n(){}function o(){return"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof e?e:{}}function s(t){if(r.call(this,t),this.query=this.query||{},!c){var e=o();c=e.___eio=e.___eio||[]}this.index=c.length;var i=this;c.push(function(t){i.onData(t)}),this.query.j=this.index,"function"==typeof addEventListener&&addEventListener("beforeunload",function(){i.script&&(i.script.onerror=n)},!1)}var r=i(19),a=i(30);t.exports=s;var c,l=/\n/g,u=/\\n/g;a(s,r),s.prototype.supportsBinary=!1,s.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),r.prototype.doClose.call(this)},s.prototype.doPoll=function(){var t=this,e=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),e.async=!0,e.src=this.uri(),e.onerror=function(e){t.onError("jsonp poll error",e)};var i=document.getElementsByTagName("script")[0];i?i.parentNode.insertBefore(e,i):(document.head||document.body).appendChild(e),this.script=e;var n="undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent);n&&setTimeout(function(){var t=document.createElement("iframe");document.body.appendChild(t),document.body.removeChild(t)},100)},s.prototype.doWrite=function(t,e){function i(){n(),e()}function n(){if(o.iframe)try{o.form.removeChild(o.iframe)}catch(t){o.onError("jsonp polling iframe removal error",t)}try{var e='<iframe src="javascript:0" name="'+o.iframeId+'">';s=document.createElement(e)}catch(t){s=document.createElement("iframe"),s.name=o.iframeId,s.src="javascript:0"}s.id=o.iframeId,o.form.appendChild(s),o.iframe=s}var o=this;if(!this.form){var s,r=document.createElement("form"),a=document.createElement("textarea"),c=this.iframeId="eio_iframe_"+this.index;r.className="socketio",r.style.position="absolute",r.style.top="-1000px",r.style.left="-1000px",r.target=c,r.method="POST",r.setAttribute("accept-charset","utf-8"),a.name="d",r.appendChild(a),document.body.appendChild(r),this.form=r,this.area=a}this.form.action=this.uri(),n(),t=t.replace(u,"\\\n"),this.area.value=t.replace(l,"\\n");try{this.form.submit()}catch(d){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===o.iframe.readyState&&i()}:this.iframe.onload=i}}).call(e,function(){return this}())},function(t,e,i){function n(t){var e=t&&t.forceBase64;e&&(this.supportsBinary=!1),this.perMessageDeflate=t.perMessageDeflate,this.usingBrowserWebSocket=o&&!t.forceNode,this.protocols=t.protocols,this.usingBrowserWebSocket||(f=s),r.call(this,t)}var o,s,r=i(20),a=i(21),c=i(29),l=i(30),u=i(31),d=i(3)("engine.io-client:websocket");if("undefined"==typeof self)try{s=i(34)}catch(h){}else o=self.WebSocket||self.MozWebSocket;var f=o||s;t.exports=n,l(n,r),n.prototype.name="websocket",n.prototype.supportsBinary=!0,n.prototype.doOpen=function(){if(this.check()){var t=this.uri(),e=this.protocols,i={agent:this.agent,perMessageDeflate:this.perMessageDeflate};i.pfx=this.pfx,i.key=this.key,i.passphrase=this.passphrase,i.cert=this.cert,i.ca=this.ca,i.ciphers=this.ciphers,i.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(i.headers=this.extraHeaders),this.localAddress&&(i.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket&&!this.isReactNative?e?new f(t,e):new f(t):new f(t,e,i)}catch(n){return this.emit("error",n)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},n.prototype.addEventListeners=function(){var t=this;this.ws.onopen=function(){t.onOpen()},this.ws.onclose=function(){t.onClose()},this.ws.onmessage=function(e){t.onData(e.data)},this.ws.onerror=function(e){t.onError("websocket error",e)}},n.prototype.write=function(t){function e(){i.emit("flush"),setTimeout(function(){i.writable=!0,i.emit("drain")},0)}var i=this;this.writable=!1;for(var n=t.length,o=0,s=n;o<s;o++)!function(t){a.encodePacket(t,i.supportsBinary,function(o){if(!i.usingBrowserWebSocket){var s={};if(t.options&&(s.compress=t.options.compress),i.perMessageDeflate){var r="string"==typeof o?Buffer.byteLength(o):o.length;r<i.perMessageDeflate.threshold&&(s.compress=!1)}}try{i.usingBrowserWebSocket?i.ws.send(o):i.ws.send(o,s)}catch(a){d("websocket closed before onclose event")}--n||e()})}(t[o])},n.prototype.onClose=function(){r.prototype.onClose.call(this)},n.prototype.doClose=function(){"undefined"!=typeof this.ws&&this.ws.close()},n.prototype.uri=function(){var t=this.query||{},e=this.secure?"wss":"ws",i="";this.port&&("wss"===e&&443!==Number(this.port)||"ws"===e&&80!==Number(this.port))&&(i=":"+this.port),this.timestampRequests&&(t[this.timestampParam]=u()),this.supportsBinary||(t.b64=1),t=c.encode(t),t.length&&(t="?"+t);var n=this.hostname.indexOf(":")!==-1;return e+"://"+(n?"["+this.hostname+"]":this.hostname)+i+this.path+t},n.prototype.check=function(){return!(!f||"__initialize"in f&&this.name===n.prototype.name)}},function(t,e){},function(t,e){var i=[].indexOf;t.exports=function(t,e){if(i)return t.indexOf(e);for(var n=0;n<t.length;++n)if(t[n]===e)return n;return-1}},function(t,e,i){"use strict";function n(t,e,i){this.io=t,this.nsp=e,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},i&&i.query&&(this.query=i.query),this.io.autoConnect&&this.open()}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=i(7),r=i(8),a=i(37),c=i(38),l=i(39),u=i(3)("socket.io-client:socket"),d=i(29),h=i(23);t.exports=e=n;var f={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},p=r.prototype.emit;r(n.prototype),n.prototype.subEvents=function(){if(!this.subs){var t=this.io;this.subs=[c(t,"open",l(this,"onopen")),c(t,"packet",l(this,"onpacket")),c(t,"close",l(this,"onclose"))]}},n.prototype.open=n.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting"),this)},n.prototype.send=function(){var t=a(arguments);return t.unshift("message"),this.emit.apply(this,t),this},n.prototype.emit=function(t){if(f.hasOwnProperty(t))return p.apply(this,arguments),this;var e=a(arguments),i={type:(void 0!==this.flags.binary?this.flags.binary:h(e))?s.BINARY_EVENT:s.EVENT,data:e};return i.options={},i.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof e[e.length-1]&&(u("emitting packet with ack id %d",this.ids),this.acks[this.ids]=e.pop(),i.id=this.ids++),this.connected?this.packet(i):this.sendBuffer.push(i),this.flags={},this},n.prototype.packet=function(t){t.nsp=this.nsp,this.io.packet(t)},n.prototype.onopen=function(){if(u("transport is open - connecting"),"/"!==this.nsp)if(this.query){var t="object"===o(this.query)?d.encode(this.query):this.query;u("sending connect packet with query %s",t),this.packet({type:s.CONNECT,query:t})}else this.packet({type:s.CONNECT})},n.prototype.onclose=function(t){u("close (%s)",t),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",t)},n.prototype.onpacket=function(t){var e=t.nsp===this.nsp,i=t.type===s.ERROR&&"/"===t.nsp;if(e||i)switch(t.type){case s.CONNECT:this.onconnect();break;case s.EVENT:this.onevent(t);break;case s.BINARY_EVENT:this.onevent(t);break;case s.ACK:this.onack(t);break;case s.BINARY_ACK:this.onack(t);break;case s.DISCONNECT:this.ondisconnect();break;case s.ERROR:this.emit("error",t.data)}},n.prototype.onevent=function(t){var e=t.data||[];u("emitting event %j",e),null!=t.id&&(u("attaching ack callback to event"),e.push(this.ack(t.id))),this.connected?p.apply(this,e):this.receiveBuffer.push(e)},n.prototype.ack=function(t){var e=this,i=!1;return function(){if(!i){i=!0;var n=a(arguments);u("sending ack %j",n),e.packet({type:h(n)?s.BINARY_ACK:s.ACK,id:t,data:n})}}},n.prototype.onack=function(t){var e=this.acks[t.id];"function"==typeof e?(u("calling ack %s with %j",t.id,t.data),e.apply(this,t.data),delete this.acks[t.id]):u("bad ack %s",t.id)},n.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},n.prototype.emitBuffered=function(){var t;for(t=0;t<this.receiveBuffer.length;t++)p.apply(this,this.receiveBuffer[t]);for(this.receiveBuffer=[],t=0;t<this.sendBuffer.length;t++)this.packet(this.sendBuffer[t]);this.sendBuffer=[]},n.prototype.ondisconnect=function(){u("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},n.prototype.destroy=function(){if(this.subs){for(var t=0;t<this.subs.length;t++)this.subs[t].destroy();this.subs=null}this.io.destroy(this)},n.prototype.close=n.prototype.disconnect=function(){return this.connected&&(u("performing disconnect (%s)",this.nsp),this.packet({type:s.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},n.prototype.compress=function(t){return this.flags.compress=t,this},n.prototype.binary=function(t){return this.flags.binary=t,this}},function(t,e){function i(t,e){var i=[];e=e||0;for(var n=e||0;n<t.length;n++)i[n-e]=t[n];return i}t.exports=i},function(t,e){"use strict";function i(t,e,i){return t.on(e,i),{destroy:function(){t.removeListener(e,i)}}}t.exports=i},function(t,e){var i=[].slice;t.exports=function(t,e){if("string"==typeof e&&(e=t[e]),"function"!=typeof e)throw new Error("bind() requires a function");var n=i.call(arguments,2);return function(){return e.apply(t,n.concat(i.call(arguments)))}}},function(t,e){function i(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}t.exports=i,i.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),i=Math.floor(e*this.jitter*t);t=0==(1&Math.floor(10*e))?t-i:t+i}return 0|Math.min(t,this.max)},i.prototype.reset=function(){this.attempts=0},i.prototype.setMin=function(t){this.ms=t},i.prototype.setMax=function(t){this.max=t},i.prototype.setJitter=function(t){this.jitter=t}}])}),SOCIOMILE.riot.tag2("sociomile-alert",'<div class="sociomile-container alert"> <h4>{opts.title}</h4> <ul if="{opts.messages && opts.messages.length > 0}"> <li each="{message in opts.messages}">{message}</li> </ul> <button class="sociomile-alert-btn btn-danger-outline" onclick="{ok}">Ok</button> </div>',"","",function(t){this.ok=function(){this.unmount()}.bind(this)}),SOCIOMILE.riot.tag2("sociomile-chat",'<div if="{section == \'upload\'}" class="sociomile-container sociomile-upload"> <div class="sociomile-top" riot-style="background: #{customColor};"> <div class="sociomile-title">{SOCIOMILE.custom_cs_text ? SOCIOMILE.custom_cs_text : SOCIOMILE.name} </div> </div> <div class="sociomile-popup-main"> <div class="nav-logout" onclick="{uploadCancel}"><i class="ion ion-close-round"></i></div> <div class="sociomile-popup-body sc-upload-form"> <input type="file" name="file" id="file" class="inputfile" onchange="{uploadValidation}"> <label for="file"> <span title="Upload File Max 2MB">Choose file to upload</span> <p class="sociomile-text-info">{fileName}</p> <p class="sociomile-upload-info"> Maksimum size 2Mb<br> Only Image, Office, PDF, TXT </p> </label> </div> <div class="sociomile-popup-bottom"> <button type="button" __disabled="{isUploading}" onclick="{uploadAttach}" riot-style="background: #{customColor};">{isUploading?\'Please wait\':\'Upload\'}</button> </div> </div> </div> <div if="{section == \'message\'}" class="sociomile-container sociomile-login sociomile-wait-confirm auto-height"> <div class="sociomile-top" riot-style="background: #{customColor};"> <div class="sociomile-title">{SOCIOMILE.custom_cs_text ? SOCIOMILE.custom_cs_text : SOCIOMILE.name} </div> </div> <div class="sociomile-body auto-height"> <div if="{winSorry && SOCIOMILE.winSorry_message!=\'\'}" class="sociomile-sorry">{SOCIOMILE.winSorry_message}</div> <div if="{winSorry && SOCIOMILE.winSorry_message==\'\'}" class="sociomile-sorry">Mohon maaf, {SOCIOMILE.agent_alias !==\'\' ? SOCIOMILE.agent_alias : \'semua agent kami\'} sedang melayani pelanggan lain. <span if="{SOCIOMILE.email && SOCIOMILE.email!=⁗⁗}">Kamu bisa menghubungi kami melalui email {SOCIOMILE.email}</span> <span if="{SOCIOMILE.email!=⁗⁗ && SOCIOMILE.twitter!=⁗⁗}"><a href="https://twitter.com/{SOCIOMILE.twitter}" target="_blank">atau Twitter @{SOCIOMILE.twitter}</a></span> </div> <div if="{winGretting}" class="sociomile-sorry"> {SOCIOMILE.session_end!==\'\' ? SOCIOMILE.session_end.replace(\'[~customer-name]\', (custName || this.agent.name) ) : \'Hi \'+(custName || this.agent.name)+\', percakapan kamu dengan agent kami telah berakhir. Terima kasih sudah menggunakan layanan Live Chat kami\'} <p class="p-new-chat"> <button class="btn-new-chat sociomile-btn" onclick="{toLogin}" riot-style="background: #{customColor};">Mulai percakapan baru</button> </p> </div> <div if="{win5menit}" class="sociomile-sorry"> <span if="{SOCIOMILE.win5menit_message!=\'\'}">{SOCIOMILE.win5menit_message}</span> <span if="{SOCIOMILE.win5menit_message==\'\'}"> Hi {custName || name}, kamu sudah tidak aktif di percakapan ini sejak {autoCloseTime} menit yang lalu & sesi chat berakhir. Silakan isi data kembali untuk memulai percakapan baru atau hubungi kami melalui <span if="{SOCIOMILE.twitter}"> Twitter <a href="https://twitter.com/{SOCIOMILE.twitter}" target="_blank">{SOCIOMILE.twitter}</a> atau </span> Email {SOCIOMILE.email} </span> <p class="p-new-chat"> <button class="btn-new-chat sociomile-btn" onclick="{toLogin}" riot-style="background: #{customColor};">Mulai percakapan baru</button> </p> </div> </div> </div> <div if="{section == \'wait\'}" class="sociomile-container sociomile-login sociomile-wait-confirm"> <div if="{wait}" class="sociomile-loader sociomile-fs" riot-style="background: #{customColor};"> <div class="wording-text loading"> {(SOCIOMILE.first_waiting_msg || \'\').replace(\'[~counter]\', queueNumber || 0)} </div> </div> <div class="sociomile-top" riot-style="background: #{customColor};"> <div class="sociomile-title">{SOCIOMILE.custom_cs_text ? SOCIOMILE.custom_cs_text : SOCIOMILE.name} </div> <div class="nav-logout"><i class="ion ion-close-round" onclick="{logout}"></i></div> </div> <div if="{!wait}" class="sociomile-body"> {SOCIOMILE.end_waiting_msg} <div class=""> <div class="sociomile-col-6"> <button type="button" class="sociomile-btn" onclick="{goWait}">Ya</button> </div> <div class="sociomile-col-6"> <button type="button" class="sociomile-btn" onclick="{sorry}">tidak</button> </div> </div> </div> </div> <div if="{section == \'logout\'}" class="sociomile-container sociomile-login sociomile-wait-confirm"> <div class="sociomile-top" riot-style="background: #{customColor};"> <div class="sociomile-title">{SOCIOMILE.custom_cs_text ? SOCIOMILE.custom_cs_text : SOCIOMILE.name} </div> </div> <div class="sociomile-body"> {SOCIOMILE.confirm_end_msg} <div class=""> <div class="sociomile-col-6"> <button type="button" class="sociomile-btn" onclick="{grettingLogoutUser}">Ya</button> </div> <div class="sociomile-col-6"> <button type="button" class="sociomile-btn" onclick="{cancelLogoutConfirm}">tidak</button> </div> </div> </div> </div> <div if="{section == \'survey\'}" class="sociomile-container sociomile-login sociomile-wait-confirm"> <div class="sociomile-top" riot-style="background: #{customColor};"> <div class="sociomile-title">{SOCIOMILE.custom_cs_text ? SOCIOMILE.custom_cs_text : SOCIOMILE.name} </div> </div> <div class="sociomile-body"> {SOCIOMILE.confirm_survey_msg} <div class=""> <div class="sociomile-col-6"> <button type="button" class="sociomile-btn" onclick="{startSurvey}" riot-style="background: #{customColor};">Ya</button> </div> <div class="sociomile-col-6"> <button type="button" class="sociomile-btn" onclick="{grettingLogoutUser}" riot-style="background: #{customColor};">tidak</button> </div> </div> </div> </div> <div id="thechat" if="{section == \'main\'}" class="sociomile-container chat-on" tabindex="-1"> <div class="sociomile-top" riot-style="background: #{customColor};" id="chat-ticket-id-{IdTicket}"> <div class="sociomile-title">{SOCIOMILE.custom_cs_text ? SOCIOMILE.custom_cs_text : SOCIOMILE.name} </div> <div class="nav-logout"><i class="ion ion-chevron-down" onclick="{minimize}"></i>&nbsp;&nbsp;&nbsp;<i class="ion ion-close-round" onclick="{logoutFromActive}"></i></div> </div> <div class="sociomile-agent" riot-style="background: #{customColor};"> <img if="{agent.avatar == \'\'}" class="sociomile-avatar" riot-src="{SOCIOMILE.widget_avatar != \'\' ? SOCIOMILE.widget_avatar : \'https://avatar.sociomile.com/default.png\'}"> <img if="{agent.avatar != \'\'}" class="sociomile-avatar" riot-src="{agent.avatar}"> <div class="sociomile-avatar-info"> <div class="sociomile-avatar-info-child {!SOCIOMILE.show_cs_text ? \'adjust-text-cs\':\'\'}">{agent_alias ? agent_alias : agent.name}</div> <div class="sociomile-avatar-info-child-sub" if="{SOCIOMILE.show_cs_text}"> {SOCIOMILE.SOCIOMILE.custom_cs_text !=\'\' ? SOCIOMILE.SOCIOMILE.custom_cs_text : \'Customer Care Staff\'} </div> </div> </div> <div class="sociomile-body"> <div class="sociomile-item" each="{o,i in comments}"> <span if="{i == 0}" class="days-chat">Today</span> <div if="{(i > 0 && isChatBot) || !isChatBot}" class="sociomile-item-box animated fadeIn {welcome: isWelcome, right: (o.is_left && !isWelcome), left: (!o.is_left && !isWelcome), botside:(chatBotPresent && i==0)}" riot-style="background: #{(o.is_left && !isWelcome) ? customColor : null};"> <small if="{!o.isTyping, !(i >= 1 && 1 && comments[i-1].name == o.name)}">{o.is_left ? custName : (agent_alias ? agent_alias : o.name)}</small> <div if="{o.gambar && !o.isTyping}" class="sociomile-item-body"> <img riot-src="{o.gambar}"> </div> <div if="{!o.gambar && !o.isTyping && o.is_left && !isWelcome}" class="sociomile-item-body .white-space-pre"> <sociomile-raw content="{nl2br(o.content)}"></sociomile-raw> </div> <div if="{!o.gambar && !o.isTyping && !o.is_left}" class="sociomile-item-body"> <sociomile-raw content="{!o.is_left?nl2br(o.content):\'\'}"></sociomile-raw> </div> <div if="{o.attachments && !o.isTyping}" class="sociomile-item-body"> <span each="{attachment, index in o.attachments}"> <img if="{attachment.extension == \'jpg\' || attachment.extension == \'png\' || attachment.extension == \'jpeg\'}" class="m-t-1" riot-src="{attachment.url}"> <a href="{attachment.url}" if="{attachment.extension != \'jpg\' && attachment.extension != \'png\' && attachment.extension != \'jpeg\'}" class="m-t-1 d-block" riot-src="{attachment.url}" target="_blank" title="Download" download> {attachment.name}</a> </span> </div> <div if="{o.isTyping}" class="sociomile-item-body"> mengetik... </div> </div> <div if="{!o.isTyping, (!comments[i+1] || comments[i+1].name != o.name), i > 0 && isChatBot}" class="sociomile-item-summary {right: (o.is_left && !isWelcome)}"> <label class="sociomile-date" if="{o.date}">{SOCIOMILE.moment(o.date).format(\'HH:mm\')}</label>&nbsp;<i if="{o.is_left && o.is_sent && !o.is_seen}" class="ion-android-done"></i><i if="{o.is_left && o.is_seen}" class="ion-android-done-all"></i> </div> </div> </div> <div class="sociomile-bottom"> <form onsubmit="{send}"> <textarea id="content" name="content" placeholder="komentar" onkeyup="{checkLength}" onkeydown="{shiftEnter}" onfocus="{ngeFocus}" onblur="{ngeBlur}"></textarea> <span class="sociomile-chat-length {red: cLength < 0}">{cLength}</span> <label for="file"> <i class="ion ion-paperclip" onclick="{uploadShow}"></i></label> <label for="file"> <i class="ion ion-ios-paperplane" onclick="{send}"></i></label> </form> </div> </div> <div if="{section == \'minimize\'}" class="sociomile-container sociomile-minimize"> <div class="sociomile-top" riot-style="background: #{customColor};"> <div class="sociomile-title">{SOCIOMILE.custom_cs_text ? SOCIOMILE.custom_cs_text : SOCIOMILE.name} <span if="{count > 0}" class="notifikasi">{count}</span></div> <div class="nav-logout"><i onclick="{maximize}" class="ion ion-chevron-up"></i></div> </div> </div> <div if="{section == \'agentIdle\'}" class="sociomile-container sociomile-login sociomile-wait-confirm"> <div class="sociomile-top" riot-style="background: #{customColor};"> <div class="sociomile-title">{SOCIOMILE.custom_cs_text ? SOCIOMILE.custom_cs_text : SOCIOMILE.name} </div> </div> <div class="sociomile-body"> {SOCIOMILE.wait_or_end_msg} <div class=""> <div class="sociomile-col-6"> <button type="button" class="sociomile-btn" onclick="{grettingLogoutUser}" riot-style="background: #{customColor};">TIDAK</button> </div> <div class="sociomile-col-6"> <button type="button" class="sociomile-btn" onclick="{maximize}" riot-style="background: #{customColor};">YA</button> </div> </div> </div> </div>','sociomile-chat .btn-new-chat.sociomile-btn,[riot-tag="sociomile-chat"] .btn-new-chat.sociomile-btn,[data-is="sociomile-chat"] .btn-new-chat.sociomile-btn{ width: max-content !important; } sociomile-chat .sociomile-container,[riot-tag="sociomile-chat"] .sociomile-container,[data-is="sociomile-chat"] .sociomile-container{ -webkit-border-top-left-radius: 4px; -webkit-border-top-right-radius: 4px; -moz-border-radius-topleft: 4px; -moz-border-radius-topright: 4px; border-top-left-radius: 4px; border-top-right-radius: 4px; } sociomile-chat .chat-on .sociomile-title,[riot-tag="sociomile-chat"] .chat-on .sociomile-title,[data-is="sociomile-chat"] .chat-on .sociomile-title{ display: none; } sociomile-chat .chat-on .sociomile-agent,[riot-tag="sociomile-chat"] .chat-on .sociomile-agent,[data-is="sociomile-chat"] .chat-on .sociomile-agent{ float: left; display: flex; align-items: center; width: 100%; height: auto !important; min-height: 64px; padding: 20px !important; } sociomile-chat .chat-on .sociomile-top,[riot-tag="sociomile-chat"] .chat-on .sociomile-top,[data-is="sociomile-chat"] .chat-on .sociomile-top{ width: auto !important; float: right; position: absolute; right: 0; } sociomile-chat .adjust-text-cs,[riot-tag="sociomile-chat"] .adjust-text-cs,[data-is="sociomile-chat"] .adjust-text-cs{ margin-top: 12px !important; } sociomile-chat .auto-height,[riot-tag="sociomile-chat"] .auto-height,[data-is="sociomile-chat"] .auto-height{ height: auto !important; } sociomile-chat .p-new-chat,[riot-tag="sociomile-chat"] .p-new-chat,[data-is="sociomile-chat"] .p-new-chat{ margin-top: 10px; text-align: center; } sociomile-chat .btn-new-chat,[riot-tag="sociomile-chat"] .btn-new-chat,[data-is="sociomile-chat"] .btn-new-chat{ background-color: #3a96d2; border-radius: 4px; color: #ffffff; } sociomile-chat .sociomile-bottom,[riot-tag="sociomile-chat"] .sociomile-bottom,[data-is="sociomile-chat"] .sociomile-bottom{ border-top: 1px solid #cccccc4a; } sociomile-chat .white-space-pre,[riot-tag="sociomile-chat"] .white-space-pre,[data-is="sociomile-chat"] .white-space-pre{ white-space: pre-wrap; } sociomile-chat .botside,[riot-tag="sociomile-chat"] .botside,[data-is="sociomile-chat"] .botside{ text-align: left !important; } sociomile-chat .sociomile-item-body .right a,[riot-tag="sociomile-chat"] .sociomile-item-body .right a,[data-is="sociomile-chat"] .sociomile-item-body .right a{ color: #ffffff; }',"",function(t){window.testchat=this,this.wait=!1,this.waitConfirm=!1,SOCIOMILE.socket=null,this.comments=[],this.isMinimize=!1,this.isMessage=!1,this.winSorry=!1,this.winGretting=!1,this.win5menit=!1,this.count=0,this.custName="",this.agent={name:"",avatar:""},this.lastActivity=SOCIOMILE.moment().format("YYYY-DD-MM HH:mm:SS"),this.isLimit1=!1,this.cLength=1e3,this.isUploading=!1,this.fileName="Your file",this.uploadCount=0,this.maxUpload=20,this.isFocus=!1,this.autoCloseTime=SOCIOMILE.lang.auto_close_time?SOCIOMILE.lang.auto_close_time:5,this.busyTime=SOCIOMILE.busy_time_series,this.confirmWait=!1,this.waitingForReplyAgentCount=1,this.waitingForReplyAgent=!1,this.closeTime=SOCIOMILE.lang.auto_close?60*SOCIOMILE.lang.auto_close_time:300,this.runTimer=!1,this.agent_alias=""!==SOCIOMILE.agent_alias&&SOCIOMILE.agent_alias,this.isSending=!1,this.initChat=!1,this.saveToken=null,this.saveMessage="",this.IdTicket="",this.customColor=SOCIOMILE.custom_widget_color,this.chatBotPresent=SOCIOMILE.localStorageGet("sociomile_chatbot_overtaken"),this.isChatBot=SOCIOMILE.chatbot.active,this.queueNumber=SOCIOMILE.localStorageGet("sociomile_queue_number"),this.idInterval=null,this.linkify=function(t){var e,i,n,o;if(t&&""!=t)return i=/(\b(https?|ftp):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gim,e=t.toString().replace(i,"<a href='$1' target='_blank'>$1</a>"),n=/(^|[^\/])(www\.[\S]+(\b|$))/gim,e=e.replace(n,"<a href='http://$2' target='_blank'>$2</a>"),o=/(([a-zA-Z0-9\-\_\.])+@[a-zA-Z\_]+?(\.[a-zA-Z]{2,6})+)/gim,e=e.replace(o,"<a href='mailto:$1'>$1</a>")},nl2br=function(t){return t.replace(/(?:\r\n|\r|\n)/g,"<br>")},this.cancelLogoutConfirm=function(){this.section="main",this.setFocus()}.bind(this),this.ngeFocus=function(){if(0==this.content.value.trim().length)return!1;this.isFocus=!0;var t={id:SOCIOMILE.moment().unix(),justNotify:!0,date:new Date,isTyping:!0,is_left:!0};SOCIOMILE.socket.emit("hello",t)}.bind(this),this.ngeBlur=function(){this.isFocus=!1;var t={id:SOCIOMILE.moment().unix(),justNotify:!0,date:new Date,isRemoveTyping:!0,is_left:!0};SOCIOMILE.socket.emit("hello",t)}.bind(this),this.shiftEnter=function(t){if(!this.isFocus){this.isFocus=!0,this.statusChat("seen");var e={id:SOCIOMILE.moment().unix(),justNotify:!0,date:new Date,isTyping:!0,is_left:!0};SOCIOMILE.socket.emit("hello",e)}if(13==t.keyCode)if(t.shiftKey){if(""==t.target.value.trim())return!1}else SOCIOMILE.jq(t.target.form).submit(),t.preventDefault();return!0}.bind(this),this.la=function(){null!=SOCIOMILE.localStorageGet("sociomile_token")&&(SOCIOMILE.localStorageSet("sociomile_la",SOCIOMILE.moment().format("YYYY-MM-DD HH:mm:ss")),this.update({lastActivity:SOCIOMILE.moment(),isLimit1:!1,isLimit2:!1}))}.bind(this),this.confirmSurvey=function(){this.section="survey"}.bind(this),this.idTOWaitAutoClose=null,this.goWait=function(){this.update({wait:!0,section:"wait"}),this.idTOWaitAutoClose&&(clearTimeout(this.idTOWaitAutoClose),this.idTOWaitAutoClose=null);var t=setTimeout(function(){this.update({wait:!1}),clearTimeout(t),this.idTOWaitAutoClose=setTimeout(function(){"wait"==this.section&&this.sorry(),clearTimeout(this.idTOWaitAutoClose),this.idTOWaitAutoClose=null}.bind(this),6e4)}.bind(this),3e4)}.bind(this),this.maximize=function(){this.la();var t={message:"Chat Window Opened",id:"04-Chat-Window-Opened"};if(SOCIOMILE.DataLayer(t),this.confirmWait&&""!==SOCIOMILE.confirm_wait_msg){this.comments.pop();var e={content:SOCIOMILE.confirm_wait_msg,id:SOCIOMILE.moment().unix(),name:this.agent.name,justNotify:!0,date:new Date,is_init:!0,is_left:!1};this.comments.push(e),this.confirmWait=!1,this.waitingForReplyAgent=!0,this.waitingForReplyAgentCount=1,this.bussyIndex=this.bussyIndex>=SOCIOMILE.agent_idle_msg.length?0:this.bussyIndex,this.update(),this.agentIdle()}this.section="main",this.count=0,setTimeout(function(){this.root.querySelector(".sociomile-body").scrollTop=1e7,this.setFocus()}.bind(this),200)}.bind(this),this.statusChat=function(t){var e={id:SOCIOMILE.moment().unix(),justNotify:!0,category:t};SOCIOMILE.socket.emit("hello",e)}.bind(this),this.setFocus=function(){setTimeout(function(){SOCIOMILE.jq("#thechat,#content").focus(function(){this.statusChat("seen")}.bind(this))}.bind(this),500)}.bind(this),this.minimize=function(){this.section="minimize",this.la();var t={message:"Chat Window Hidden",id:"03-Chat-Window-Hidden"};SOCIOMILE.DataLayer(t)}.bind(this),this.checkLength=function(){this.cLength=1e3-this.content.value.trim().length}.bind(this),this.send=function(){var t=SOCIOMILE.stripTags(this.content.value.trim());if(this.isSending)return!1;if(""==t)return!1;if(this.comments.length>0&&this.comments[this.comments.length-1].content==t&&this.comments[this.comments.length-1].is_customer)return void alert("komen sudah pernah disubmit.");if(this.cLength<0)return void alert("maks 1000 karakter");var e={content:t,id:SOCIOMILE.moment().unix(),is_customer:!0,is_agent:!1,date:new Date,is_left:!0};this.comments.push(e),this.la(),clearTimeout(this.idTOidleAgent),this.waitingForReplyAgent=!0,this.waitingForReplyAgentCount=1,this.runTimer=!1,this.update(),this.runTimer||this.agentIdle(),this.isSending=!0,SOCIOMILE.socket.emit("hello",e,function(t){this.isSending=!1}.bind(this)),this.content.value="",this.isFocus=!1,this.runTimer=!0,this.update(),SOCIOMILE.localStorageSet("sociomile_data",JSON.stringify(this.comments)),setTimeout(function(){this.root.querySelector(".sociomile-body").scrollTop=1e7}.bind(this),100)}.bind(this),this.setOnUnload=function(){}.bind(this),this.sorry=function(){this.logout(!0),this.update({section:"message",winSorry:!0}),setTimeout(function(){SOCIOMILE.to("init")},15e3),this.la()}.bind(this),this.grettingLogoutUser=function(){this.grettingLogout()}.bind(this),this.toLogin=function(){SOCIOMILE.to("login")}.bind(this),this.grettingLogout=function(t){var e={tiketId:SOCIOMILE.localStorageGet("sociomile_tiketId"),name:SOCIOMILE.localStorageGet("sociomile_name"),email:SOCIOMILE.localStorageGet("sociomile_email"),phone:SOCIOMILE.localStorageGet("sociomile_phone"),status:"close"};SOCIOMILE.hitOnEvent(e),this.logout(!0,t),this.update({section:"message",winSorry:!1,winGretting:!0})}.bind(this),this.limaMenit=function(){this.logout(!0),this.update({section:"message",winGretting:!1,winSorry:!1,win5menit:!0}),this.la()}.bind(this),this.theInterval=function(){this.idInterval=setInterval(function(){var t=0,e=SOCIOMILE.lang.auto_response?60*SOCIOMILE.lang.auto_response_time:180,i=SOCIOMILE.lang.auto_close?60*SOCIOMILE.lang.auto_close_time:300,n=!!SOCIOMILE.lang.auto_response&&SOCIOMILE.lang.auto_response;if(t=SOCIOMILE.moment().diff(SOCIOMILE.moment(this.lastActivity),"seconds"),!this.waitingForReplyAgent){if(n){var o=SOCIOMILE.lang.first_response?SOCIOMILE.lang.first_response_msg:"Apakah masih ada hal yang dapat kami bantu?",s=o.replace("[~customer-name]",this.custName||this.agent.name);if(t>e&&!this.isLimit1){var r={id:SOCIOMILE.moment().unix(),content:s,name:this.agent.name,justNotify:!0,date:new Date,is_init:!0,is_left:!1};this.comments.push(r),SOCIOMILE.socket.emit("hello",r),this.isLimit1=!0,this.update(),setTimeout(function(){this.root.querySelector(".sociomile-body").scrollTop=1e7}.bind(this),100)}}t>i&&!this.isLimit2&&(SOCIOMILE.turn_off_auto_close||this.limaMenit())}}.bind(this),5e3)}.bind(this),this.idTOidleAgent=null,this.bussyIndex=0,this.agentIdle=function(){var t=this.busyTime,e=t.split(":"),i=null;i=1==this.waitingForReplyAgentCount?60*parseFloat(e[0])*1e3:2==this.waitingForReplyAgentCount?60*parseFloat(e[1])*1e3:3==this.waitingForReplyAgentCount?60*parseFloat(e[2])*1e3:60*parseFloat(e[2])*1e3,this.waitingForReplyAgentCount>3&&this.bussyIndex>SOCIOMILE.agent_idle_msg.length?(this.la(),this.section="agentIdle"):this.waitingForReplyAgent?this.idTOidleAgent=setTimeout(function(){var t=""!==SOCIOMILE.agent_idle_msg[this.bussyIndex]&&"undefined"!=typeof SOCIOMILE.agent_idle_msg[this.bussyIndex]?SOCIOMILE.agent_idle_msg[this.bussyIndex]:"Mohon menunggu, kami memerlukan waktu untuk menangani permintaan Anda.",e={content:t,id:SOCIOMILE.moment().unix(),name:this.agent.name,justNotify:!0,date:new Date,is_init:!0,is_left:!1};this.waitingForReplyAgent&&(this.comments.push(e),SOCIOMILE.socket.emit("hello",e),SOCIOMILE.localStorageSet("sociomile_la",SOCIOMILE.moment().format("YYYY-MM-DD HH:mm:ss")),this.update({lastActivity:SOCIOMILE.moment(),isLimit2:!1,confirmWait:!0,waitingForReplyAgentCount:this.waitingForReplyAgentCount+1,bussyIndex:this.bussyIndex+1}),setTimeout(function(){this.root.querySelector(".sociomile-body").scrollTop=1e7}.bind(this),100)),this.agentIdle()}.bind(this),i):(clearTimeout(this.idTOidleAgent),this.update({waitingForReplyAgent:!1,waitingForReplyAgentCount:1,runTimer:!1}),this.update())}.bind(this),this.on("mount",function(){window.test=this,SOCIOMILE.noScroll(!0),SOCIOMILE.jq(window).resize(function(){this.adjustWindow()}.bind(this)),SOCIOMILE.jq.ajax({url:SOCIOMILE.url+"/expire/"+t.token,dataType:"json",success:function(t){t.expired&&this.logout()}.bind(this),error:function(t){}.bind(this)});var e=SOCIOMILE.localStorageGet("sociomile_la");null==SOCIOMILE.localStorageGet("sociomile_c_cup")?this.update({uploadCount:0}):this.update({uploadCount:parseInt(SOCIOMILE.localStorageGet("sociomile_c_cup"))}),this.update({custName:SOCIOMILE.localStorageGet("sociomile_name"),IdTicket:SOCIOMILE.localStorageGet("sociomile_tiketId"),queueNumber:SOCIOMILE.localStorageGet("sociomile_queue_number")}),this.setOnUnload(),this.goWait(),this.la(),this.update({saveToken:t.token,saveMessage:t.message}),SOCIOMILE.socket=SOCIOMILE.io.connect(SOCIOMILE.socketUrl,{query:"token="+t.token,forceNew:!0}),setTimeout(function(){!SOCIOMILE.socket||SOCIOMILE.socket.connected&&!SOCIOMILE.socket.disconnected||SOCIOMILE.socket.connect()},7e3);var i={count:0,data:[]};SOCIOMILE.socket.on("connect",function(n){if(i={count:0,data:[]},null!=e&&SOCIOMILE.moment().diff(SOCIOMILE.moment(e),"seconds")>300)return this.update({section:"main"}),this.logout(),!1;if(null!=SOCIOMILE.localStorageGet("sociomile_is_survey")&&"1"==SOCIOMILE.localStorageGet("sociomile_is_survey"))return void SOCIOMILE.to("survey");if(null!=SOCIOMILE.localStorageGet("sociomile_data")){this.theInterval(),"wait"==this.section&&(this.adjustWindow(function(){this.root.querySelector(".sociomile-body").scrollTop=1e7,SOCIOMILE.jq("#content").focus()}.bind(this)),this.section="main",this.wait=!1,clearTimeout(this.idTOWaitAutoClose),this.setFocus()),this.comments=JSON.parse(SOCIOMILE.localStorageGet("sociomile_data")),null!=SOCIOMILE.localStorageGet("sociomile_avatar")&&(this.agent=JSON.parse(SOCIOMILE.localStorageGet("sociomile_avatar")));for(var o=0;o<this.comments.length;o++)if(!this.comments[o].is_left){this.agent.name=this.comments[o].name;break}this.update()}if(t.message&&""!=t.message&&!this.initChat){var s={id:SOCIOMILE.moment().unix(),content:t.message,date:new Date,is_init:!0,is_left:!0};this.la(),this.initChat=!0;var r=t.message;s.content=r.replace("--reconnect--",""),this.comments.push(s),this.update()}}.bind(this)),SOCIOMILE.socket.on("connect_error",function(t){if(i.data.push({type:t.type,code:t.code,message:t.message}),i.count>3&&i.data.length<6)try{SOCIOMILE.jq.ajax({url:SOCIOMILE.talkToUrl+"/feedback-socket",method:"POST",dataType:"json",data:{errors:i.data}})}catch(e){}i.count++}.bind(this)),SOCIOMILE.socket.on("error",function(t){"UnauthorizedError"==t.type||"invalid_token"==t.code}),SOCIOMILE.socket.on("hello",function(t){if(t.is_close)return void this.grettingLogout(!0);var e=SOCIOMILE.findIndex(this.comments,"isTyping",!0);if(e>-1&&this.comments.splice(e,1),"typing"==t.category)t.isTyping=!0,t.is_left=!1;else{if("remove_typing"==t.category)return this.update(),!1;if("seen"==t.category){for(var i=0;i<this.comments.length;i++)this.comments[i].is_seen=!0;return this.update(),SOCIOMILE.localStorageSet("sociomile_data",JSON.stringify(this.comments)),!1}if("sent"==t.category){for(var i=0;i<this.comments.length;i++)this.comments[i].is_sent=!0;return this.update(),SOCIOMILE.localStorageSet("sociomile_data",JSON.stringify(this.comments)),!1}}this.comments.push(t),t.is_left||"typing"==t.category||(this.agent={name:t.name,avatar:t.avatar},""!=t.avatar&&SOCIOMILE.localStorageSet("sociomile_avatar",JSON.stringify(this.agent))),"wait"==this.section&&(this.theInterval(),this.adjustWindow(function(){SOCIOMILE.jq("#content").focus()}),this.section="main",this.wait=!1,clearTimeout(this.idTOWaitAutoClose),this.setFocus()),"minimize"==this.section&&"typing"!=t.category?this.count++:setTimeout(function(){this.root.querySelector(".sociomile-body").scrollTop=1e7}.bind(this),100),"typing"!=t.category&&this.statusChat("sent"),SOCIOMILE.localStorageSet("sociomile_data",JSON.stringify(this.comments)),clearTimeout(this.idTOidleAgent),this.update({waitingForReplyAgent:!1,waitingForReplyAgentCount:1,runTimer:!1,bussyIndex:0}),this.update(),this.la()}.bind(this)),setTimeout(function(){this.update({isMount:!0})}.bind(this),5e3)}),this.adjustWindow=function(t){var e=SOCIOMILE.jq(window).height(),i=SOCIOMILE.jq(window).width();setTimeout(function(){i<700&&(SOCIOMILE.jq(this.root).find(".sociomile-body").height(e-164),SOCIOMILE.jq("#content").width(i-70)),"function"==typeof t&&t()}.bind(this),100)}.bind(this),this.logoutFromActive=function(){SOCIOMILE.lang.csat_on?this.section="survey":this.section="logout"}.bind(this),this.logout=function(t,e){SOCIOMILE.localStorageRemove("sociomile_email"),SOCIOMILE.localStorageRemove("sociomile_tiketId"),SOCIOMILE.localStorageRemove("sociomile_phone"),SOCIOMILE.localStorageRemove("sociomile_token"),SOCIOMILE.localStorageRemove("sociomile_name"),SOCIOMILE.localStorageRemove("sociomile_c_cup"),SOCIOMILE.localStorageRemove("sociomile_is_survey"),SOCIOMILE.localStorageRemove("sociomile_la"),SOCIOMILE.localStorageRemove("sociomile_data"),SOCIOMILE.localStorageRemove("sociomile_chatbot_overtaken"),SOCIOMILE.localStorageRemove("sociomile_chatbot_userBotId"),SOCIOMILE.localStorageRemove("sociomile_chatbot_data"),SOCIOMILE.localStorageRemove("sociomile_chatbot_username"),SOCIOMILE.localStorageRemove("sociomile_chatbot_usermail"),SOCIOMILE.localStorageRemove("sociomile_chatbot_userphone"),SOCIOMILE.localStorageRemove("sociomile_chatbot_history"),SOCIOMILE.localStorageRemove("sociomile_chatbot_start_date"),SOCIOMILE.localStorageRemove("sociomile_chatbot_timezone");var i={message:"Chat Window Closed",id:"02-Chat-Window-Closed"};if(SOCIOMILE.DataLayer(i),SOCIOMILE.socket)if(e)SOCIOMILE.socket.disconnect(),"boolean"!=typeof t&&SOCIOMILE.to("init");else{var n,o=(n={id:SOCIOMILE.moment().unix()},_defineProperty(n,"id",SOCIOMILE.moment().unix()),_defineProperty(n,"isLogout",!0),_defineProperty(n,"isCurrentWait","wait"==this.section),n);SOCIOMILE.socket.emit("hello",o,function(e){SOCIOMILE.socket.disconnect(),"boolean"!=typeof t&&SOCIOMILE.to("init")}.bind(this))}SOCIOMILE.jq(window).off("beforeunload"),SOCIOMILE.noScroll(!1),clearInterval(this.idInterval)}.bind(this),SOCIOMILE.Chat.on("logout",function(){this.logout()}.bind(this)),this.uploadError=!1,this.uploadValidation=function(t){this.la();var e=t.target.files[0];if(e){var i="";e.size>2048e3&&(i="Ukuran file terlalu besar, maksimum 2 MB\n");var n=e.name,o=n.split(".")[n.split(".").length-1].toLowerCase();return"pdf"!==o&&"gif"!==o&&"jpeg"!==o&&"txt"!==o&&"jpg"!==o&&"bmp"!==o&&"png"!==o&&"xls"!==o&&"csv"!==o&&"xlsx"!==o&&"doc"!==o&&"docx"!==o&&(i+="Jenis file tidak sesuai, hanya bisa file Gambar, Office, PDF, atau TXT.\n\n"),""!=i?(alert(i),void this.update({uploadError:!0})):void this.update({fileName:e.name,uploadError:!1})}}.bind(this),this.uploadAttach=function(){if(this.uploadError)return void alert("upload error");var t=SOCIOMILE.jq("#file")[0].files[0];if(!t)return void alert("Silahkan pilih file yang akan kamu upload");this.update({isUploading:!0});var e=new FileReader;"image/jpeg"==t.type||"image/png"==t.type||"image/gif"==t.type?(e.onload=function(e){this.comments.push({gambar:e.target.result,content:t.name,date:new Date,is_left:!0}),this.update()}.bind(this),e.readAsDataURL(t)):(this.comments.push({gambar:"",content:t.name,date:new Date,is_left:!0}),this.update());var i=new FormData;i.append("image",t),SOCIOMILE.jq.ajax({url:SOCIOMILE.url+"/image",method:"POST",data:i,dataType:"json",processData:!1,contentType:!1,success:function(e){SOCIOMILE.jq("#file").val(""),this.update({section:"main",uploadCount:this.uploadCount+1,isUploading:!1}),SOCIOMILE.localStorageSet("sociomile_c_cup",this.uploadCount),setTimeout(function(){this.setFocus(),this.root.querySelector(".sociomile-body").scrollTop=1e7}.bind(this),100);var i={id:SOCIOMILE.moment().unix(),content:t.name,file:e.data,is_file:!0,date:new Date,is_left:!0};SOCIOMILE.socket.emit("hello",i,function(t){})}.bind(this),error:function(t){this.comments.splice(this.comments.length-1,1),this.update({isUploading:!1}),alert("Upload gagal.")}.bind(this)})}.bind(this),this.uploadCancel=function(){this.update({section:"main"}),setTimeout(function(){this.root.querySelector(".sociomile-body").scrollTop=1e7,this.setFocus()}.bind(this),100)}.bind(this),this.uploadShow=function(){return this.uploadCount+1>this.maxUpload?void alert("maaf sudah sampai batas limit upload."):void this.update({fileName:"File Name",section:"upload"})}.bind(this),this.on("unmount",function(){clearInterval(this.idInterval),SOCIOMILE.noScroll(!1)}),this.startSurvey=function(){SOCIOMILE.localStorageSet("sociomile_is_survey","1"),SOCIOMILE.to("survey")}.bind(this)}),SOCIOMILE.riot.tag2("sociomile-chatbot",'<div id="thechat" if="{section == \'main\'}" class="sociomile-container chat-on" tabindex="-1"> <div class="sociomile-top"> <div class="sociomile-title">{SOCIOMILE.custom_cs_text ? SOCIOMILE.custom_cs_text : SOCIOMILE.title} </div> <div class="nav-logout"><i class="ion ion-chevron-down" onclick="{minimize}"></i>&nbsp;&nbsp;&nbsp;<i class="ion ion-close-round" onclick="{logoutFromActive}"></i></div> </div> <div class="sociomile-agent"> <img class="sociomile-avatar" riot-src="{SOCIOMILE.widget_avatar && SOCIOMILE.widget_avatar!=⁗⁗ ? SOCIOMILE.widget_avatar : ⁗https://avatar.sociomile.com/default.png⁗}"> <div class="sociomile-avatar-info"> <div class="sociomile-avatar-info-child">{csBotText}</div> <div class="sociomile-avatar-info-child-sub">{SOCIOMILE.custom_cs_text ? SOCIOMILE.custom_cs_text : \'Customer Care Staff\'}</div> </div> </div> <div class="sociomile-body" riot-style="padding-bottom:{keyboardNotActive}px;"> <div class="sociomile-item" each="{o,i in comments}"> <span if="{i == 0}" class="days-chat">Today</span> <div class="sociomile-item-box animated fadeIn {right: (o.is_user), left: (o.is_bot)}"> <div if="{o.type==\'text\' || o.type==\'link\'}" class="sociomile-item-body"> <sociomile-raw content="{nl2br(o.content)}"></sociomile-raw> <span if="{o.link}"><a href="{o.link}" target="_blank">{o.link}</a></span> </div> <div if="{o.type==\'actions\'}" class="sociomile-item-body"> <sociomile-raw content="{nl2br(o.content)}"></sociomile-raw> <ul class="list-btn-action"> <li each="{d,j in o.actions}"><button class="btn-chat {bsolid: j!= (o.actions.length - 1), btop: j==0, bbottom: j== (o.actions.length - 1)}" onclick="{chooseAnswer.bind(this,d)}">{d.name}</button></li> </ul> </div> </div> <div if="{!o.is_same_row}" class="sociomile-item-summary {right: (o.is_user), left: (o.is_bot)}"> <label class="sociomile-date" if="{o.date}">{SOCIOMILE.moment(o.date).format(\'HH:mm\')}</label> </div> </div> <div if="{botIsLoading}" class="sociomile-item"> <div if="{botIsLoading}" class="sociomile-item-box animated fadeIn botloading"> <div class="sociomile-item-body typing-loader"></div> </div> </div> </div> <div class="sociomile-bottom"> <form onsubmit="{send}"> <textarea id="content" name="content" placeholder="komentar" onkeyup="{checkLength}" onkeydown="{shiftEnter}" autofocus onfocus="{toggleKeyboardactive}" onblur="{toggleKeyboardNotActive}"></textarea> <span class="sociomile-chat-length {red: cLength < 0}">{cLength}</span> <label for="file"> <i class="ion ion-ios-paperplane" onclick="{send}"></i></label> </form> </div> </div> <div if="{section == \'minimize\'}" class="sociomile-container sociomile-minimize"> <div class="sociomile-top"> <div class="sociomile-title">{SOCIOMILE.custom_cs_text ? SOCIOMILE.custom_cs_text : SOCIOMILE.title}</div> <div class="nav-logout"><i onclick="{maximize}" class="ion ion-chevron-up"></i></div> </div> </div> <div if="{section == \'customerIdle\'}" class="sociomile-container sociomile-login sociomile-wait-confirm"> <div class="sociomile-top"> <div class="sociomile-title">{SOCIOMILE.custom_cs_text ? SOCIOMILE.custom_cs_text : SOCIOMILE.title} </div> </div> <div class="sociomile-body"> {userIddleAutoCloseMessage} <p class="p-new-chat"> <button class="btn-new-chat" onclick="{startNewChat}">{startNewBtnText}</button> </p> </div> </div> <div if="{section == \'logout\'}" class="sociomile-container sociomile-login sociomile-wait-confirm"> <div class="sociomile-top"> <div class="sociomile-title">{SOCIOMILE.custom_cs_text ? SOCIOMILE.custom_cs_text : SOCIOMILE.title} </div> </div> <div class="sociomile-body"> {confirmEndMessage} <div class=""> <div class="sociomile-col-6"> <button type="button" class="sociomile-btn" onclick="{grettingLogout}">{confirmLogoutBtnText}</button> </div> <div class="sociomile-col-6"> <button type="button" class="sociomile-btn" onclick="{cancelLogout}">{cancelLogoutBtnText}</button> </div> </div> </div> </div> <div if="{section == \'endConversation\'}" class="sociomile-container sociomile-login sociomile-wait-confirm"> <div class="sociomile-top"> <div class="sociomile-title">{SOCIOMILE.custom_cs_text ? SOCIOMILE.custom_cs_text : SOCIOMILE.title} </div> </div> <div class="sociomile-body text-primary text-sm-center"> {SOCIOMILE.session_end!==\'\' ? SOCIOMILE.session_end.replace(\'[~customer-name]\', custName ) : \'Hai \'+custName+\', Percakapan kamu telah selesai. Terima kasih sudah menggunakan layanan Live Chat kami!\'} <p class="p-new-chat"> <button class="btn-new-chat" onclick="{startNewChat}">{startNewBtnText}</button> </p> </div> </div>','sociomile-chatbot .botloading,[riot-tag="sociomile-chatbot"] .botloading,[data-is="sociomile-chatbot"] .botloading{ width: 100% !important; border-radius: 6px; } sociomile-chatbot .btn-chat,[riot-tag="sociomile-chatbot"] .btn-chat,[data-is="sociomile-chatbot"] .btn-chat{ width: 100%; font-size: 13px; font-weight: bold; text-align: left; border: 0; padding: 6px; color: #0070ff; text-align: center; } sociomile-chatbot .bsolid,[riot-tag="sociomile-chatbot"] .bsolid,[data-is="sociomile-chatbot"] .bsolid{ border-bottom: solid 1px #ccc; } sociomile-chatbot .btop,[riot-tag="sociomile-chatbot"] .btop,[data-is="sociomile-chatbot"] .btop{ border-top-left-radius: 5px; border-top-right-radius: 5px; } sociomile-chatbot .bbottom,[riot-tag="sociomile-chatbot"] .bbottom,[data-is="sociomile-chatbot"] .bbottom{ border-bottom-left-radius: 5px; border-bottom-right-radius: 5px; } sociomile-chatbot ul.list-btn-action,[riot-tag="sociomile-chatbot"] ul.list-btn-action,[data-is="sociomile-chatbot"] ul.list-btn-action{ list-style: none; padding: 4px; margin: 0; } sociomile-chatbot .sociomile-container,[riot-tag="sociomile-chatbot"] .sociomile-container,[data-is="sociomile-chatbot"] .sociomile-container{ -webkit-border-top-left-radius: 4px; -webkit-border-top-right-radius: 4px; -moz-border-radius-topleft: 4px; -moz-border-radius-topright: 4px; border-top-left-radius: 4px; border-top-right-radius: 4px; } sociomile-chatbot .chat-on .sociomile-title,[riot-tag="sociomile-chatbot"] .chat-on .sociomile-title,[data-is="sociomile-chatbot"] .chat-on .sociomile-title{ display: none; } sociomile-chatbot .chat-on .sociomile-agent,[riot-tag="sociomile-chatbot"] .chat-on .sociomile-agent,[data-is="sociomile-chatbot"] .chat-on .sociomile-agent{ float: left; display: flex; align-items: center; width: 100%; height: auto !important; min-height: 64px; padding: 20px !important; } sociomile-chatbot .chat-on .sociomile-top,[riot-tag="sociomile-chatbot"] .chat-on .sociomile-top,[data-is="sociomile-chatbot"] .chat-on .sociomile-top{ width: auto !important; float: right; position: absolute; right: 0; } sociomile-chatbot .adjust-text-cs,[riot-tag="sociomile-chatbot"] .adjust-text-cs,[data-is="sociomile-chatbot"] .adjust-text-cs{ margin-top: 12px !important; } sociomile-chatbot .auto-height,[riot-tag="sociomile-chatbot"] .auto-height,[data-is="sociomile-chatbot"] .auto-height{ height: auto !important; } sociomile-chatbot .p-new-chat,[riot-tag="sociomile-chatbot"] .p-new-chat,[data-is="sociomile-chatbot"] .p-new-chat{ margin-top: 10px; text-align: center; } sociomile-chatbot .btn-new-chat,[riot-tag="sociomile-chatbot"] .btn-new-chat,[data-is="sociomile-chatbot"] .btn-new-chat{ background-color: #3a96d2; border-radius: 4px; color: #ffffff; } sociomile-chatbot .sociomile-bottom,[riot-tag="sociomile-chatbot"] .sociomile-bottom,[data-is="sociomile-chatbot"] .sociomile-bottom{ border-top: 1px solid #cccccc4a; } sociomile-chatbot .typing-loader,[riot-tag="sociomile-chatbot"] .typing-loader,[data-is="sociomile-chatbot"] .typing-loader{ width: 0.5rem; height: 0.5rem; border-radius: 50%; animation: typing 1s linear infinite alternate; position: relative; left: -3rem; margin: 0 auto; } @keyframes typing{ 0%{ background-color: rgba(0,0,0, 1); box-shadow: 3.2rem 0 0 0 rgba(0,0,0,0.2), 6.4rem 0 0 0 rgba(0,0,0,0.2); } 25%{ background-color: rgba(0,0,0, 0.4); box-shadow: 3.2rem 0 0 0 rgba(0,0,0,2), 6.4rem 0 0 0 rgba(0,0,0,0.2); } 75%{ background-color: rgba(0,0,0, 0.4); box-shadow: 3.2rem 0 0 0 rgba(0,0,0,0.2), 6.4rem 0 0 0 rgba(0,0,0,1); } }',"",function(t){var e=this;this.cLength=1e3,this.botIsLoading=!0,this.isCustomerIddle=!1,this.isIddle=null,this.section="main",this.countAutoClose=0,this.greetingMessage=SOCIOMILE.chatbot.greetingMessage?SOCIOMILE.chatbot.greetingMessage:"Hi! Saya Sociobot!",this.comments=[],this.userIddleAutoCloseMessage=SOCIOMILE.chatbot.AutoCloseMessage?SOCIOMILE.chatbot.AutoCloseMessage:"Kami belum menerima response Anda. Izinkan kami untuk mengakhiri percakapan.",this.offlineMessage=SOCIOMILE.lang.offline_message?SOCIOMILE.lang.offline_message:"Maaf! Semua careline kami sedang offline",this.iddleReminderTime=SOCIOMILE.chatbot.iddleReminderTime?SOCIOMILE.chatbot.iddleReminderTime:1,this.maxReminderLimit=SOCIOMILE.chatbot.maxReminderLimit?SOCIOMILE.chatbot.maxReminderLimit:2,this.autoCloseTime=this.iddleReminderTime*this.maxReminderLimit,this.startNewBtnText=SOCIOMILE.chatbot.startNewBtnText?SOCIOMILE.chatbot.startNewBtnText:"Akhiri Percakapan",this.confirmLogoutBtnText=SOCIOMILE.chatbot.confirmLogoutBtnText?SOCIOMILE.chatbot.confirmLogoutBtnText:"Yes",this.cancelLogoutBtnText=SOCIOMILE.chatbot.cancelLogoutBtnText?SOCIOMILE.chatbot.cancelLogoutBtnText:"No",this.confirmEndMessage=SOCIOMILE.chatbot.confirmEndMessage?SOCIOMILE.chatbot.confirmEndMessage:"Apakah Anda yakin ingin mengakhiri percakapan?",this.tryAgainMessage="Maaf ada gangguan, silahkan ketik cs bbrp saat lagi",this.agent={name:"",avatar:""},this.custom_fields=[],this.save_custom_fields={},this.waiting_custom_fields=!1,this.current_custom_fields_index=0,this.save_response=[],this.custom_fields_completed=!1,this.waiting_offline_msg=!1,this.offlineMsg=SOCIOMILE.chatbot.no_ofh_bot_msg?SOCIOMILE.chatbot.no_ofh_bot_msg:"Hai! Mohon maaf saat ini kami tidak dapat melayani kamu. Silakan ketik informasi yang kamu butuhkan, pesan kamu akan kami terima melalui email.",this.csBotText=SOCIOMILE.chatbot.cs_bot_text?SOCIOMILE.chatbot.cs_bot_text:"CS - Bot",this.keyboardNotActive=null,this.init=function(){SOCIOMILE.to("init")}.bind(this),nl2br=function(t){return t.replace(/(?:\r\n|\r|\n)/g," ")},this.checkLength=function(){this.cLength=1e3-this.content.value.trim().length}.bind(this),this.shiftEnter=function(t){if(13==t.keyCode)if(t.shiftKey){if(""==t.target.value.trim())return!1}else SOCIOMILE.jq(t.target.form).submit(),t.preventDefault();return!0}.bind(this),toggleKeyboardactive=function(){window.innerWidth<767&&(e.keyboardNotActive=70,e.update())},toggleKeyboardNotActive=function(){window.innerWidth<767&&(e.keyboardNotActive=null,e.update())},this.send=function(){var t=this.content.value.trim();if(""==t)return!1;if(this.comments.length>0&&this.comments[this.comments.length-1].content==t&&this.comments[this.comments.length-1].is_user)return void alert("komen sudah pernah disubmit.");if(this.cLength<0)return void alert("maks 1000 karakter");var e={content:t,type:"text",actions:null,id:SOCIOMILE.moment().unix(),is_bot:!1,is_user:!0,date:new Date,is_same_row:!1};this.comments.push(e),this.content.value="",this.update(),this.talkToChatbot(t),setTimeout(function(){this.root.querySelector(".sociomile-body").scrollTop=1e7}.bind(this),100)}.bind(this),this.autoCloseCheck=function(){var t=this;SOCIOMILE.chatbot_survey||(this.countAutoClose>=this.maxReminderLimit+1?(this.update({countAutoClose:0,section:"customerIdle"}),this.comments.pop(),this.update(),clearTimeout(this.isIddle),this.createTicket(!1)):this.isIddle=setTimeout(function(){t.isCustomerIddle?(t.comments.push({content:"Kamu sudah iddle selama "+t.iddleReminderTime+" menit, apakah kamu ingin mengakhiri percakapan?",type:"actions",actions:[{name:"Yes",text:"End Conversation",type:"button",value:"end_conversation"},{name:"No",text:"Keep Conversation",type:"button",value:"keep_conversation"}],id:SOCIOMILE.moment().unix(),is_bot:!0,is_user:!1,date:new Date,is_same_row:!1}),t.countAutoClose+=1,t.update(),setTimeout(function(){t.root.querySelector(".sociomile-body").scrollTop=1e7},100),t.autoCloseCheck()):(t.update({countAutoClose:0}),clearTimeout(t.isIddle))},60*this.iddleReminderTime*1e3))}.bind(this),this.handleOffline=function(t){this.botmanSessionClear(SOCIOMILE.localStorageGet("sociomile_chatbot_userBotId"),!1),SOCIOMILE.localStorageRemove("sociomile_chatbot_userBotId"),SOCIOMILE.localStorageRemove("sociomile_chatbot_data"),SOCIOMILE.localStorageRemove("sociomile_chatbot_username"),SOCIOMILE.localStorageRemove("sociomile_chatbot_usermail"),SOCIOMILE.localStorageRemove("sociomile_chatbot_userphone"),SOCIOMILE.localStorageRemove("sociomile_chatbot_history"),SOCIOMILE.localStorageRemove("sociomile_chatbot_start_date"),SOCIOMILE.localStorageRemove("sociomile_chatbot_timezone"),clearTimeout(this.isIddle),this.update({botIsLoading:!0,isCustomerIddle:!1,isIddle:null}),setTimeout(function(){this.update({waiting_offline_msg:!1,botIsLoading:!1}),this.init(),this.sendEmail(t)}.bind(this),3e3)}.bind(this),this.talkToChatbot=function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=SOCIOMILE.localStorageGet("sociomile_chatbot_userBotId"),o=SOCIOMILE.localStorageGet("sociomile_chatbot_username"),s=SOCIOMILE.localStorageGet("sociomile_chatbot_usermail"),r=SOCIOMILE.localStorageGet("sociomile_chatbot_userphone"),a={email:s,name:o,message:t,phone:r,contact_cf:{},ticket_cf:{},id:SOCIOMILE.id};this.checkOfficeHours();if(this.waiting_offline_msg&&this.handleOffline(a),this.waiting_custom_fields){var c=this.save_custom_fields;return c[this.custom_fields[this.current_custom_fields_index].label]=t,this.current_custom_fields_index==this.custom_fields.length-1?(this.update({waiting_custom_fields:!1,save_custom_fields:c,custom_fields_completed:!0}),this.save_response.forEach(function(t,i){("text"==t.type&&""!=t.text||"actions"==t.type&&t.actions.length>0)&&e.comments.push({content:t.text,type:t.type,link:null,actions:t.actions?t.actions:null,id:SOCIOMILE.moment().unix(),is_bot:!0,is_user:!1,date:new Date,is_same_row:!1})})):(this.update({current_custom_fields_index:this.current_custom_fields_index+1,save_custom_fields:c}),("text"==item.type&&""!=item.text||"actions"==item.type&&item.actions.length>0)&&this.comments.push({content:this.custom_fields[this.current_custom_fields_index+1].text,type:item.type,link:null,actions:item.actions?item.actions:null,id:SOCIOMILE.moment().unix(),is_bot:!0,is_user:!1,date:new Date,is_same_row:!1})),SOCIOMILE.localStorageSet("sociomile_chatbot_data",JSON.stringify(this.comments)),void this.update()}clearTimeout(this.isIddle),this.update({botIsLoading:!0,isCustomerIddle:!1,isIddle:null});var l=null;setTimeout(function(){e.root.querySelector(".sociomile-body").scrollTop=1e7,document.getElementById("content").focus()},100),null!=n&&(null==o?l="ask_name":null==s?l="ask_email":null==r&&(l="ask_phone")),i&&(i="CS"==t.value.toUpperCase()?0:i,t="CS"==t.value.toUpperCase()?t.value:t);var u={driver:"web",userId:this.userBotId,message:i?t.value:t,question:i?t.text:null,attachment:null,interactive:i,prev_question:l,timestamp:parseInt(Math.floor(Date.now())/1e3)};"ask_name"==l&&(u.timestamp=parseInt(Math.floor(Date.now())/1e3),u.timezone=Intl.DateTimeFormat().resolvedOptions().timeZone),SOCIOMILE.jq.ajax({url:SOCIOMILE.talkToUrl+"/talk2bot",method:"POST",data:u,dataType:"json",beforeSend:function(){e.update({botIsLoading:!0})},success:function(n){if(200==n.status){e.update({botIsLoading:!1,isCustomerIddle:!0});var o=n.messages,s=o[0].additionalParameters;if(o.forEach(function(n,r){n.additionalParameters.custom_fields&&n.additionalParameters.custom_fields.length>0&&n.additionalParameters.user_phone&&!e.custom_fields_completed?(e.update({waiting_custom_fields:!0,current_custom_fields_index:0,custom_fields:n.additionalParameters.custom_fields,save_response:o}),e.comments.push({content:n.additionalParameters.custom_fields[0].text,type:"text",link:null,actions:null,id:SOCIOMILE.moment().unix(),is_bot:!0,is_user:!1,date:i||"CS"==t.toUpperCase()?null:new Date,is_same_row:r!=o.length-1})):(n.additionalParameters.contact_message||""==n.text||e.comments.push({content:n.text,type:n.type,link:s.link?s.link:null,actions:n.actions?n.actions:null,id:SOCIOMILE.moment().unix(),is_bot:!0,is_user:!1,date:i||"CS"==t.toUpperCase()?null:new Date,is_same_row:r!=o.length-1}),""==n.text&&n.actions&&n.actions.length>0&&e.comments.push({content:n.text,type:n.type,link:s.link?s.link:null,actions:n.actions?n.actions:null,id:SOCIOMILE.moment().unix(),is_bot:!0,is_user:!1,date:i||"CS"==t.toUpperCase()?null:new Date,is_same_row:r!=o.length-1})),e.update(),(!i&&"CS"!=t.toUpperCase()||i&&"CS"!=t.value)&&SOCIOMILE.localStorageSet("sociomile_chatbot_data",JSON.stringify(e.comments)),setTimeout(function(){e.root.querySelector(".sociomile-body").scrollTop=1e7},100),n.additionalParameters.exit_survey&&localStorage.clear()}),s.conversation_start_date&&SOCIOMILE.localStorageSet("sociomile_chatbot_start_date",s.conversation_start_date),s.timezone&&SOCIOMILE.localStorageSet("sociomile_chatbot_timezone",s.timezone),s.history){var r="";s.history.forEach(function(t,e){r+=t+"\n"}),SOCIOMILE.localStorageSet("sociomile_chatbot_history",r)}if(!s.sequence&&(i&&e.autoCloseCheck(),i||"CS"==t.toUpperCase()||"init_greeting"==t||s.invalid_char||e.autoCloseCheck(),!i&&"CS"==t.toUpperCase())){var a=SOCIOMILE.localStorageGet("sociomile_chatbot_username"),c=SOCIOMILE.localStorageGet("sociomile_chatbot_usermail"),l=SOCIOMILE.localStorageGet("sociomile_chatbot_userphone"),u=SOCIOMILE.localStorageGet("sociomile_chatbot_start_date"),d=SOCIOMILE.localStorageGet("sociomile_chatbot_timezone"),h=SOCIOMILE.localStorageGet("sociomile_chatbot_history");e.update({botIsLoading:!0,isCustomerIddle:!1}),e.checkIsAgentOnline({email:c,name:a,message:"--Previous conversation with bot--\nStart: "+u+" ("+d+")\nUser Email: "+c+"\nUser phone: "+l+"\n",bot_history:h,phone:l,contact_cf:{},ticket_cf:{},id:SOCIOMILE.id,is_customer:!1,is_agent:!0})}s.user_name?(SOCIOMILE.localStorageSet("sociomile_chatbot_username",s.user_name),e.custName=s.user_name,e.update()):s.user_email?SOCIOMILE.localStorageSet("sociomile_chatbot_usermail",s.user_email):s.user_phone&&SOCIOMILE.localStorageSet("sociomile_chatbot_userphone",s.user_phone)}},error:function(e){"init_greeting"==t&&SOCIOMILE.localStorageRemove("sociomile_chatbot_userBotId"),SOCIOMILE.error(e)}})}.bind(this),this.chooseAnswer=function(t){"end_conversation"==t.value?e.logoutFromActive():"keep_conversation"==t.value?(e.countAutoClose=0,clearTimeout(e.isIddle),e.comments.pop(),e.update(),setTimeout(function(){e.root.querySelector(".sociomile-body").scrollTop=1e7},100),e.autoCloseCheck()):(SOCIOMILE.chatbot_survey&&e.comments.push({content:t.text,type:"text",actions:null,id:SOCIOMILE.moment().unix(),is_bot:!1,is_user:!0,date:new Date,is_same_row:!1}),e.talkToChatbot(t,1))},this.checkIsAgentOnline=function(t){clearTimeout(e.isIddle),e.update({countAutoClose:0,botIsLoading:!0}),SOCIOMILE.jq.ajax({url:SOCIOMILE.url+"/check",dataType:"json",success:function(i){if(i.data.status)e.update({botIsLoading:!1}),e.loginToApp(t);else{var n=e.checkOfficeHours(),o=n?e.offlineMessage:e.offlineMsg;n||(e.waiting_offline_msg=!0,e.update()),setTimeout(function(){e.comments.pop(),e.comments.push({content:o,type:"text",actions:null,id:SOCIOMILE.moment().unix(),is_bot:!0,is_user:!1,date:new Date,is_same_row:!1}),e.botIsLoading=!1,e.isCustomerIddle=!0,e.update(),SOCIOMILE.localStorageSet("sociomile_chatbot_data",JSON.stringify(e.comments)),setTimeout(function(){e.root.querySelector(".sociomile-body").scrollTop=1e7},100),e.autoCloseCheck()},5e3)}},error:function(t){500==t.status?(e.comments.pop(),e.comments.push({content:e.tryAgainMessage,type:"text",actions:null,id:SOCIOMILE.moment().unix(),is_bot:!0,is_user:!1,date:new Date,is_same_row:!1}),e.botIsLoading=!1,e.isCustomerIddle=!0,e.update(),SOCIOMILE.localStorageSet("sociomile_chatbot_data",JSON.stringify(e.comments))):SOCIOMILE.error(t)}})},this.loginToApp=function(t){var e=this;SOCIOMILE.jq.ajax({url:SOCIOMILE.loginUrl+"/login-standar",method:"post",data:t,dataType:"json",success:function(i){e.botmanSessionClear(SOCIOMILE.localStorageGet("sociomile_chatbot_userBotId"),!0),SOCIOMILE.localStorageRemove("sociomile_token"),SOCIOMILE.localStorageRemove("sociomile_name"),SOCIOMILE.localStorageRemove("sociomile_c_cup"),SOCIOMILE.localStorageRemove("sociomile_is_survey"),SOCIOMILE.localStorageRemove("sociomile_la"),SOCIOMILE.localStorageRemove("sociomile_data"),SOCIOMILE.localStorageSet("sociomile_token",i.data.token),SOCIOMILE.localStorageSet("sociomile_name",t.name),SOCIOMILE.localStorageSet("sociomile_chatbot_overtaken",!0),SOCIOMILE.localStorageSet("sociomile_queue_number",i.data.queue),SOCIOMILE.to("chat",{token:i.data.token,message:t.message})},error:function(t){500==t.status?(e.comments.pop(),e.comments.push({content:e.tryAgainMessage,type:"text",actions:null,id:SOCIOMILE.moment().unix(),is_bot:!0,is_user:!1,date:new Date,is_same_row:!1}),e.botIsLoading=!1,e.isCustomerIddle=!0,e.update(),SOCIOMILE.localStorageSet("sociomile_chatbot_data",JSON.stringify(e.comments))):t.responseJSON&&100==t.responseJSON.code?(e.update({errors:null}),e.update({errors:t.responseJSON.errors})):SOCIOMILE.error(t)}})}.bind(this),this.minimize=function(){this.section="minimize",clearTimeout(this.isIddle)}.bind(this),this.maximize=function(){var t=this;null!=SOCIOMILE.localStorageGet("sociomile_chatbot_userBotId")&&null!=SOCIOMILE.localStorageGet("sociomile_chatbot_username")&&null!=SOCIOMILE.localStorageGet("sociomile_chatbot_usermail")&&null!=SOCIOMILE.localStorageGet("sociomile_chatbot_userphone")&&this.autoCloseCheck(),this.section="main",this.isCustomerIddle=!0,this.update(),setTimeout(function(){t.root.querySelector(".sociomile-body").scrollTop=1e7},100)}.bind(this),this.startNewChat=function(){var t=this;this.section="main",this.comments=[{content:this.greetingMessage,type:"text",actions:null,id:SOCIOMILE.moment().unix(),is_bot:!0,is_user:!1,date:new Date,is_same_row:!1}],this.userBotId=parseInt(1e6*Math.random(1,100))+"_"+SOCIOMILE.id,this.countAutoClose=0,this.update(),SOCIOMILE.localStorageSet("sociomile_chatbot_userBotId",this.userBotId),this.talkToChatbot("init_greeting"),setTimeout(function(){t.root.querySelector(".sociomile-body").scrollTop=1e7},100)}.bind(this),this.logoutFromActive=function(){null!=SOCIOMILE.localStorageGet("sociomile_chatbot_userBotId")&&null!=SOCIOMILE.localStorageGet("sociomile_chatbot_username")&&null!=SOCIOMILE.localStorageGet("sociomile_chatbot_usermail")&&null!=SOCIOMILE.localStorageGet("sociomile_chatbot_userphone")?(this.section="logout",this.update()):this.minimize()}.bind(this),this.grettingLogout=function(){this.section="endConversation",this.update(),this.createTicket(!1)}.bind(this),this.cancelLogout=function(){var t=this;clearTimeout(this.isIddle),this.countAutoClose=0,this.update(),setTimeout(function(){t.root.querySelector(".sociomile-body").scrollTop=1e7},100),this.maximize()}.bind(this),this.createTicket=function(){var t=this,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(clearTimeout(this.isIddle),this.update({botIsLoading:!1,isCustomerIddle:!1,isIddle:null}),SOCIOMILE.localStorageGet("sociomile_chatbot_history").length>0){var i=SOCIOMILE.localStorageGet("sociomile_chatbot_start_date"),n=SOCIOMILE.localStorageGet("sociomile_chatbot_timezone"),o=SOCIOMILE.localStorageGet("sociomile_chatbot_usermail"),s=SOCIOMILE.localStorageGet("sociomile_chatbot_userphone"),r=SOCIOMILE.localStorageGet("sociomile_chatbot_history"),a="--Previous conversation with bot--\nStart: "+i+" ("+n+")\nUser Email: "+o+"\nUser phone: "+s+"\n"+r;SOCIOMILE.jq.ajax({url:SOCIOMILE.url+"/create-ticket-bot",method:"post",data:{id:SOCIOMILE.id,timestamp:parseInt(Math.floor(Date.now())/1e3),userId:SOCIOMILE.localStorageGet("sociomile_chatbot_userBotId"),name:SOCIOMILE.localStorageGet("sociomile_chatbot_username"),email:SOCIOMILE.localStorageGet("sociomile_chatbot_usermail"),phone:s,message:a},dataType:"json",success:function(i){t.botmanSessionClear(SOCIOMILE.localStorageGet("sociomile_chatbot_userBotId"),e,i.ticket),SOCIOMILE.localStorageRemove("sociomile_chatbot_userBotId"),SOCIOMILE.localStorageRemove("sociomile_chatbot_data"),SOCIOMILE.localStorageRemove("sociomile_chatbot_username"),SOCIOMILE.localStorageRemove("sociomile_chatbot_usermail"),SOCIOMILE.localStorageRemove("sociomile_chatbot_userphone"),SOCIOMILE.localStorageRemove("sociomile_chatbot_history"),SOCIOMILE.localStorageRemove("sociomile_chatbot_start_date"),SOCIOMILE.localStorageRemove("sociomile_chatbot_timezone"),t.update()},error:function(e){SOCIOMILE.error(e),t.update()}})}}.bind(this),this.botmanSessionClear=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;SOCIOMILE.jq.ajax({url:SOCIOMILE.clearBotSessionUrl+"/clear-bot-session",method:"POST",data:{driver:"web",userId:t,service:"chat",account:SOCIOMILE.id,handle_by_cs:e?1:0,ticket_id:i},dataType:"json",success:function(t){},error:function(t){SOCIOMILE.error(t)}})}.bind(this),this.on("mount",function(){var t={},e=document.createElement("a");e.href=window.location.href;for(var i=e.search.substring(1),n=i.split("&"),o=0;o<n.length;o++){var s=n[o].split("=");t[s[0]]=decodeURIComponent(s[1])}if(t.type&&"webview"==t.type&&(this.isWebView=!0,this.update()),null!=SOCIOMILE.localStorageGet("sociomile_chatbot_userBotId")&&null==SOCIOMILE.localStorageGet("sociomile_chatbot_data")&&SOCIOMILE.localStorageRemove("sociomile_chatbot_userBotId"),!SOCIOMILE.chatbot_survey,null!=SOCIOMILE.localStorageGet("sociomile_chatbot_overtaken")&&SOCIOMILE.localStorageGet("sociomile_chatbot_overtaken")&&SOCIOMILE.to("chat"),this.userBotId=null!=SOCIOMILE.localStorageGet("sociomile_chatbot_userBotId")?SOCIOMILE.localStorageGet("sociomile_chatbot_userBotId"):parseInt(1e6*Math.random(1,100))+"_"+SOCIOMILE.id,this.update(),null!=SOCIOMILE.localStorageGet("sociomile_chatbot_userBotId")){this.userBotId=SOCIOMILE.localStorageGet("sociomile_chatbot_userBotId");var r=JSON.parse(SOCIOMILE.localStorageGet("sociomile_chatbot_data"));this.comments=r,this.update(),setTimeout(function(){this.root.querySelector(".sociomile-body").scrollTop=1e7}.bind(this),100)}else this.userBotId=parseInt(1e6*Math.random(1,100))+"_"+SOCIOMILE.id,this.update(),this.talkToChatbot("init_greeting");SOCIOMILE.localStorageSet("sociomile_chatbot_userBotId",this.userBotId),this.update({botIsLoading:!1}),setTimeout(function(){this.update({isMount:!0})}.bind(this),5e3)}),this.sendEmail=function(t){fetch(SOCIOMILE.url+"/send-email",{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then(function(t){t.json()})["catch"](function(t){}).then(function(t){})}.bind(this),this.findObjectByKey=function(t,e,i){for(var n=0==i?7:i,o=0;o<t.length;o++)if(t[o][e]===n)return t[o];return null}.bind(this),this.checkOfficeHours=function(){var t=SOCIOMILE.office_hours,e=SOCIOMILE.special_hours,i=new Date,n=i.getDate()<10?"0"+i.getDate():i.getDate(),o=i.getFullYear()+"-"+(i.getMonth()+1)+"-"+n;if(e.length>0&&(spesialDay=this.findObjectByKey(e,"date",o),spesialDay)){if(spesialDay.is_close)return!1;var s=spesialDay.from.split(":"),r=spesialDay.to.split(":");return i.getHours()>=parseInt(s[0])&&i.getHours()<=parseInt(r[0])&&(i.getHours()==parseInt(s[0])?i.getMinutes()>=parseInt(s[1]):i.getHours()!=parseInt(r[0])||i.getMinutes()<=parseInt(r[1]))}if(!t.status)return!0;var a=t.data,c=this.findObjectByKey(a,"day",i.getDay());if(c){if(c.is_close)return!1;var l=c.from.split(":"),u=c.to.split(":");return i.getHours()>=parseInt(l[0])&&i.getHours()<=parseInt(u[0])&&(i.getHours()==parseInt(l[0])?i.getMinutes()>=parseInt(l[1]):i.getHours()!=parseInt(u[0])||i.getMinutes()<=parseInt(u[1]))}}.bind(this)}),SOCIOMILE.riot.tag2("sociomile-init",'<div if="{!isCheck && !isChecking}" class="{sociomile-container: !custom_widget_url} {sociomile-init: !custom_widget_url} {auto_width: !custom_widget_url} {custom_widget_container: custom_widget_url}" onclick="{check}"> <span if="{!custom_widget_url}"><i class="ion ion-chatboxes"></i> {widget_title}</span> <img if="{custom_widget_url}" riot-src="{custom_widget_url}" class="custom_widget" riot-style="width: {widget_icon_size + \'px\'} !important;" alt="{name}"> </div> <div if="{isCheck && isOffline && !isChecking}" class="sociomile-container sociomile-init sociomile-offline" onclick="{check}"> <div class="sociomile-top"> <div class="sociomile-title">{title} </div> </div> <div class="sociomile-body"> <div class="sociomile-sorry"> <sociomile-raw content="{originalOfflineMessage}"></sociomile-raw> </div> </div> </div> <div if="{isChecking}" class="sociomile-container sociomile-init sociomile-offline"> <div class="sociomile-top"> <div class="sociomile-title">{title} </div> </div> <div class="sociomile-body"> <div class="sociomile-sorry">Mohon tunggu sebentar...</div> </div> </div>','sociomile-init .auto_width,[riot-tag="sociomile-init"] .auto_width,[data-is="sociomile-init"] .auto_width{ padding-left: 10px; padding-right: 10px; width: auto !important; } sociomile-init .custom_widget_container,[riot-tag="sociomile-init"] .custom_widget_container,[data-is="sociomile-init"] .custom_widget_container{ position: fixed; z-index: 100000000; display: block; bottom: 0; right: 12px; cursor: pointer; } ,sociomile-init .custom_widget,[riot-tag="sociomile-init"] .custom_widget,[data-is="sociomile-init"] .custom_widget{ width: 140px; }',"",function(t){this.isCheck=!1,this.isOffline=!1,this.isChecking=!1,this.idT=null,this.check=function(){SOCIOMILE.project&&SOCIOMILE.project.length>0?SOCIOMILE.to("multi-chat-selector"):SOCIOMILE.to("login")}.bind(this),this.on("mount",function(){SOCIOMILE.noScroll(!1),SOCIOMILE.project?(this.widget_title=SOCIOMILE.project[0].widget_title,this.title=SOCIOMILE.project[0].title,this.name=SOCIOMILE.project[0].name,this.offlineMesage=SOCIOMILE.project[0].lang.offline_message,this.originalOfflineMessage=SOCIOMILE.project[0].lang.offline_message,this.custom_widget_url=""!==SOCIOMILE.project[0].custom_widget_url&&SOCIOMILE.project[0].custom_widget_url,this.widget_icon_size=SOCIOMILE.project[0].widget_icon_size?SOCIOMILE.project[0].widget_icon_size:60,this.update()):(this.widget_title=SOCIOMILE.widget_title,this.title=SOCIOMILE.title,this.name=SOCIOMILE.name,this.offlineMesage=SOCIOMILE.lang.offline_message,this.originalOfflineMessage=SOCIOMILE.lang.offline_message,this.custom_widget_url=""!==SOCIOMILE.custom_widget_url&&SOCIOMILE.custom_widget_url,this.widget_icon_size=SOCIOMILE.widget_icon_size,this.update())})}),SOCIOMILE.riot.tag2("sociomile-login",'<div if="{isToLogin && !notOfficeHour}" class="sociomile-container sociomile-login adjust-login-container" riot-style="height: {widget_max_height_body}px"> <div class="sociomile-top" riot-style="background: #{customColor};"> <div class="sociomile-title">{SOCIOMILE.custom_cs_text ? SOCIOMILE.custom_cs_text : SOCIOMILE.title} </div> <div class="nav-logout" onclick="{init}"><i class="ion ion-chevron-down"></i> </div> </div> <div class="sociomile-body adjust-body-height" riot-style="height: {widget_max_height}px"> <div class="wording"> <sociomile-raw content="{SOCIOMILE.lang.welcome}"></sociomile-raw> </div> <form onsubmit="{loginStandar}"> <div class="sociomile-f-ctrl {sociomile-warning: errors.name}"> <input class="i1" type="text" name="name" placeholder="{SOCIOMILE.lang.form.name}"> </div> <div class="sociomile-f-ctrl {sociomile-warning: errors.email}"> <input class="i1 last" type="text" name="email" placeholder="{SOCIOMILE.lang.form.email}"> </div> <div class="sociomile-f-ctrl {sociomile-warning: errors.phone}"> <input class="i1 last" type="text" name="phone" placeholder="{SOCIOMILE.lang.form.phone}"> </div> <div each="{item in SOCIOMILE.lang.custom_contact_field}" class="sociomile-f-ctrl"> <input if="{item.type ==\'text\'}" __required="{item.required}" class="i1 last" type="text" name="contact_cf_{item.type}_{item.id}" id="contact_cf_{item.type}_{item.id}" placeholder="{item.label}"> <input if="{item.type ==\'number\'}" __required="{item.required}" class="i1 last" name="contact_cf_{item.type}_{item.id}" id="contact_cf_{item.type}_{item.id}" placeholder="{item.label}" type="number"> <input if="{item.type ==\'email\'}" __required="{item.required}" class="i1 last" name="contact_cf_{item.type}_{item.id}" id="contact_cf_{item.type}_{item.id}" placeholder="{item.label}" type="email"> <select if="{item.type==\'select\'}" onchange="{changeMe}" __required="{item.required}" class="i1 last placeholder" name="contact_cf_{item.type}_{item.id}" id="contact_cf_{item.type}_{item.id}"> <option value="" disabled selected>{item.label}</option> <option each="{opt in item.options}" value="{opt}">{opt}</option> </select> </div> <div each="{item in SOCIOMILE.lang.custom_ticket_field}" class="sociomile-f-ctrl"> <input if="{item.tag ==\'input\'}" __required="{item.required}" class="i1 last" type="{item.type}" name="ticket_cf_{item.type}_{item.name}" id="ticket_cf_{item.type}_{item.name}" placeholder="{item.label}"> <select if="{item.tag==\'select\'}" onchange="{changeMe}" __required="{item.required}" class="i1 last placeholder" name="ticket_cf_{item.type}_{item.name}" id="ticket_cf_{item.type}_{item.name}"> <option value="" disabled selected>{item.label}</option> <option each="{opt in item.options}" value="{opt.value}">{opt.display}</option> </select> <textarea if="{item.tag==\'textarea\'}" __required="{item.required}" class="i2 last" name="ticket_cf_{item.type}_{item.name}" id="ticket_cf_{item.type}_{item.name}" placeholder="{item.label}"></textarea> </div> <div class="sociomile-f-ctrl {sociomile-warning: errors.message}"> <input class="message" type="text" name="message" placeholder="{SOCIOMILE.lang.form.message}"> <small class="text-danger">{errors.message}</small> </div> <div class="sociomile-f-ctrl"> <button type="submit" class="sociomile-btn {loginDisable ? \'login-disable\' : \'\'}" __disabled="{loginDisable}" riot-style="background: #{customColor};">{SOCIOMILE.lang.form.btn_login}</button> </div> </form> </div> <div class="sociomile-footer">Powered by <a href="https://sociomile.com" target="_blank">SOCIOMILE</a></div> </div> <div if="{isChecking}" class="sociomile-container sociomile-init sociomile-offline"> <div class="sociomile-top"> <div class="sociomile-title">{SOCIOMILE.custom_cs_text ? SOCIOMILE.custom_cs_text : SOCIOMILE.title} </div> </div> <div class="sociomile-body"> <div class="sociomile-sorry">Please wait...</div> </div> </div> <div if="{notOfficeHour}" class="sociomile-container sociomile-login adjust-login-container"> <div class="sociomile-top"> <div class="sociomile-title">{SOCIOMILE.custom_cs_text ? SOCIOMILE.custom_cs_text : SOCIOMILE.title} </div> <div class="nav-logout" onclick="{init}"><i class="ion ion-chevron-down"></i> </div> </div> <div class="sociomile-body adjust-body-height"> <form onsubmit="{loginStandar}"> <sociomile-raw content="{SOCIOMILE.not_office_hour_msg}"></sociomile-raw> <div class="sociomile-f-ctrl {sociomile-warning: errors.name}"> <input class="i1" type="text" name="name_o" placeholder="{SOCIOMILE.lang.form.name}"> </div> <div class="sociomile-f-ctrl {sociomile-warning: errors.email}"> <input class="i1 last" type="text" name="email_o" placeholder="{SOCIOMILE.lang.form.email}"> </div> <div class="sociomile-f-ctrl {sociomile-warning: errors.phone}"> <input class="i1 last" type="text" name="phone_o" placeholder="{SOCIOMILE.lang.form.phone}"> </div> <div class="sociomile-f-ctrl {sociomile-warning: errors.message}"> <input class="message" type="text" name="message_o" placeholder="{SOCIOMILE.lang.form.message}"> <small class="text-danger">{errors.message}</small> </div> <div each="{item in SOCIOMILE.lang.custom_contact_field}" class="sociomile-f-ctrl"> <input if="{item.type ==\'text\'}" __required="{item.required}" class="i1 last" type="text" name="contact_cf_{item.type}_{item.id}_o" id="contact_cf_{item.type}_{item.id}_o" placeholder="{item.label}"> <select onchange="{changeMe}" if="{item.type==\'select\'}" __required="{item.required}" class="i1 last placeholder" name="contact_cf_{item.type}_{item.id}_o" id="contact_cf_{item.type}_{item.id}_o"> <option value="" disabled selected>{item.label}</option> <option each="{opt in item.options}" value="{opt}">{opt}</option> </select> </div> <div each="{item in SOCIOMILE.lang.custom_ticket_field}" class="sociomile-f-ctrl"> <input if="{item.type ==\'text\'}" __required="{item.required}" class="i1 last" type="text" name="ticket_cf_{item.type}_{item.name}_o" id="ticket_cf_{item.type}_{item.name}_o" placeholder="{item.label}"> <select onchange="{changeMe}" if="{item.type==\'select\'}" __required="{item.required}" class="i1 last placeholder" name="ticket_cf_{item.type}_{item.name}_o" id="ticket_cf_{item.type}_{item.name}_o"> <option value="" disabled selected>{item.label}</option> <option each="{opt in item.options}" value="{opt}">{opt}</option> </select> </div> <div class="sociomile-f-ctrl"> <button type="submit" class="sociomile-btn {loginDisable ? \'login-disable\' : \'\'}" __disabled="{loginDisable}" riot-style="background: #{customColor};">{SOCIOMILE.lang.form.btn_login}</button> </div> </form> </div> <div class="sociomile-footer">Powered by <a href="https://sociomile.com" target="_blank">SOCIOMILE</a></div> </div> <div if="{isOffline}" class="sociomile-container sociomile-init sociomile-offline" onclick="{check}"> <div class="sociomile-top"> <div class="sociomile-title">{SOCIOMILE.custom_cs_text ? SOCIOMILE.custom_cs_text : SOCIOMILE.title} </div> </div> <div class="sociomile-body"> <div class="sociomile-sorry"> <sociomile-raw content="{offlineMesage}"></sociomile-raw> </div> </div> </div>','sociomile-login #chat-app .sociomile-body.adjust-body-height form,[riot-tag="sociomile-login"] #chat-app .sociomile-body.adjust-body-height form,[data-is="sociomile-login"] #chat-app .sociomile-body.adjust-body-height form{ min-height: calc(100% - 70px)!important; } sociomile-login select,[riot-tag="sociomile-login"] select,[data-is="sociomile-login"] select{ color: #777; } sociomile-login .placeholder,[riot-tag="sociomile-login"] .placeholder,[data-is="sociomile-login"] .placeholder{ color: #777 } sociomile-login .opt-black,[riot-tag="sociomile-login"] .opt-black,[data-is="sociomile-login"] .opt-black{ color: #000; } sociomile-login .login-disable,[riot-tag="sociomile-login"] .login-disable,[data-is="sociomile-login"] .login-disable{ background-color: #ccc !important; cursor: default !important; } sociomile-login .sociomile-body .sociomile-f-ctrl select,[riot-tag="sociomile-login"] .sociomile-body .sociomile-f-ctrl select,[data-is="sociomile-login"] .sociomile-body .sociomile-f-ctrl select,sociomile-login .sociomile-body .sociomile-f-ctrl textarea,[riot-tag="sociomile-login"] .sociomile-body .sociomile-f-ctrl textarea,[data-is="sociomile-login"] .sociomile-body .sociomile-f-ctrl textarea{ border: 0; width: 100%; height: 100%; box-sizing: border-box; padding: 8px; font-size: 14px; background-image: none; display: block; outline-style: none; border-radius: 4px; background: #f4f4f4; margin-bottom: 4px; border: 1px solid #fff !important; }',"",function(e){this.errors=null,this.isToLogin=!1,this.isOffline=!1,this.idT=null,this.notOfficeHour=!1,this.loginDisable=!1,this.submiting=!1,this.changeMe=function(t){t.target.className="i1 last opt-black",this.update()}.bind(this),this.isChecking=!1,this.facebook=function(){this.login("facebook")}.bind(this),this.twitter=function(){this.login("twitter")}.bind(this),this.gmail=function(){this.login("gmail")}.bind(this),this.init=function(){SOCIOMILE.to("init")}.bind(this),this.on("unmount",function(){SOCIOMILE.noScroll(!1)}),this.on("mount",function(){if(SOCIOMILE.draggable(),SOCIOMILE.chatbot.active)SOCIOMILE.to("chatbot");else{var t=this.checkOfficeHours();t?this.update({isToLogin:!0,notOfficeHour:!1}):this.update({notOfficeHour:!0,isToLogin:!0})}SOCIOMILE.project?(this.offlineMesage=SOCIOMILE.project[0].lang.offline_message,this.customColor=SOCIOMILE.project[0].custom_widget_color,this.update()):(this.offlineMesage=SOCIOMILE.lang.offline_message,this.customColor=SOCIOMILE.custom_widget_color,this.update()),SOCIOMILE.project?(this.widget_max_height=SOCIOMILE.project[0].widget_max_height?SOCIOMILE.project[0].widget_max_height:335,this.widget_max_height_body=Number(this.widget_max_height)+65):(this.widget_max_height=SOCIOMILE.widget_max_height,this.widget_max_height_body=Number(this.widget_max_height)+65),this.update(),SOCIOMILE.noScroll(!0)}),this.login=function(t){var e=(screen.height-500)/2,i=(screen.width-500)/2,n=["height=500","width=500","toolbar=0","scrollbars=0","status=0","resizable=0","location=0","menuBar=0","left="+i,"top="+e].join(",");window.open(SOCIOMILE.url+"/connect/"+t,"login",n).focus()}.bind(this),this.checkIsAgentOnline=function(t){SOCIOMILE.jq.ajax({url:SOCIOMILE.url+"/check",dataType:"json",success:function(e){if(e.data.status)this.loginToApp(t);else{var i={message:"Chat Window Offline",id:"05-Chat-Window-Offline"};SOCIOMILE.DataLayer(i),SOCIOMILE.is_receive_email_when_agent_offline&&this.sendEmail(t),setTimeout(function(){this.update({isChecking:!1,isToLogin:!1,isOffline:!0})}.bind(this),3e3),clearTimeout(this.idT),this.idT=setTimeout(function(){clearTimeout(this.idT),this.update({isChecking:!1,isCheck:!1}),this.init()}.bind(this),12e3)}}.bind(this),error:function(){this.update({isChecking:!1,isToLogin:!0})}.bind(this)})}.bind(this),this.sendEmail=function(t){fetch(SOCIOMILE.url+"/send-email",{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then(function(t){t.json()})["catch"](function(t){}).then(function(t){})}.bind(this),this.loginToApp=function(t){SOCIOMILE.jq.ajax({url:(SOCIOMILE.loginUrl?SOCIOMILE.loginUrl:SOCIOMILE.url)+"/login-standar",method:"post",data:t,dataType:"json",success:function(e){this.update({isToLogin:!1,loginDisable:!1});var i={message:"Chat Started",id:"01-Chat-Started"};SOCIOMILE.DataLayer(i),SOCIOMILE.localStorageRemove("sociomile_token"),SOCIOMILE.localStorageRemove("sociomile_name"),SOCIOMILE.localStorageRemove("sociomile_c_cup"),SOCIOMILE.localStorageRemove("sociomile_is_survey"),SOCIOMILE.localStorageRemove("sociomile_la"),SOCIOMILE.localStorageRemove("sociomile_data"),SOCIOMILE.localStorageSet("sociomile_token",e.data.token),SOCIOMILE.localStorageSet("sociomile_name",t.name),SOCIOMILE.localStorageSet("sociomile_email",t.email),SOCIOMILE.localStorageSet("sociomile_tiketId",e.data.tiket_id),SOCIOMILE.localStorageSet("sociomile_phone",t.phone),SOCIOMILE.localStorageSet("sociomile_queue_number",e.data.queue),SOCIOMILE.to("chat",{token:e.data.token,message:t.message}),t.tiketId=e.data.tiket_id,t.status="open",SOCIOMILE.hitOnEvent(t)}.bind(this),error:function(t){this.update({isToLogin:!1,loginDisable:!1}),t.responseJSON&&100==t.responseJSON.code?(this.update({errors:null}),this.update({errors:t.responseJSON.errors})):SOCIOMILE.error(t)}.bind(this)})}.bind(this),this.loginStandar=function(){if(this.submiting)return!1;var e=this.phone.value;if(e=e.replace(/([+.*-]|[ ])/g,""),""!=this.phone.value){var i=/^\d+$/;if(!i.test(e))return this.update({errors:{phone:!0}}),!1;if(6==parseInt(e.charAt(0))&&(e.length<11||e.length>13))return this.update({errors:{phone:!0}}),!1;if(0==parseInt(e.charAt(0))&&(e.length<10||e.length>12))return this.update({errors:{phone:!0}}),!1;if(0!=parseInt(e.charAt(0))&&6!=parseInt(e.charAt(0)))return this.update({errors:{phone:!0}}),!1;this.update({errors:{phone:!1}})}if(this.update({loginDisable:!0}),this.submiting=!0,!this.isToLogin)return!1;this.isToLogin=!0;var n={email:this.email.value,name:this.name.value,message:this.message.value,phone:e,contact_cf:{},ticket_cf:{},id:SOCIOMILE.id};this.notOfficeHour&&(n={email:this.email_o.value,name:this.name_o.value,message:this.message_o.value,phone:this.phone_o.value,contact_cf:{},ticket_cf:{},id:SOCIOMILE.id});var o=this.notOfficeHour?"_o":"",s=SOCIOMILE.lang.custom_contact_field,r=SOCIOMILE.lang.custom_ticket_field;if(s.length>0)for(c in s)n.contact_cf[s[c].id]=this["contact_cf_"+s[c].type+"_"+s[c].id+o].value||"";if(window.checkThisChatWindow=this,r.length>0)for(t in r){var a=this["ticket_cf_"+r[t].type+"_"+r[t].name+o];n.ticket_cf[r[t].name]=a.value||""}SOCIOMILE.jq.ajax({url:SOCIOMILE.url+"/check-form-login",method:"post",data:n,dataType:"json",success:function(t){this.submiting=!1,t.status&&(this.update({isChecking:!0,isToLogin:!1}),this.notOfficeHour?(this.update({notOfficeHour:!1}),setTimeout(function(){this.update({loginDisable:!1}),this.init(),this.checkIsAgentOnline(n)}.bind(this),3e3)):this.checkIsAgentOnline(n))}.bind(this),error:function(t){this.submiting=!1,this.update({isToLogin:!0,loginDisable:!1}),t.responseJSON&&100==t.responseJSON.code?(this.update({errors:null}),this.update({errors:t.responseJSON.errors})):SOCIOMILE.error(t)}.bind(this)})}.bind(this),this.findObjectByKey=function(t,e,i){for(var n=0==i?7:i,o=0;o<t.length;o++)if(t[o][e]===n)return t[o];return null}.bind(this),this.checkOfficeHours=function(){var t=SOCIOMILE.office_hours,e=SOCIOMILE.special_hours,i=new Date,n=i.getDate()<10?"0"+i.getDate():i.getDate(),o=i.getFullYear()+"-"+(i.getMonth()+1)+"-"+n;if(e.length>0&&(spesialDay=this.findObjectByKey(e,"date",o),spesialDay)){if(spesialDay.is_close)return!1;var s=spesialDay.from.split(":"),r=spesialDay.to.split(":");return i.getHours()>=parseInt(s[0])&&i.getHours()<=parseInt(r[0])&&(i.getHours()==parseInt(s[0])?i.getMinutes()>=parseInt(s[1]):i.getHours()!=parseInt(r[0])||i.getMinutes()<=parseInt(r[1]))}if(!t.status)return!0;var a=t.data,c=this.findObjectByKey(a,"day",i.getDay());if(c){if(c.is_close)return!1;var l=c.from.split(":"),u=c.to.split(":");return i.getHours()>=parseInt(l[0])&&i.getHours()<=parseInt(u[0])&&(i.getHours()==parseInt(l[0])?i.getMinutes()>=parseInt(l[1]):i.getHours()!=parseInt(u[0])||i.getMinutes()<=parseInt(u[1]))}}.bind(this),this.dummy=function(){var t={hp:"09877489871",email:"john@doe.com",name:"john doe",message:"haiiiiii",subject_id:1,subject_name:"keluhan"};SOCIOMILE.jq.ajax({url:SOCIOMILE.url+"/login-standar",method:"post",data:t,dataType:"json",success:function(e){SOCIOMILE.localStorageSet("sociomile_token",e.data.token),SOCIOMILE.localStorageSet("sociomile_name",t.name),SOCIOMILE.localStorageSet("sociomile_queue_number",e.data.queue),SOCIOMILE.to("chat",{token:e.data.token,message:t.message})}.bind(this),error:function(t){t.responseJSON&&100==t.responseJSON.code?(this.update({errors:null}),this.update({errors:t.responseJSON.errors})):SOCIOMILE.error(t)}.bind(this)})}.bind(this)}),SOCIOMILE.riot.tag2("sociomile-multi-chat-selector",'<div class="sociomile-container sociomile-login sociomile-select-chat"> <div class="sociomile-top"> <div if="{!closeButton}" class="nav-logout" onclick="{init}"><i class="ion ion-close-round"></i></div> <div if="{closeButton}" class="nav-logout">&nbsp;</div> </div> <div class="sociomile-body"> <p>Butuh Bantuan dari:</p> <div class=""> <div class="sociomile-col-12" each="{project,key in projects}"> <button type="button" class="sociomile-btn" onclick="{goToChat}">{project.titleButton}</button> </div> </div> </div> </div>','sociomile-multi-chat-selector .sociomile-select-chat,[riot-tag="sociomile-multi-chat-selector"] .sociomile-select-chat,[data-is="sociomile-multi-chat-selector"] .sociomile-select-chat{ height: 250px !important; }',"",function(t){this.goToChat=function(t){var e=t.item.project;SOCIOMILE.id=e.id,SOCIOMILE.version=e.version,SOCIOMILE.url=e.url,SOCIOMILE.socketUrl=e.socketUrl,SOCIOMILE.hour=e.hour,SOCIOMILE.csrf=e.csrf,SOCIOMILE.twitter=e.twitter,SOCIOMILE.email=e.email,SOCIOMILE.name=e.name,SOCIOMILE.agent_alias=e.agent_alias,SOCIOMILE.session_end=e.session_end,SOCIOMILE.agent_idle_msg=e.agent_idle_msg,SOCIOMILE.widget_avatar=e.widget_avatar,SOCIOMILE.is_receive_email_when_agent_offline=e.is_receive_email_when_agent_offline,SOCIOMILE.custom_widget_url=e.custom_widget_url,SOCIOMILE.first_waiting_msg=e.first_waiting_msg,SOCIOMILE.end_waiting_msg=e.end_waiting_msg,SOCIOMILE.confirm_end_msg=e.confirm_end_msg,SOCIOMILE.confirm_survey_msg=e.confirm_survey_msg,SOCIOMILE.widget_title=e.widget_title,SOCIOMILE.office_hours=e.office_hours,SOCIOMILE.special_hours=e.special_hours,SOCIOMILE.not_office_hour_msg=e.not_office_hour_msg,SOCIOMILE.turn_off_auto_close=e.turn_off_auto_close,SOCIOMILE.show_cs_text=e.show_cs_text,SOCIOMILE.custom_cs_text=e.custom_cs_text,SOCIOMILE.wait_or_end_msg=e.wait_or_end_msg,SOCIOMILE.busy_time_series=e.busy_time_series,SOCIOMILE.confirm_wait_msg=e.confirm_wait_msg,SOCIOMILE.title=e.title,SOCIOMILE.win5menit_message=e.win5menit_message,SOCIOMILE.winSorry_message=e.winSorry_message,SOCIOMILE.chatbot=e.chatbot,SOCIOMILE.chatbot_survey=e.chatbot_survey,SOCIOMILE.chatbot_url=e.chatbot_url,SOCIOMILE.lang=e.lang,SOCIOMILE.jq.ajaxSetup({beforeSend:function(t,e){"POST"!=e.type&&"PUT"!=e.type&&"DELETE"!=e.type||(e.url+="?id="+SOCIOMILE.id+"&token="+SOCIOMILE.localStorageGet("sociomile_token"))},data:{id:SOCIOMILE.id},headers:{"X-CSRF-TOKEN":SOCIOMILE.csrf}}),SOCIOMILE.to("login")},this.init=function(){SOCIOMILE.to("init")},this.on("mount",function(){this.update({projects:SOCIOMILE.project}),SOCIOMILE.livechat&&(this.closeButton=!0),this.projects[0].titleButton="Customer Care",this.projects[1].titleButton="Diskon Spesial",this.update()})}),SOCIOMILE.riot.tag2("sociomile-raw","","","",function(t){var e=this;"function"==typeof this.parent.linkify?this.root.innerHTML=this.parent.linkify(t.content||"&nbsp;"):(this.root.innerHTML=t.content||"&nbsp;",this.on("update",function(){e.root.innerHTML=t.content||"&nbsp;"}))}),SOCIOMILE.riot.tag2("sociomile-survey",'<div if="{isDoneMessage}" class="sociomile-container sociomile-login sociomile-wait-confirm"> <div class="sociomile-top"> <div class="sociomile-title"> Live Chat </div> </div> <div class="sociomile-body"> <div class="sociomile-sorry">Terima kasih sudah menggunakan layanan Live Chat IndosatOoredoo</div> </div> </div> <div show="{!isDoneMessage}" class="sociomile-container sociomile-survey sociomile-survey-one-page"> <div class="sociomile-top"> <div class="sociomile-title"> Live Chat </div> </div> <div class="sociomile-body"> <div id="q1"> Apakah kamu puas terhadap pelayanan {opts.agent_name} dalam memberikan solusi? <div class="sociomile-thumbs-c sociomile-choice"> <span class="sociomile-thumbs sociomile-choice-item" data-no="1" data-id="yes" data-type="thumbs" onclick="{selected}"><i class="ion-thumbsup"></i><span class="sociomile-thumbs-title">Ya</span></span><span class="sociomile-thumbs sociomile-choice-item" data-no="1" data-id="no" data-type="thumbs" onclick="{selected}"><i class="ion-thumbsdown"></i><span class="sociomile-thumbs-title">Tidak</span></span> </div> </div> <div id="q2"> Apakah layanan Chat ini membantu kamu dalam memberikan solusi pertama kali? <div class="sociomile-thumbs-c sociomile-choice"> <span class="sociomile-thumbs sociomile-choice-item" data-no="2" data-id="yes" data-type="thumbs" onclick="{selected}"><i class="ion-thumbsup"></i><span class="sociomile-thumbs-title">Ya</span></span><span class="sociomile-thumbs sociomile-choice-item" data-no="2" data-id="no" data-type="thumbs" onclick="{selected}"><i class="ion-thumbsdown"></i><span class="sociomile-thumbs-title">Tidak</span></span> </div> </div> <div id="q3"> Apakah kamu akan merekomendasikan produk Indosat kepada orang lain? <div class="sociomile-choice sociomile-choice-3"> <div each="{q3}" class="sociomile-choice-item {class}" data-no="3" data-id="{no}" onclick="{selected}">{no}</div> </div> <div class="sociomile-choice-info"> <div class="x-tidak">Tidak</div> <div class="x-netral">Netral</div> <div class="x-ya">Ya</div> </div> </div> <small if="{isError}" class="sociomile-warning-survey">*semua harus dipilih.</small> <div class=""> <div class="sociomile-col-12"> <button type="button" class="sociomile-btn" onclick="{done}">KIRIM</button> </div> </div> </div> </div>',"","",function(t){this.cq=1,this.question=null,this.choices=null,this.isPrevious=!1,this.isNext=!0,this.isError=!1,this.on("mount",function(){SOCIOMILE.draggable(),SOCIOMILE.socket.emit("hello",{isSurveyMessage:!0})}),this.selected=function(e){this.update({isError:!1}),SOCIOMILE.jq(e.target).closest(".sociomile-choice").find(".selected").removeClass("selected"),SOCIOMILE.jq(e.target).closest(".sociomile-choice-item").addClass("selected");var i=SOCIOMILE.jq(e.target).closest(".sociomile-choice-item").data(),n="";"1"==i.no?n="Apakah kamu puas terhadap pelayanan "+t.agent_name+" dalam memberikan solusi?":"2"==i.no?n="Apakah layanan Chat ini membantu kamu dalam memberikan solusi pertama kali?":"3"==i.no&&(n="Apakah kamu akan merekomendasikan produk Indosat kepada orang lain?"),SOCIOMILE.socket.emit("hello",{isSurvey:!0,no:i.no,answer:i.id,question:n})}.bind(this),this.next=function(){return SOCIOMILE.jq("#q"+this.cq+" .sociomile-choice-item").hasClass("selected")?void(this.cq+1<4&&this.update({isNext:this.cq+2<4,isPrevious:!0,isDone:this.cq+1==3,cq:this.cq+1})):void(this.isError=!0)}.bind(this),this.previous=function(){this.cq-1>=1&&this.update({isPrevious:this.cq-2>=1,isNext:!0,isDone:!1,cq:this.cq-1})}.bind(this),this.done=function(){return SOCIOMILE.jq("#q1 .sociomile-choice-item").hasClass("selected")&&SOCIOMILE.jq("#q2 .sociomile-choice-item").hasClass("selected")&&SOCIOMILE.jq("#q3 .sociomile-choice-item").hasClass("selected")?(this.update({isDoneMessage:!0}),SOCIOMILE.localStorageRemove("sociomile_token"),SOCIOMILE.localStorageRemove("sociomile_name"),SOCIOMILE.localStorageRemove("sociomile_c_cup"),SOCIOMILE.localStorageRemove("sociomile_is_survey"),SOCIOMILE.localStorageRemove("sociomile_la"),SOCIOMILE.localStorageRemove("sociomile_data"),SOCIOMILE.socket&&SOCIOMILE.socket.disconnect(),SOCIOMILE.jq(window).off("beforeunload"),void setTimeout(function(){SOCIOMILE.to("init")},5e3)):void(this.isError=!0)}.bind(this),this.q3=[{no:0,"class":"sociomile-choice-star"},{no:1,"class":"sociomile-choice-star"},{no:2,"class":"sociomile-choice-star"},{no:3,"class":"sociomile-choice-star"},{no:4,"class":"sociomile-choice-star"},{no:5,"class":"sociomile-choice-star"},{no:6,"class":"sociomile-choice-star"},{no:7,"class":"sociomile-choice-middle"},{no:8,"class":"sociomile-choice-middle"},{no:9,"class":"sociomile-choice-end"},{no:10,"class":"sociomile-choice-end"}]}),SOCIOMILE.riot.tag2("sociomile-survey",'<div class="sociomile-container sociomile-survey sociomile-survey-one-page"> <div class="sociomile-top"> <div class="sociomile-title"> Live Chat </div> </div> <div class="sociomile-body adjust-body-height"> <div if="{!isSubmitted}"> <p id="tittlecsat"><strong>{csat_text}</strong></p> <form onsubmit="{csatSubmit2}"> <div class="sociomile-f-ctrl"> <input type="radio" name="csat" value="1" checked> <label for="csat">&#x1F60A; &nbsp; I\'m satisfied</label> </div> <div class="sociomile-f-ctrl"> <input type="radio" name="csat" value="-1"> <label for="csat">&#x1F61E; &nbsp; I\'m unsatisfied</label> </div> <div class="sociomile-f-ctrl"> <textarea class="" name="feedback" cols="32" rows="6"></textarea> </div> <button type="submit" class="sociomile-btn" riot-style="margin-top: {heightStrong}px">Submit</button> </form> </div> <div if="{isSubmitted}"> <p><strong>Submitting your response..</strong></p> </div> </div> <div class="sociomile-footer">Powered by <a href="https://sociomile.com" target="_blank">SOCIOMILE</a></div> </div>','sociomile-survey .sociomile-body .sociomile-f-ctrl textarea,[riot-tag="sociomile-survey"] .sociomile-body .sociomile-f-ctrl textarea,[data-is="sociomile-survey"] .sociomile-body .sociomile-f-ctrl textarea{ border: 0; width: 100%; height: 100%; box-sizing: border-box; padding: 8px; font-size: 14px; background-image: none; display: block; outline-style: none; border-radius: 4px; background: #fff; margin-bottom: 4px; border: 1px solid #000 !important; } sociomile-survey .sociomile-btn,[riot-tag="sociomile-survey"] .sociomile-btn,[data-is="sociomile-survey"] .sociomile-btn{ margin-top: 120px; } sociomile-survey .sociomile-container,[riot-tag="sociomile-survey"] .sociomile-container,[data-is="sociomile-survey"] .sociomile-container,sociomile-survey .sociomile-container.sociomile-survey.sociomile-survey-one-page,[riot-tag="sociomile-survey"] .sociomile-container.sociomile-survey.sociomile-survey-one-page,[data-is="sociomile-survey"] .sociomile-container.sociomile-survey.sociomile-survey-one-page{ height: none !important; }',"",function(t){this.csat_text=SOCIOMILE.lang.csat_text,this.data=JSON.parse(SOCIOMILE.localStorageGet("sociomile_data")),this.isSubmitted=!1,this.on("mount",function(){SOCIOMILE.draggable(),SOCIOMILE.socket.emit("hello",{isSurveyMessage:!0});var t=document.getElementById("tittlecsat").clientHeight;this.heightStrong=120-(t-17),this.update()}),this.csatSatisfy=function(){this.csatSubmit(1)}.bind(this),this.csatUnSatisfy=function(){this.csatSubmit(-1)}.bind(this),this.csatSubmit=function(t){var e=this.data[1].ticket,i=this.data[1].project;SOCIOMILE.lang.csat_url+"/csat/submit-survey?project="+i+"&ticket="+e+"&satisfy="+t;this.update({isSubmitted:!0});var n={justNotify:!0,csat:!0,date:new Date,is_close:!0,is_left:!0,ticket:e,satisfy:t,project:i};SOCIOMILE.socket.emit("hello",n,function(t){}),SOCIOMILE.localStorageRemove("sociomile_token"),SOCIOMILE.localStorageRemove("sociomile_name"),SOCIOMILE.localStorageRemove("sociomile_c_cup"),SOCIOMILE.localStorageRemove("sociomile_is_survey"),SOCIOMILE.localStorageRemove("sociomile_la"),SOCIOMILE.localStorageRemove("sociomile_data"),SOCIOMILE.socket&&SOCIOMILE.socket.disconnect(),SOCIOMILE.jq(window).off("beforeunload"),setTimeout(function(){SOCIOMILE.to("init")},5e3)}.bind(this),this.csatValue=function(t){if(!t)return!1;var e=null;return t.forEach(function(t){t.checked&&(e=t.value)}),e}.bind(this),this.csatSubmit2=function(t){t.preventDefault();var e=this.data[1].ticket,i=this.data[1].project,n=this.csatValue(this.csat),o=this.feedback.value,s=encodeURI(o),r=SOCIOMILE.lang.csat_url+"/csat/submit-survey?project="+i+"&ticket="+e+"&feedback="+s+"&satisfy="+n;this.update({isSubmitted:!0});var a={justNotify:!0,csat:!1,date:new Date,is_close:!0,is_left:!0,ticket:e,satisfy:n,feedback:o,project:i};delete SOCIOMILE.jq.ajaxSettings.headers["X-CSRF-TOKEN"],SOCIOMILE.jq.ajax({url:r,method:"GET",beforeSend:function(t){t.setRequestHeader("X-Requested-With","XMLHttpRequest"),t.setRequestHeader("Accept","application/json")}}),SOCIOMILE.socket.emit("hello",a,function(t){}),SOCIOMILE.localStorageRemove("sociomile_token"),SOCIOMILE.localStorageRemove("sociomile_name"),SOCIOMILE.localStorageRemove("sociomile_c_cup"),SOCIOMILE.localStorageRemove("sociomile_is_survey"),SOCIOMILE.localStorageRemove("sociomile_la"),SOCIOMILE.localStorageRemove("sociomile_data"),SOCIOMILE.socket&&SOCIOMILE.socket.disconnect(),SOCIOMILE.jq(window).off("beforeunload"),setTimeout(function(){SOCIOMILE.to("init")},5e3)}.bind(this)}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?SOCIOMILE.moment=e():"function"==typeof define&&define.amd?SOCIOMILE.moment=e():SOCIOMILE.moment=e()}(this,function(){"use strict";function t(){return En.apply(null,arguments)}function e(t){En=t}function i(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function n(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function o(t){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(t).length;var e;for(e in t)if(t.hasOwnProperty(e))return!1;return!0}function s(t){return void 0===t}function r(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function a(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function c(t,e){var i,n=[];for(i=0;i<t.length;++i)n.push(e(t[i],i));return n}function l(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function u(t,e){for(var i in e)l(e,i)&&(t[i]=e[i]);return l(e,"toString")&&(t.toString=e.toString),l(e,"valueOf")&&(t.valueOf=e.valueOf),t}function d(t,e,i,n){return Ce(t,e,i,n,!0).utc()}function h(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function f(t){return null==t._pf&&(t._pf=h()),t._pf}function p(t){if(null==t._isValid){var e=f(t),i=xn.call(e.parsedDateParts,function(t){return null!=t}),n=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&i);if(t._strict&&(n=n&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return n;t._isValid=n}return t._isValid}function m(t){var e=d(NaN);return null!=t?u(f(e),t):f(e).userInvalidated=!0,e}function g(t,e){var i,n,o;if(s(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),s(e._i)||(t._i=e._i),s(e._f)||(t._f=e._f),s(e._l)||(t._l=e._l),s(e._strict)||(t._strict=e._strict),s(e._tzm)||(t._tzm=e._tzm),s(e._isUTC)||(t._isUTC=e._isUTC),s(e._offset)||(t._offset=e._offset),s(e._pf)||(t._pf=f(e)),s(e._locale)||(t._locale=e._locale),kn.length>0)for(i=0;i<kn.length;i++)n=kn[i],o=e[n],s(o)||(t[n]=o);return t}function y(e){g(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),Ln===!1&&(Ln=!0,t.updateOffset(this),Ln=!1)}function v(t){return t instanceof y||null!=t&&null!=t._isAMomentObject}function b(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function O(t){var e=+t,i=0;return 0!==e&&isFinite(e)&&(i=b(e)),i}function I(t,e,i){var n,o=Math.min(t.length,e.length),s=Math.abs(t.length-e.length),r=0;for(n=0;n<o;n++)(i&&t[n]!==e[n]||!i&&O(t[n])!==O(e[n]))&&r++;return r+s}function _(e){t.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn}function S(e,i){var n=!0;return u(function(){if(null!=t.deprecationHandler&&t.deprecationHandler(null,e),n){for(var o,s=[],r=0;r<arguments.length;r++){if(o="","object"==typeof arguments[r]){o+="\n["+r+"] ";for(var a in arguments[0])o+=a+": "+arguments[0][a]+", ";o=o.slice(0,-2)}else o=arguments[r];s.push(o)}_(e+"\nArguments: "+Array.prototype.slice.call(s).join("")+"\n"+(new Error).stack),n=!1}return i.apply(this,arguments)},i)}function C(e,i){null!=t.deprecationHandler&&t.deprecationHandler(e,i),Tn[e]||(_(i),Tn[e]=!0)}function w(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function M(t){var e,i;for(i in t)e=t[i],w(e)?this[i]=e:this["_"+i]=e;this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function E(t,e){var i,o=u({},t);for(i in e)l(e,i)&&(n(t[i])&&n(e[i])?(o[i]={},u(o[i],t[i]),u(o[i],e[i])):null!=e[i]?o[i]=e[i]:delete o[i]);for(i in t)l(t,i)&&!l(e,i)&&n(t[i])&&(o[i]=u({},o[i]));return o}function x(t){null!=t&&this.set(t)}function k(t,e,i){var n=this._calendar[t]||this._calendar.sameElse;return w(n)?n.call(e,i):n}function L(t){var e=this._longDateFormat[t],i=this._longDateFormat[t.toUpperCase()];return e||!i?e:(this._longDateFormat[t]=i.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])}function T(){return this._invalidDate}function D(t){return this._ordinal.replace("%d",t)}function A(t,e,i,n){var o=this._relativeTime[i];return w(o)?o(t,e,i,n):o.replace(/%d/i,t)}function j(t,e){var i=this._relativeTime[t>0?"future":"past"];return w(i)?i(e):i.replace(/%s/i,e)}function N(t,e){var i=t.toLowerCase();Bn[i]=Bn[i+"s"]=Bn[e]=t}function R(t){return"string"==typeof t?Bn[t]||Bn[t.toLowerCase()]:void 0}function q(t){var e,i,n={};for(i in t)l(t,i)&&(e=R(i),e&&(n[e]=t[i]));return n}function P(t,e){Fn[t]=e}function B(t){var e=[];for(var i in t)e.push({unit:i,priority:Fn[i]});return e.sort(function(t,e){return t.priority-e.priority}),e}function F(t,e,i){var n=""+Math.abs(t),o=e-n.length,s=t>=0;return(s?i?"+":"":"-")+Math.pow(10,Math.max(0,o)).toString().substr(1)+n}function H(t,e,i,n){var o=n;"string"==typeof n&&(o=function(){return this[n]()}),t&&(Un[t]=o),e&&(Un[e[0]]=function(){return F(o.apply(this,arguments),e[1],e[2])}),i&&(Un[i]=function(){return this.localeData().ordinal(o.apply(this,arguments),t)})}function Y(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function W(t){var e,i,n=t.match(Hn);for(e=0,i=n.length;e<i;e++)Un[n[e]]?n[e]=Un[n[e]]:n[e]=Y(n[e]);return function(e){var o,s="";for(o=0;o<i;o++)s+=w(n[o])?n[o].call(e,t):n[o];return s}}function U(t,e){return t.isValid()?(e=z(e,t.localeData()),Wn[e]=Wn[e]||W(e),Wn[e](t)):t.localeData().invalidDate()}function z(t,e){function i(t){return e.longDateFormat(t)||t}var n=5;for(Yn.lastIndex=0;n>=0&&Yn.test(t);)t=t.replace(Yn,i),Yn.lastIndex=0,n-=1;return t}function G(t,e,i){co[t]=w(e)?e:function(t,n){return t&&i?i:e}}function V(t,e){return l(co,t)?co[t](e._strict,e._locale):new RegExp($(t))}function $(t){return J(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,i,n,o){return e||i||n||o}))}function J(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function X(t,e){var i,n=e;for("string"==typeof t&&(t=[t]),r(e)&&(n=function(t,i){i[e]=O(t)}),i=0;i<t.length;i++)lo[t[i]]=n}function K(t,e){X(t,function(t,i,n,o){n._w=n._w||{},e(t,n._w,n,o)})}function Z(t,e,i){null!=e&&l(lo,t)&&lo[t](e,i._a,i,t)}function Q(t){return tt(t)?366:365}function tt(t){return t%4===0&&t%100!==0||t%400===0}function et(){return tt(this.year())}function it(e,i){return function(n){return null!=n?(ot(this,e,n),t.updateOffset(this,i),this):nt(this,e)}}function nt(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function ot(t,e,i){t.isValid()&&!isNaN(i)&&("FullYear"===e&&tt(t.year())&&1===t.month()&&29===t.date()?t._d["set"+(t._isUTC?"UTC":"")+e](i,t.month(),ct(i,t.month())):t._d["set"+(t._isUTC?"UTC":"")+e](i))}function st(t){return t=R(t),w(this[t])?this[t]():this}function rt(t,e){if("object"==typeof t){t=q(t);for(var i=B(t),n=0;n<i.length;n++)this[i[n].unit](t[i[n].unit])}else if(t=R(t),w(this[t]))return this[t](e);return this}function at(t,e){return(t%e+e)%e}function ct(t,e){if(isNaN(t)||isNaN(e))return NaN;var i=at(e,12);return t+=(e-i)/12,1===i?tt(t)?29:28:31-i%7%2}function lt(t,e){return t?i(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||_o).test(e)?"format":"standalone"][t.month()]:i(this._months)?this._months:this._months.standalone}function ut(t,e){return t?i(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[_o.test(e)?"format":"standalone"][t.month()]:i(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function dt(t,e,i){var n,o,s,r=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)s=d([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(s,"").toLocaleLowerCase();return i?"MMM"===e?(o=Oo.call(this._shortMonthsParse,r),o!==-1?o:null):(o=Oo.call(this._longMonthsParse,r),o!==-1?o:null):"MMM"===e?(o=Oo.call(this._shortMonthsParse,r),o!==-1?o:(o=Oo.call(this._longMonthsParse,r),o!==-1?o:null)):(o=Oo.call(this._longMonthsParse,r),o!==-1?o:(o=Oo.call(this._shortMonthsParse,r),o!==-1?o:null))}function ht(t,e,i){var n,o,s;if(this._monthsParseExact)return dt.call(this,t,e,i);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(o=d([2e3,n]),i&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),i||this._monthsParse[n]||(s="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[n]=new RegExp(s.replace(".",""),"i")),i&&"MMMM"===e&&this._longMonthsParse[n].test(t))return n;if(i&&"MMM"===e&&this._shortMonthsParse[n].test(t))return n;if(!i&&this._monthsParse[n].test(t))return n}}function ft(t,e){var i;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=O(e);else if(e=t.localeData().monthsParse(e),!r(e))return t;return i=Math.min(t.date(),ct(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,i),t}function pt(e){return null!=e?(ft(this,e),t.updateOffset(this,!0),this):nt(this,"Month")}function mt(){return ct(this.year(),this.month())}function gt(t){return this._monthsParseExact?(l(this,"_monthsRegex")||vt.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(l(this,"_monthsShortRegex")||(this._monthsShortRegex=wo),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function yt(t){return this._monthsParseExact?(l(this,"_monthsRegex")||vt.call(this),t?this._monthsStrictRegex:this._monthsRegex):(l(this,"_monthsRegex")||(this._monthsRegex=Mo),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function vt(){function t(t,e){return e.length-t.length}var e,i,n=[],o=[],s=[];for(e=0;e<12;e++)i=d([2e3,e]),n.push(this.monthsShort(i,"")),o.push(this.months(i,"")),s.push(this.months(i,"")),s.push(this.monthsShort(i,""));for(n.sort(t),o.sort(t),s.sort(t),e=0;e<12;e++)n[e]=J(n[e]),o[e]=J(o[e]);for(e=0;e<24;e++)s[e]=J(s[e]);this._monthsRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+n.join("|")+")","i")}function bt(t,e,i,n,o,s,r){var a=new Date(t,e,i,n,o,s,r);return t<100&&t>=0&&isFinite(a.getFullYear())&&a.setFullYear(t),a}function Ot(t){var e=new Date(Date.UTC.apply(null,arguments));return t<100&&t>=0&&isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t),e}function It(t,e,i){var n=7+e-i,o=(7+Ot(t,0,n).getUTCDay()-e)%7;return-o+n-1}function _t(t,e,i,n,o){var s,r,a=(7+i-n)%7,c=It(t,n,o),l=1+7*(e-1)+a+c;return l<=0?(s=t-1,r=Q(s)+l):l>Q(t)?(s=t+1,r=l-Q(t)):(s=t,r=l),{year:s,dayOfYear:r}}function St(t,e,i){var n,o,s=It(t.year(),e,i),r=Math.floor((t.dayOfYear()-s-1)/7)+1;return r<1?(o=t.year()-1,n=r+Ct(o,e,i)):r>Ct(t.year(),e,i)?(n=r-Ct(t.year(),e,i),o=t.year()+1):(o=t.year(),n=r),{week:n,year:o}}function Ct(t,e,i){var n=It(t,e,i),o=It(t+1,e,i);return(Q(t)-n+o)/7}function wt(t){return St(t,this._week.dow,this._week.doy).week}function Mt(){return this._week.dow}function Et(){return this._week.doy}function xt(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")}function kt(t){var e=St(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")}function Lt(t,e){return"string"!=typeof t?t:isNaN(t)?(t=e.weekdaysParse(t),"number"==typeof t?t:null):parseInt(t,10)}function Tt(t,e){return"string"==typeof t?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function Dt(t,e){return t?i(this._weekdays)?this._weekdays[t.day()]:this._weekdays[this._weekdays.isFormat.test(e)?"format":"standalone"][t.day()]:i(this._weekdays)?this._weekdays:this._weekdays.standalone}function At(t){return t?this._weekdaysShort[t.day()]:this._weekdaysShort}function jt(t){return t?this._weekdaysMin[t.day()]:this._weekdaysMin}function Nt(t,e,i){var n,o,s,r=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)s=d([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(s,"").toLocaleLowerCase();return i?"dddd"===e?(o=Oo.call(this._weekdaysParse,r),o!==-1?o:null):"ddd"===e?(o=Oo.call(this._shortWeekdaysParse,r),o!==-1?o:null):(o=Oo.call(this._minWeekdaysParse,r),o!==-1?o:null):"dddd"===e?(o=Oo.call(this._weekdaysParse,r),o!==-1?o:(o=Oo.call(this._shortWeekdaysParse,r),o!==-1?o:(o=Oo.call(this._minWeekdaysParse,r),o!==-1?o:null))):"ddd"===e?(o=Oo.call(this._shortWeekdaysParse,r),o!==-1?o:(o=Oo.call(this._weekdaysParse,r),o!==-1?o:(o=Oo.call(this._minWeekdaysParse,r),o!==-1?o:null))):(o=Oo.call(this._minWeekdaysParse,r),o!==-1?o:(o=Oo.call(this._weekdaysParse,r),o!==-1?o:(o=Oo.call(this._shortWeekdaysParse,r),o!==-1?o:null)))}function Rt(t,e,i){var n,o,s;if(this._weekdaysParseExact)return Nt.call(this,t,e,i);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(o=d([2e3,1]).day(n),i&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(o,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(o,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(o,"").replace(".",".?")+"$","i")),this._weekdaysParse[n]||(s="^"+this.weekdays(o,"")+"|^"+this.weekdaysShort(o,"")+"|^"+this.weekdaysMin(o,""),this._weekdaysParse[n]=new RegExp(s.replace(".",""),"i")),i&&"dddd"===e&&this._fullWeekdaysParse[n].test(t))return n;if(i&&"ddd"===e&&this._shortWeekdaysParse[n].test(t))return n;if(i&&"dd"===e&&this._minWeekdaysParse[n].test(t))return n;if(!i&&this._weekdaysParse[n].test(t))return n}}function qt(t){if(!this.isValid())return null!=t?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=Lt(t,this.localeData()),this.add(t-e,"d")):e}function Pt(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")}function Bt(t){if(!this.isValid())return null!=t?this:NaN;if(null!=t){var e=Tt(t,this.localeData());return this.day(this.day()%7?e:e-7)}return this.day()||7}function Ft(t){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||Wt.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(l(this,"_weekdaysRegex")||(this._weekdaysRegex=To),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function Ht(t){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||Wt.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(l(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Do),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Yt(t){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||Wt.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(l(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Ao),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Wt(){function t(t,e){return e.length-t.length}var e,i,n,o,s,r=[],a=[],c=[],l=[];for(e=0;e<7;e++)i=d([2e3,1]).day(e),n=this.weekdaysMin(i,""),o=this.weekdaysShort(i,""),s=this.weekdays(i,""),r.push(n),a.push(o),c.push(s),l.push(n),l.push(o),l.push(s);for(r.sort(t),a.sort(t),c.sort(t),l.sort(t),e=0;e<7;e++)a[e]=J(a[e]),c[e]=J(c[e]),l[e]=J(l[e]);this._weekdaysRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+r.join("|")+")","i")}function Ut(){return this.hours()%12||12}function zt(){return this.hours()||24}function Gt(t,e){H(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function Vt(t,e){return e._meridiemParse}function $t(t){return"p"===(t+"").toLowerCase().charAt(0)}function Jt(t,e,i){return t>11?i?"pm":"PM":i?"am":"AM"}function Xt(t){return t?t.toLowerCase().replace("_","-"):t}function Kt(t){for(var e,i,n,o,s=0;s<t.length;){for(o=Xt(t[s]).split("-"),e=o.length,i=Xt(t[s+1]),i=i?i.split("-"):null;e>0;){if(n=Zt(o.slice(0,e).join("-")))return n;if(i&&i.length>=e&&I(o,i,!0)>=e-1)break;e--}s++}return jo}function Zt(t){var e=null;if(!Po[t]&&"undefined"!=typeof module&&module&&module.exports)try{e=jo._abbr;var i=require;i("./locale/"+t),Qt(e)}catch(n){}return Po[t]}function Qt(t,e){var i;return t&&(i=s(e)?ie(t):te(t,e),i?jo=i:"undefined"!=typeof console&&console.warn),jo._abbr}function te(t,e){if(null!==e){var i,n=qo;if(e.abbr=t,null!=Po[t])C("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=Po[t]._config;else if(null!=e.parentLocale)if(null!=Po[e.parentLocale])n=Po[e.parentLocale]._config;else{if(i=Zt(e.parentLocale),null==i)return Bo[e.parentLocale]||(Bo[e.parentLocale]=[]),Bo[e.parentLocale].push({name:t,config:e}),null;n=i._config}return Po[t]=new x(E(n,e)),Bo[t]&&Bo[t].forEach(function(t){te(t.name,t.config)}),Qt(t),Po[t]}return delete Po[t],null}function ee(t,e){if(null!=e){var i,n,o=qo;n=Zt(t),null!=n&&(o=n._config),e=E(o,e),i=new x(e),i.parentLocale=Po[t],Po[t]=i,Qt(t)}else null!=Po[t]&&(null!=Po[t].parentLocale?Po[t]=Po[t].parentLocale:null!=Po[t]&&delete Po[t]);return Po[t]}function ie(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return jo;if(!i(t)){if(e=Zt(t))return e;t=[t]}return Kt(t)}function ne(){return Dn(Po)}function oe(t){var e,i=t._a;return i&&f(t).overflow===-2&&(e=i[ho]<0||i[ho]>11?ho:i[fo]<1||i[fo]>ct(i[uo],i[ho])?fo:i[po]<0||i[po]>24||24===i[po]&&(0!==i[mo]||0!==i[go]||0!==i[yo])?po:i[mo]<0||i[mo]>59?mo:i[go]<0||i[go]>59?go:i[yo]<0||i[yo]>999?yo:-1,f(t)._overflowDayOfYear&&(e<uo||e>fo)&&(e=fo),f(t)._overflowWeeks&&e===-1&&(e=vo),f(t)._overflowWeekday&&e===-1&&(e=bo),f(t).overflow=e),t}function se(t,e,i){return null!=t?t:null!=e?e:i}function re(e){var i=new Date(t.now());return e._useUTC?[i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()]:[i.getFullYear(),i.getMonth(),i.getDate()]}function ae(t){var e,i,n,o,s,r=[];if(!t._d){for(n=re(t),t._w&&null==t._a[fo]&&null==t._a[ho]&&ce(t),null!=t._dayOfYear&&(s=se(t._a[uo],n[uo]),(t._dayOfYear>Q(s)||0===t._dayOfYear)&&(f(t)._overflowDayOfYear=!0),i=Ot(s,0,t._dayOfYear),t._a[ho]=i.getUTCMonth(),t._a[fo]=i.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=r[e]=n[e];for(;e<7;e++)t._a[e]=r[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[po]&&0===t._a[mo]&&0===t._a[go]&&0===t._a[yo]&&(t._nextDay=!0,t._a[po]=0),t._d=(t._useUTC?Ot:bt).apply(null,r),o=t._useUTC?t._d.getUTCDay():t._d.getDay(),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[po]=24),t._w&&"undefined"!=typeof t._w.d&&t._w.d!==o&&(f(t).weekdayMismatch=!0)}}function ce(t){var e,i,n,o,s,r,a,c;if(e=t._w,null!=e.GG||null!=e.W||null!=e.E)s=1,r=4,i=se(e.GG,t._a[uo],St(we(),1,4).year),n=se(e.W,1),o=se(e.E,1),(o<1||o>7)&&(c=!0);else{s=t._locale._week.dow,r=t._locale._week.doy;var l=St(we(),s,r);i=se(e.gg,t._a[uo],l.year),n=se(e.w,l.week),null!=e.d?(o=e.d,(o<0||o>6)&&(c=!0)):null!=e.e?(o=e.e+s,(e.e<0||e.e>6)&&(c=!0)):o=s}n<1||n>Ct(i,s,r)?f(t)._overflowWeeks=!0:null!=c?f(t)._overflowWeekday=!0:(a=_t(i,n,o,s,r),t._a[uo]=a.year,t._dayOfYear=a.dayOfYear)}function le(t){var e,i,n,o,s,r,a=t._i,c=Fo.exec(a)||Ho.exec(a);if(c){for(f(t).iso=!0,e=0,i=Wo.length;e<i;e++)if(Wo[e][1].exec(c[1])){o=Wo[e][0],n=Wo[e][2]!==!1;break}if(null==o)return void(t._isValid=!1);if(c[3]){for(e=0,i=Uo.length;e<i;e++)if(Uo[e][1].exec(c[3])){s=(c[2]||" ")+Uo[e][0];break}if(null==s)return void(t._isValid=!1)}if(!n&&null!=s)return void(t._isValid=!1);if(c[4]){if(!Yo.exec(c[4]))return void(t._isValid=!1);r="Z"}t._f=o+(s||"")+(r||""),ye(t)}else t._isValid=!1;}function ue(t,e,i,n,o,s){var r=[de(t),Co.indexOf(e),parseInt(i,10),parseInt(n,10),parseInt(o,10)];return s&&r.push(parseInt(s,10)),r}function de(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function he(t){return t.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}function fe(t,e,i){if(t){var n=ko.indexOf(t),o=new Date(e[0],e[1],e[2]).getDay();if(n!==o)return f(i).weekdayMismatch=!0,i._isValid=!1,!1}return!0}function pe(t,e,i){if(t)return Vo[t];if(e)return 0;var n=parseInt(i,10),o=n%100,s=(n-o)/100;return 60*s+o}function me(t){var e=Go.exec(he(t._i));if(e){var i=ue(e[4],e[3],e[2],e[5],e[6],e[7]);if(!fe(e[1],i,t))return;t._a=i,t._tzm=pe(e[8],e[9],e[10]),t._d=Ot.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),f(t).rfc2822=!0}else t._isValid=!1}function ge(e){var i=zo.exec(e._i);return null!==i?void(e._d=new Date((+i[1]))):(le(e),void(e._isValid===!1&&(delete e._isValid,me(e),e._isValid===!1&&(delete e._isValid,t.createFromInputFallback(e)))))}function ye(e){if(e._f===t.ISO_8601)return void le(e);if(e._f===t.RFC_2822)return void me(e);e._a=[],f(e).empty=!0;var i,n,o,s,r,a=""+e._i,c=a.length,l=0;for(o=z(e._f,e._locale).match(Hn)||[],i=0;i<o.length;i++)s=o[i],n=(a.match(V(s,e))||[])[0],n&&(r=a.substr(0,a.indexOf(n)),r.length>0&&f(e).unusedInput.push(r),a=a.slice(a.indexOf(n)+n.length),l+=n.length),Un[s]?(n?f(e).empty=!1:f(e).unusedTokens.push(s),Z(s,n,e)):e._strict&&!n&&f(e).unusedTokens.push(s);f(e).charsLeftOver=c-l,a.length>0&&f(e).unusedInput.push(a),e._a[po]<=12&&f(e).bigHour===!0&&e._a[po]>0&&(f(e).bigHour=void 0),f(e).parsedDateParts=e._a.slice(0),f(e).meridiem=e._meridiem,e._a[po]=ve(e._locale,e._a[po],e._meridiem),ae(e),oe(e)}function ve(t,e,i){var n;return null==i?e:null!=t.meridiemHour?t.meridiemHour(e,i):null!=t.isPM?(n=t.isPM(i),n&&e<12&&(e+=12),n||12!==e||(e=0),e):e}function be(t){var e,i,n,o,s;if(0===t._f.length)return f(t).invalidFormat=!0,void(t._d=new Date(NaN));for(o=0;o<t._f.length;o++)s=0,e=g({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[o],ye(e),p(e)&&(s+=f(e).charsLeftOver,s+=10*f(e).unusedTokens.length,f(e).score=s,(null==n||s<n)&&(n=s,i=e));u(t,i||e)}function Oe(t){if(!t._d){var e=q(t._i);t._a=c([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],function(t){return t&&parseInt(t,10)}),ae(t)}}function Ie(t){var e=new y(oe(_e(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function _e(t){var e=t._i,n=t._f;return t._locale=t._locale||ie(t._l),null===e||void 0===n&&""===e?m({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),v(e)?new y(oe(e)):(a(e)?t._d=e:i(n)?be(t):n?ye(t):Se(t),p(t)||(t._d=null),t))}function Se(e){var o=e._i;s(o)?e._d=new Date(t.now()):a(o)?e._d=new Date(o.valueOf()):"string"==typeof o?ge(e):i(o)?(e._a=c(o.slice(0),function(t){return parseInt(t,10)}),ae(e)):n(o)?Oe(e):r(o)?e._d=new Date(o):t.createFromInputFallback(e)}function Ce(t,e,s,r,a){var c={};return s!==!0&&s!==!1||(r=s,s=void 0),(n(t)&&o(t)||i(t)&&0===t.length)&&(t=void 0),c._isAMomentObject=!0,c._useUTC=c._isUTC=a,c._l=s,c._i=t,c._f=e,c._strict=r,Ie(c)}function we(t,e,i,n){return Ce(t,e,i,n,!1)}function Me(t,e){var n,o;if(1===e.length&&i(e[0])&&(e=e[0]),!e.length)return we();for(n=e[0],o=1;o<e.length;++o)e[o].isValid()&&!e[o][t](n)||(n=e[o]);return n}function Ee(){var t=[].slice.call(arguments,0);return Me("isBefore",t)}function xe(){var t=[].slice.call(arguments,0);return Me("isAfter",t)}function ke(t){for(var e in t)if(Oo.call(Ko,e)===-1||null!=t[e]&&isNaN(t[e]))return!1;for(var i=!1,n=0;n<Ko.length;++n)if(t[Ko[n]]){if(i)return!1;parseFloat(t[Ko[n]])!==O(t[Ko[n]])&&(i=!0)}return!0}function Le(){return this._isValid}function Te(){return Xe(NaN)}function De(t){var e=q(t),i=e.year||0,n=e.quarter||0,o=e.month||0,s=e.week||0,r=e.day||0,a=e.hour||0,c=e.minute||0,l=e.second||0,u=e.millisecond||0;this._isValid=ke(e),this._milliseconds=+u+1e3*l+6e4*c+1e3*a*60*60,this._days=+r+7*s,this._months=+o+3*n+12*i,this._data={},this._locale=ie(),this._bubble()}function Ae(t){return t instanceof De}function je(t){return t<0?Math.round(-1*t)*-1:Math.round(t)}function Ne(t,e){H(t,0,0,function(){var t=this.utcOffset(),i="+";return t<0&&(t=-t,i="-"),i+F(~~(t/60),2)+e+F(~~t%60,2)})}function Re(t,e){var i=(e||"").match(t);if(null===i)return null;var n=i[i.length-1]||[],o=(n+"").match(Zo)||["-",0,0],s=+(60*o[1])+O(o[2]);return 0===s?0:"+"===o[0]?s:-s}function qe(e,i){var n,o;return i._isUTC?(n=i.clone(),o=(v(e)||a(e)?e.valueOf():we(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+o),t.updateOffset(n,!1),n):we(e).local()}function Pe(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function Be(e,i,n){var o,s=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(e=Re(so,e),null===e)return this}else Math.abs(e)<16&&!n&&(e=60*e);return!this._isUTC&&i&&(o=Pe(this)),this._offset=e,this._isUTC=!0,null!=o&&this.add(o,"m"),s!==e&&(!i||this._changeInProgress?ei(this,Xe(e-s,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?s:Pe(this)}function Fe(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function He(t){return this.utcOffset(0,t)}function Ye(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Pe(this),"m")),this}function We(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var t=Re(oo,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this}function Ue(t){return!!this.isValid()&&(t=t?we(t).utcOffset():0,(this.utcOffset()-t)%60===0)}function ze(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Ge(){if(!s(this._isDSTShifted))return this._isDSTShifted;var t={};if(g(t,this),t=_e(t),t._a){var e=t._isUTC?d(t._a):we(t._a);this._isDSTShifted=this.isValid()&&I(t._a,e.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Ve(){return!!this.isValid()&&!this._isUTC}function $e(){return!!this.isValid()&&this._isUTC}function Je(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function Xe(t,e){var i,n,o,s=t,a=null;return Ae(t)?s={ms:t._milliseconds,d:t._days,M:t._months}:r(t)?(s={},e?s[e]=t:s.milliseconds=t):(a=Qo.exec(t))?(i="-"===a[1]?-1:1,s={y:0,d:O(a[fo])*i,h:O(a[po])*i,m:O(a[mo])*i,s:O(a[go])*i,ms:O(je(1e3*a[yo]))*i}):(a=ts.exec(t))?(i="-"===a[1]?-1:("+"===a[1],1),s={y:Ke(a[2],i),M:Ke(a[3],i),w:Ke(a[4],i),d:Ke(a[5],i),h:Ke(a[6],i),m:Ke(a[7],i),s:Ke(a[8],i)}):null==s?s={}:"object"==typeof s&&("from"in s||"to"in s)&&(o=Qe(we(s.from),we(s.to)),s={},s.ms=o.milliseconds,s.M=o.months),n=new De(s),Ae(t)&&l(t,"_locale")&&(n._locale=t._locale),n}function Ke(t,e){var i=t&&parseFloat(t.replace(",","."));return(isNaN(i)?0:i)*e}function Ze(t,e){var i={milliseconds:0,months:0};return i.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(i.months,"M").isAfter(e)&&--i.months,i.milliseconds=+e-+t.clone().add(i.months,"M"),i}function Qe(t,e){var i;return t.isValid()&&e.isValid()?(e=qe(e,t),t.isBefore(e)?i=Ze(t,e):(i=Ze(e,t),i.milliseconds=-i.milliseconds,i.months=-i.months),i):{milliseconds:0,months:0}}function ti(t,e){return function(i,n){var o,s;return null===n||isNaN(+n)||(C(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),s=i,i=n,n=s),i="string"==typeof i?+i:i,o=Xe(i,n),ei(this,o,t),this}}function ei(e,i,n,o){var s=i._milliseconds,r=je(i._days),a=je(i._months);e.isValid()&&(o=null==o||o,a&&ft(e,nt(e,"Month")+a*n),r&&ot(e,"Date",nt(e,"Date")+r*n),s&&e._d.setTime(e._d.valueOf()+s*n),o&&t.updateOffset(e,r||a))}function ii(t,e){var i=t.diff(e,"days",!0);return i<-6?"sameElse":i<-1?"lastWeek":i<0?"lastDay":i<1?"sameDay":i<2?"nextDay":i<7?"nextWeek":"sameElse"}function ni(e,i){var n=e||we(),o=qe(n,this).startOf("day"),s=t.calendarFormat(this,o)||"sameElse",r=i&&(w(i[s])?i[s].call(this,n):i[s]);return this.format(r||this.localeData().calendar(s,this,we(n)))}function oi(){return new y(this)}function si(t,e){var i=v(t)?t:we(t);return!(!this.isValid()||!i.isValid())&&(e=R(s(e)?"millisecond":e),"millisecond"===e?this.valueOf()>i.valueOf():i.valueOf()<this.clone().startOf(e).valueOf())}function ri(t,e){var i=v(t)?t:we(t);return!(!this.isValid()||!i.isValid())&&(e=R(s(e)?"millisecond":e),"millisecond"===e?this.valueOf()<i.valueOf():this.clone().endOf(e).valueOf()<i.valueOf())}function ai(t,e,i,n){return n=n||"()",("("===n[0]?this.isAfter(t,i):!this.isBefore(t,i))&&(")"===n[1]?this.isBefore(e,i):!this.isAfter(e,i))}function ci(t,e){var i,n=v(t)?t:we(t);return!(!this.isValid()||!n.isValid())&&(e=R(e||"millisecond"),"millisecond"===e?this.valueOf()===n.valueOf():(i=n.valueOf(),this.clone().startOf(e).valueOf()<=i&&i<=this.clone().endOf(e).valueOf()))}function li(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function ui(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function di(t,e,i){var n,o,s;if(!this.isValid())return NaN;if(n=qe(t,this),!n.isValid())return NaN;switch(o=6e4*(n.utcOffset()-this.utcOffset()),e=R(e)){case"year":s=hi(this,n)/12;break;case"month":s=hi(this,n);break;case"quarter":s=hi(this,n)/3;break;case"second":s=(this-n)/1e3;break;case"minute":s=(this-n)/6e4;break;case"hour":s=(this-n)/36e5;break;case"day":s=(this-n-o)/864e5;break;case"week":s=(this-n-o)/6048e5;break;default:s=this-n}return i?s:b(s)}function hi(t,e){var i,n,o=12*(e.year()-t.year())+(e.month()-t.month()),s=t.clone().add(o,"months");return e-s<0?(i=t.clone().add(o-1,"months"),n=(e-s)/(s-i)):(i=t.clone().add(o+1,"months"),n=(e-s)/(i-s)),-(o+n)||0}function fi(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function pi(t){if(!this.isValid())return null;var e=t!==!0,i=e?this.clone().utc():this;return i.year()<0||i.year()>9999?U(i,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):w(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",U(i,"Z")):U(i,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function mi(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="";this.isLocal()||(t=0===this.utcOffset()?"moment.utc":"moment.parseZone",e="Z");var i="["+t+'("]',n=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",o="-MM-DD[T]HH:mm:ss.SSS",s=e+'[")]';return this.format(i+n+o+s)}function gi(e){e||(e=this.isUtc()?t.defaultFormatUtc:t.defaultFormat);var i=U(this,e);return this.localeData().postformat(i)}function yi(t,e){return this.isValid()&&(v(t)&&t.isValid()||we(t).isValid())?Xe({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function vi(t){return this.from(we(),t)}function bi(t,e){return this.isValid()&&(v(t)&&t.isValid()||we(t).isValid())?Xe({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function Oi(t){return this.to(we(),t)}function Ii(t){var e;return void 0===t?this._locale._abbr:(e=ie(t),null!=e&&(this._locale=e),this)}function _i(){return this._locale}function Si(t){switch(t=R(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this}function Ci(t){return t=R(t),void 0===t||"millisecond"===t?this:("date"===t&&(t="day"),this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms"))}function wi(){return this._d.valueOf()-6e4*(this._offset||0)}function Mi(){return Math.floor(this.valueOf()/1e3)}function Ei(){return new Date(this.valueOf())}function xi(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function ki(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function Li(){return this.isValid()?this.toISOString():null}function Ti(){return p(this)}function Di(){return u({},f(this))}function Ai(){return f(this).overflow}function ji(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Ni(t,e){H(0,[t,t.length],0,e)}function Ri(t){return Fi.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function qi(t){return Fi.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function Pi(){return Ct(this.year(),1,4)}function Bi(){var t=this.localeData()._week;return Ct(this.year(),t.dow,t.doy)}function Fi(t,e,i,n,o){var s;return null==t?St(this,n,o).year:(s=Ct(t,n,o),e>s&&(e=s),Hi.call(this,t,e,i,n,o))}function Hi(t,e,i,n,o){var s=_t(t,e,i,n,o),r=Ot(s.year,0,s.dayOfYear);return this.year(r.getUTCFullYear()),this.month(r.getUTCMonth()),this.date(r.getUTCDate()),this}function Yi(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)}function Wi(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")}function Ui(t,e){e[yo]=O(1e3*("0."+t))}function zi(){return this._isUTC?"UTC":""}function Gi(){return this._isUTC?"Coordinated Universal Time":""}function Vi(t){return we(1e3*t)}function $i(){return we.apply(null,arguments).parseZone()}function Ji(t){return t}function Xi(t,e,i,n){var o=ie(),s=d().set(n,e);return o[i](s,t)}function Ki(t,e,i){if(r(t)&&(e=t,t=void 0),t=t||"",null!=e)return Xi(t,e,i,"month");var n,o=[];for(n=0;n<12;n++)o[n]=Xi(t,n,i,"month");return o}function Zi(t,e,i,n){"boolean"==typeof t?(r(e)&&(i=e,e=void 0),e=e||""):(e=t,i=e,t=!1,r(e)&&(i=e,e=void 0),e=e||"");var o=ie(),s=t?o._week.dow:0;if(null!=i)return Xi(e,(i+s)%7,n,"day");var a,c=[];for(a=0;a<7;a++)c[a]=Xi(e,(a+s)%7,n,"day");return c}function Qi(t,e){return Ki(t,e,"months")}function tn(t,e){return Ki(t,e,"monthsShort")}function en(t,e,i){return Zi(t,e,i,"weekdays")}function nn(t,e,i){return Zi(t,e,i,"weekdaysShort")}function on(t,e,i){return Zi(t,e,i,"weekdaysMin")}function sn(){var t=this._data;return this._milliseconds=ds(this._milliseconds),this._days=ds(this._days),this._months=ds(this._months),t.milliseconds=ds(t.milliseconds),t.seconds=ds(t.seconds),t.minutes=ds(t.minutes),t.hours=ds(t.hours),t.months=ds(t.months),t.years=ds(t.years),this}function rn(t,e,i,n){var o=Xe(e,i);return t._milliseconds+=n*o._milliseconds,t._days+=n*o._days,t._months+=n*o._months,t._bubble()}function an(t,e){return rn(this,t,e,1)}function cn(t,e){return rn(this,t,e,-1)}function ln(t){return t<0?Math.floor(t):Math.ceil(t)}function un(){var t,e,i,n,o,s=this._milliseconds,r=this._days,a=this._months,c=this._data;return s>=0&&r>=0&&a>=0||s<=0&&r<=0&&a<=0||(s+=864e5*ln(hn(a)+r),r=0,a=0),c.milliseconds=s%1e3,t=b(s/1e3),c.seconds=t%60,e=b(t/60),c.minutes=e%60,i=b(e/60),c.hours=i%24,r+=b(i/24),o=b(dn(r)),a+=o,r-=ln(hn(o)),n=b(a/12),a%=12,c.days=r,c.months=a,c.years=n,this}function dn(t){return 4800*t/146097}function hn(t){return 146097*t/4800}function fn(t){if(!this.isValid())return NaN;var e,i,n=this._milliseconds;if(t=R(t),"month"===t||"year"===t)return e=this._days+n/864e5,i=this._months+dn(e),"month"===t?i:i/12;switch(e=this._days+Math.round(hn(this._months)),t){case"week":return e/7+n/6048e5;case"day":return e+n/864e5;case"hour":return 24*e+n/36e5;case"minute":return 1440*e+n/6e4;case"second":return 86400*e+n/1e3;case"millisecond":return Math.floor(864e5*e)+n;default:throw new Error("Unknown unit "+t)}}function pn(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*O(this._months/12):NaN}function mn(t){return function(){return this.as(t)}}function gn(){return Xe(this)}function yn(t){return t=R(t),this.isValid()?this[t+"s"]():NaN}function vn(t){return function(){return this.isValid()?this._data[t]:NaN}}function bn(){return b(this.days()/7)}function On(t,e,i,n,o){return o.relativeTime(e||1,!!i,t,n)}function In(t,e,i){var n=Xe(t).abs(),o=Es(n.as("s")),s=Es(n.as("m")),r=Es(n.as("h")),a=Es(n.as("d")),c=Es(n.as("M")),l=Es(n.as("y")),u=o<=xs.ss&&["s",o]||o<xs.s&&["ss",o]||s<=1&&["m"]||s<xs.m&&["mm",s]||r<=1&&["h"]||r<xs.h&&["hh",r]||a<=1&&["d"]||a<xs.d&&["dd",a]||c<=1&&["M"]||c<xs.M&&["MM",c]||l<=1&&["y"]||["yy",l];return u[2]=e,u[3]=+t>0,u[4]=i,On.apply(null,u)}function _n(t){return void 0===t?Es:"function"==typeof t&&(Es=t,!0)}function Sn(t,e){return void 0!==xs[t]&&(void 0===e?xs[t]:(xs[t]=e,"s"===t&&(xs.ss=e-1),!0))}function Cn(t){if(!this.isValid())return this.localeData().invalidDate();var e=this.localeData(),i=In(this,!t,e);return t&&(i=e.pastFuture(+this,i)),e.postformat(i)}function wn(t){return(t>0)-(t<0)||+t}function Mn(){if(!this.isValid())return this.localeData().invalidDate();var t,e,i,n=ks(this._milliseconds)/1e3,o=ks(this._days),s=ks(this._months);t=b(n/60),e=b(t/60),n%=60,t%=60,i=b(s/12),s%=12;var r=i,a=s,c=o,l=e,u=t,d=n?n.toFixed(3).replace(/\.?0+$/,""):"",h=this.asSeconds();if(!h)return"P0D";var f=h<0?"-":"",p=wn(this._months)!==wn(h)?"-":"",m=wn(this._days)!==wn(h)?"-":"",g=wn(this._milliseconds)!==wn(h)?"-":"";return f+"P"+(r?p+r+"Y":"")+(a?p+a+"M":"")+(c?m+c+"D":"")+(l||u||d?"T":"")+(l?g+l+"H":"")+(u?g+u+"M":"")+(d?g+d+"S":"")}var En,xn;xn=Array.prototype.some?Array.prototype.some:function(t){for(var e=Object(this),i=e.length>>>0,n=0;n<i;n++)if(n in e&&t.call(this,e[n],n,e))return!0;return!1};var kn=t.momentProperties=[],Ln=!1,Tn={};t.suppressDeprecationWarnings=!1,t.deprecationHandler=null;var Dn;Dn=Object.keys?Object.keys:function(t){var e,i=[];for(e in t)l(t,e)&&i.push(e);return i};var An={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},jn={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Nn="Invalid date",Rn="%d",qn=/\d{1,2}/,Pn={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Bn={},Fn={},Hn=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Yn=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Wn={},Un={},zn=/\d/,Gn=/\d\d/,Vn=/\d{3}/,$n=/\d{4}/,Jn=/[+-]?\d{6}/,Xn=/\d\d?/,Kn=/\d\d\d\d?/,Zn=/\d\d\d\d\d\d?/,Qn=/\d{1,3}/,to=/\d{1,4}/,eo=/[+-]?\d{1,6}/,io=/\d+/,no=/[+-]?\d+/,oo=/Z|[+-]\d\d:?\d\d/gi,so=/Z|[+-]\d\d(?::?\d\d)?/gi,ro=/[+-]?\d+(\.\d{1,3})?/,ao=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,co={},lo={},uo=0,ho=1,fo=2,po=3,mo=4,go=5,yo=6,vo=7,bo=8;H("Y",0,0,function(){var t=this.year();return t<=9999?""+t:"+"+t}),H(0,["YY",2],0,function(){return this.year()%100}),H(0,["YYYY",4],0,"year"),H(0,["YYYYY",5],0,"year"),H(0,["YYYYYY",6,!0],0,"year"),N("year","y"),P("year",1),G("Y",no),G("YY",Xn,Gn),G("YYYY",to,$n),G("YYYYY",eo,Jn),G("YYYYYY",eo,Jn),X(["YYYYY","YYYYYY"],uo),X("YYYY",function(e,i){i[uo]=2===e.length?t.parseTwoDigitYear(e):O(e)}),X("YY",function(e,i){i[uo]=t.parseTwoDigitYear(e)}),X("Y",function(t,e){e[uo]=parseInt(t,10)}),t.parseTwoDigitYear=function(t){return O(t)+(O(t)>68?1900:2e3)};var Oo,Io=it("FullYear",!0);Oo=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},H("M",["MM",2],"Mo",function(){return this.month()+1}),H("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),H("MMMM",0,0,function(t){return this.localeData().months(this,t)}),N("month","M"),P("month",8),G("M",Xn),G("MM",Xn,Gn),G("MMM",function(t,e){return e.monthsShortRegex(t)}),G("MMMM",function(t,e){return e.monthsRegex(t)}),X(["M","MM"],function(t,e){e[ho]=O(t)-1}),X(["MMM","MMMM"],function(t,e,i,n){var o=i._locale.monthsParse(t,n,i._strict);null!=o?e[ho]=o:f(i).invalidMonth=t});var _o=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,So="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Co="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),wo=ao,Mo=ao;H("w",["ww",2],"wo","week"),H("W",["WW",2],"Wo","isoWeek"),N("week","w"),N("isoWeek","W"),P("week",5),P("isoWeek",5),G("w",Xn),G("ww",Xn,Gn),G("W",Xn),G("WW",Xn,Gn),K(["w","ww","W","WW"],function(t,e,i,n){e[n.substr(0,1)]=O(t)});var Eo={dow:0,doy:6};H("d",0,"do","day"),H("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),H("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),H("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),H("e",0,0,"weekday"),H("E",0,0,"isoWeekday"),N("day","d"),N("weekday","e"),N("isoWeekday","E"),P("day",11),P("weekday",11),P("isoWeekday",11),G("d",Xn),G("e",Xn),G("E",Xn),G("dd",function(t,e){return e.weekdaysMinRegex(t)}),G("ddd",function(t,e){return e.weekdaysShortRegex(t)}),G("dddd",function(t,e){return e.weekdaysRegex(t)}),K(["dd","ddd","dddd"],function(t,e,i,n){var o=i._locale.weekdaysParse(t,n,i._strict);null!=o?e.d=o:f(i).invalidWeekday=t}),K(["d","e","E"],function(t,e,i,n){e[n]=O(t)});var xo="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),ko="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Lo="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),To=ao,Do=ao,Ao=ao;H("H",["HH",2],0,"hour"),H("h",["hh",2],0,Ut),H("k",["kk",2],0,zt),H("hmm",0,0,function(){return""+Ut.apply(this)+F(this.minutes(),2)}),H("hmmss",0,0,function(){return""+Ut.apply(this)+F(this.minutes(),2)+F(this.seconds(),2)}),H("Hmm",0,0,function(){return""+this.hours()+F(this.minutes(),2)}),H("Hmmss",0,0,function(){return""+this.hours()+F(this.minutes(),2)+F(this.seconds(),2)}),Gt("a",!0),Gt("A",!1),N("hour","h"),P("hour",13),G("a",Vt),G("A",Vt),G("H",Xn),G("h",Xn),G("k",Xn),G("HH",Xn,Gn),G("hh",Xn,Gn),G("kk",Xn,Gn),G("hmm",Kn),G("hmmss",Zn),G("Hmm",Kn),G("Hmmss",Zn),X(["H","HH"],po),X(["k","kk"],function(t,e,i){var n=O(t);e[po]=24===n?0:n}),X(["a","A"],function(t,e,i){i._isPm=i._locale.isPM(t),i._meridiem=t}),X(["h","hh"],function(t,e,i){e[po]=O(t),f(i).bigHour=!0}),X("hmm",function(t,e,i){var n=t.length-2;e[po]=O(t.substr(0,n)),e[mo]=O(t.substr(n)),f(i).bigHour=!0}),X("hmmss",function(t,e,i){var n=t.length-4,o=t.length-2;e[po]=O(t.substr(0,n)),e[mo]=O(t.substr(n,2)),e[go]=O(t.substr(o)),f(i).bigHour=!0}),X("Hmm",function(t,e,i){var n=t.length-2;e[po]=O(t.substr(0,n)),e[mo]=O(t.substr(n))}),X("Hmmss",function(t,e,i){var n=t.length-4,o=t.length-2;e[po]=O(t.substr(0,n)),e[mo]=O(t.substr(n,2)),e[go]=O(t.substr(o))});var jo,No=/[ap]\.?m?\.?/i,Ro=it("Hours",!0),qo={calendar:An,longDateFormat:jn,invalidDate:Nn,ordinal:Rn,dayOfMonthOrdinalParse:qn,relativeTime:Pn,months:So,monthsShort:Co,week:Eo,weekdays:xo,weekdaysMin:Lo,weekdaysShort:ko,meridiemParse:No},Po={},Bo={},Fo=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Ho=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Yo=/Z|[+-]\d\d(?::?\d\d)?/,Wo=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Uo=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],zo=/^\/?Date\((\-?\d+)/i,Go=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Vo={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};t.createFromInputFallback=S("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),t.ISO_8601=function(){},t.RFC_2822=function(){};var $o=S("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=we.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:m()}),Jo=S("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=we.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:m()}),Xo=function(){return Date.now?Date.now():+new Date},Ko=["year","quarter","month","week","day","hour","minute","second","millisecond"];Ne("Z",":"),Ne("ZZ",""),G("Z",so),G("ZZ",so),X(["Z","ZZ"],function(t,e,i){i._useUTC=!0,i._tzm=Re(so,t)});var Zo=/([\+\-]|\d\d)/gi;t.updateOffset=function(){};var Qo=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,ts=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;Xe.fn=De.prototype,Xe.invalid=Te;var es=ti(1,"add"),is=ti(-1,"subtract");t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",t.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var ns=S("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});H(0,["gg",2],0,function(){return this.weekYear()%100}),H(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Ni("gggg","weekYear"),Ni("ggggg","weekYear"),Ni("GGGG","isoWeekYear"),Ni("GGGGG","isoWeekYear"),N("weekYear","gg"),N("isoWeekYear","GG"),P("weekYear",1),P("isoWeekYear",1),G("G",no),G("g",no),G("GG",Xn,Gn),G("gg",Xn,Gn),G("GGGG",to,$n),G("gggg",to,$n),G("GGGGG",eo,Jn),G("ggggg",eo,Jn),K(["gggg","ggggg","GGGG","GGGGG"],function(t,e,i,n){e[n.substr(0,2)]=O(t)}),K(["gg","GG"],function(e,i,n,o){i[o]=t.parseTwoDigitYear(e)}),H("Q",0,"Qo","quarter"),N("quarter","Q"),P("quarter",7),G("Q",zn),X("Q",function(t,e){e[ho]=3*(O(t)-1)}),H("D",["DD",2],"Do","date"),N("date","D"),P("date",9),G("D",Xn),G("DD",Xn,Gn),G("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient}),X(["D","DD"],fo),X("Do",function(t,e){e[fo]=O(t.match(Xn)[0])});var os=it("Date",!0);H("DDD",["DDDD",3],"DDDo","dayOfYear"),N("dayOfYear","DDD"),P("dayOfYear",4),G("DDD",Qn),G("DDDD",Vn),X(["DDD","DDDD"],function(t,e,i){i._dayOfYear=O(t)}),H("m",["mm",2],0,"minute"),N("minute","m"),P("minute",14),G("m",Xn),G("mm",Xn,Gn),X(["m","mm"],mo);var ss=it("Minutes",!1);H("s",["ss",2],0,"second"),N("second","s"),P("second",15),G("s",Xn),G("ss",Xn,Gn),X(["s","ss"],go);var rs=it("Seconds",!1);H("S",0,0,function(){return~~(this.millisecond()/100)}),H(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),H(0,["SSS",3],0,"millisecond"),H(0,["SSSS",4],0,function(){return 10*this.millisecond()}),H(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),H(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),H(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),H(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),H(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),N("millisecond","ms"),P("millisecond",16),G("S",Qn,zn),G("SS",Qn,Gn),G("SSS",Qn,Vn);var as;for(as="SSSS";as.length<=9;as+="S")G(as,io);for(as="S";as.length<=9;as+="S")X(as,Ui);var cs=it("Milliseconds",!1);H("z",0,0,"zoneAbbr"),H("zz",0,0,"zoneName");var ls=y.prototype;ls.add=es,ls.calendar=ni,ls.clone=oi,ls.diff=di,ls.endOf=Ci,ls.format=gi,ls.from=yi,ls.fromNow=vi,ls.to=bi,ls.toNow=Oi,ls.get=st,ls.invalidAt=Ai,ls.isAfter=si,ls.isBefore=ri,ls.isBetween=ai,ls.isSame=ci,ls.isSameOrAfter=li,ls.isSameOrBefore=ui,ls.isValid=Ti,ls.lang=ns,ls.locale=Ii,ls.localeData=_i,ls.max=Jo,ls.min=$o,ls.parsingFlags=Di,ls.set=rt,ls.startOf=Si,ls.subtract=is,ls.toArray=xi,ls.toObject=ki,ls.toDate=Ei,ls.toISOString=pi,ls.inspect=mi,ls.toJSON=Li,ls.toString=fi,ls.unix=Mi,ls.valueOf=wi,ls.creationData=ji,ls.year=Io,ls.isLeapYear=et,ls.weekYear=Ri,ls.isoWeekYear=qi,ls.quarter=ls.quarters=Yi,ls.month=pt,ls.daysInMonth=mt,ls.week=ls.weeks=xt,ls.isoWeek=ls.isoWeeks=kt,ls.weeksInYear=Bi,ls.isoWeeksInYear=Pi,ls.date=os,ls.day=ls.days=qt,ls.weekday=Pt,ls.isoWeekday=Bt,ls.dayOfYear=Wi,ls.hour=ls.hours=Ro,ls.minute=ls.minutes=ss,ls.second=ls.seconds=rs,ls.millisecond=ls.milliseconds=cs,ls.utcOffset=Be,ls.utc=He,ls.local=Ye,ls.parseZone=We,ls.hasAlignedHourOffset=Ue,ls.isDST=ze,ls.isLocal=Ve,ls.isUtcOffset=$e,ls.isUtc=Je,ls.isUTC=Je,ls.zoneAbbr=zi,ls.zoneName=Gi,ls.dates=S("dates accessor is deprecated. Use date instead.",os),ls.months=S("months accessor is deprecated. Use month instead",pt),ls.years=S("years accessor is deprecated. Use year instead",Io),ls.zone=S("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Fe),ls.isDSTShifted=S("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Ge);var us=x.prototype;us.calendar=k,us.longDateFormat=L,us.invalidDate=T,us.ordinal=D,us.preparse=Ji,us.postformat=Ji,us.relativeTime=A,us.pastFuture=j,us.set=M,us.months=lt,us.monthsShort=ut,us.monthsParse=ht,us.monthsRegex=yt,us.monthsShortRegex=gt,us.week=wt,us.firstDayOfYear=Et,us.firstDayOfWeek=Mt,us.weekdays=Dt,us.weekdaysMin=jt,us.weekdaysShort=At,us.weekdaysParse=Rt,us.weekdaysRegex=Ft,us.weekdaysShortRegex=Ht,us.weekdaysMinRegex=Yt,us.isPM=$t,us.meridiem=Jt,Qt("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,i=1===O(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+i}}),t.lang=S("moment.lang is deprecated. Use moment.locale instead.",Qt),t.langData=S("moment.langData is deprecated. Use moment.localeData instead.",ie);var ds=Math.abs,hs=mn("ms"),fs=mn("s"),ps=mn("m"),ms=mn("h"),gs=mn("d"),ys=mn("w"),vs=mn("M"),bs=mn("y"),Os=vn("milliseconds"),Is=vn("seconds"),_s=vn("minutes"),Ss=vn("hours"),Cs=vn("days"),ws=vn("months"),Ms=vn("years"),Es=Math.round,xs={ss:44,s:45,m:45,h:22,d:26,M:11},ks=Math.abs,Ls=De.prototype;return Ls.isValid=Le,Ls.abs=sn,Ls.add=an,Ls.subtract=cn,Ls.as=fn,Ls.asMilliseconds=hs,Ls.asSeconds=fs,Ls.asMinutes=ps,Ls.asHours=ms,Ls.asDays=gs,Ls.asWeeks=ys,Ls.asMonths=vs,Ls.asYears=bs,Ls.valueOf=pn,Ls._bubble=un,Ls.clone=gn,Ls.get=yn,Ls.milliseconds=Os,Ls.seconds=Is,Ls.minutes=_s,Ls.hours=Ss,Ls.days=Cs,Ls.weeks=bn,Ls.months=ws,Ls.years=Ms,Ls.humanize=Cn,Ls.toISOString=Mn,Ls.toString=Mn,Ls.toJSON=Mn,Ls.locale=Ii,Ls.localeData=_i,Ls.toIsoString=S("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Mn),Ls.lang=ns,H("X",0,0,"unix"),H("x",0,0,"valueOf"),G("x",no),G("X",ro),X("X",function(t,e,i){i._d=new Date(1e3*parseFloat(t,10))}),X("x",function(t,e,i){i._d=new Date(O(t))}),t.version="2.22.0",e(we),t.fn=ls,t.min=Ee,t.max=xe,t.now=Xo,t.utc=d,t.unix=Vi,t.months=Qi,t.isDate=a,t.locale=Qt,t.invalid=m,t.duration=Xe,t.isMoment=v,t.weekdays=en,t.parseZone=$i,t.localeData=ie,t.isDuration=Ae,t.monthsShort=tn,t.weekdaysMin=on,t.defineLocale=te,t.updateLocale=ee,t.locales=ne,t.weekdaysShort=nn,t.normalizeUnits=R,t.relativeTimeRounding=_n,t.relativeTimeThreshold=Sn,t.calendarFormat=ii,t.prototype=ls,t.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"YYYY-[W]WW",MONTH:"YYYY-MM"},t}),function(t,e){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){"use strict";function i(t,e,i){e=e||rt;var n,o=e.createElement("script");if(o.text=t,i)for(n in Ot)i[n]&&(o[n]=i[n]);e.head.appendChild(o).parentNode.removeChild(o)}function n(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?ht[ft.call(t)]||"object":typeof t}function o(t){var e=!!t&&"length"in t&&t.length,i=n(t);return!vt(t)&&!bt(t)&&("array"===i||0===e||"number"==typeof e&&e>0&&e-1 in t)}function s(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}function r(t,e,i){return vt(e)?_t.grep(t,function(t,n){return!!e.call(t,n,t)!==i}):e.nodeType?_t.grep(t,function(t){return t===e!==i}):"string"!=typeof e?_t.grep(t,function(t){return dt.call(e,t)>-1!==i}):_t.filter(e,t,i)}function a(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function c(t){var e={};return _t.each(t.match(jt)||[],function(t,i){e[i]=!0}),e}function l(t){return t}function u(t){throw t}function d(t,e,i,n){var o;try{t&&vt(o=t.promise)?o.call(t).done(e).fail(i):t&&vt(o=t.then)?o.call(t,e,i):e.apply(void 0,[t].slice(n))}catch(t){i.apply(void 0,[t])}}function h(){rt.removeEventListener("DOMContentLoaded",h),t.removeEventListener("load",h),_t.ready()}function f(t,e){return e.toUpperCase()}function p(t){return t.replace(Pt,"ms-").replace(Bt,f)}function m(){this.expando=_t.expando+m.uid++}function g(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:Wt.test(t)?JSON.parse(t):t)}function y(t,e,i){var n;if(void 0===i&&1===t.nodeType)if(n="data-"+e.replace(Ut,"-$&").toLowerCase(),i=t.getAttribute(n),"string"==typeof i){try{i=g(i)}catch(o){}Yt.set(t,e,i)}else i=void 0;return i}function v(t,e,i,n){var o,s,r=20,a=n?function(){return n.cur()}:function(){return _t.css(t,e,"")},c=a(),l=i&&i[3]||(_t.cssNumber[e]?"":"px"),u=(_t.cssNumber[e]||"px"!==l&&+c)&&Gt.exec(_t.css(t,e));if(u&&u[3]!==l){for(c/=2,l=l||u[3],u=+c||1;r--;)_t.style(t,e,u+l),(1-s)*(1-(s=a()/c||.5))<=0&&(r=0),u/=s;u=2*u,_t.style(t,e,u+l),i=i||[]}return i&&(u=+u||+c||0,o=i[1]?u+(i[1]+1)*i[2]:+i[2],n&&(n.unit=l,n.start=u,n.end=o)),o}function b(t){var e,i=t.ownerDocument,n=t.nodeName,o=Xt[n];return o?o:(e=i.body.appendChild(i.createElement(n)),o=_t.css(e,"display"),e.parentNode.removeChild(e),"none"===o&&(o="block"),Xt[n]=o,o)}function O(t,e){for(var i,n,o=[],s=0,r=t.length;s<r;s++)n=t[s],n.style&&(i=n.style.display,e?("none"===i&&(o[s]=Ht.get(n,"display")||null,o[s]||(n.style.display="")),""===n.style.display&&$t(n)&&(o[s]=b(n))):"none"!==i&&(o[s]="none",Ht.set(n,"display",i)));for(s=0;s<r;s++)null!=o[s]&&(t[s].style.display=o[s]);return t}function I(t,e){var i;return i="undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e||"*"):"undefined"!=typeof t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&s(t,e)?_t.merge([t],i):i}function _(t,e){for(var i=0,n=t.length;i<n;i++)Ht.set(t[i],"globalEval",!e||Ht.get(e[i],"globalEval"))}function S(t,e,i,o,s){for(var r,a,c,l,u,d,h=e.createDocumentFragment(),f=[],p=0,m=t.length;p<m;p++)if(r=t[p],r||0===r)if("object"===n(r))_t.merge(f,r.nodeType?[r]:r);else if(ee.test(r)){for(a=a||h.appendChild(e.createElement("div")),c=(Zt.exec(r)||["",""])[1].toLowerCase(),l=te[c]||te._default,a.innerHTML=l[1]+_t.htmlPrefilter(r)+l[2],d=l[0];d--;)a=a.lastChild;_t.merge(f,a.childNodes),a=h.firstChild,a.textContent=""}else f.push(e.createTextNode(r));for(h.textContent="",p=0;r=f[p++];)if(o&&_t.inArray(r,o)>-1)s&&s.push(r);else if(u=_t.contains(r.ownerDocument,r),a=I(h.appendChild(r),"script"),u&&_(a),i)for(d=0;r=a[d++];)Qt.test(r.type||"")&&i.push(r);return h}function C(){return!0}function w(){return!1}function M(){try{return rt.activeElement}catch(t){}}function E(t,e,i,n,o,s){var r,a;if("object"==typeof e){"string"!=typeof i&&(n=n||i,i=void 0);for(a in e)E(t,a,i,n,e[a],s);return t}if(null==n&&null==o?(o=i,n=i=void 0):null==o&&("string"==typeof i?(o=n,n=void 0):(o=n,n=i,i=void 0)),o===!1)o=w;else if(!o)return t;return 1===s&&(r=o,o=function(t){return _t().off(t),r.apply(this,arguments)},o.guid=r.guid||(r.guid=_t.guid++)),t.each(function(){_t.event.add(this,e,o,n,i)})}function x(t,e){return s(t,"table")&&s(11!==e.nodeType?e:e.firstChild,"tr")?_t(t).children("tbody")[0]||t:t}function k(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function L(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function T(t,e){var i,n,o,s,r,a,c,l;if(1===e.nodeType){if(Ht.hasData(t)&&(s=Ht.access(t),r=Ht.set(e,s),l=s.events)){delete r.handle,r.events={};for(o in l)for(i=0,n=l[o].length;i<n;i++)_t.event.add(e,o,l[o][i])}Yt.hasData(t)&&(a=Yt.access(t),c=_t.extend({},a),Yt.set(e,c))}}function D(t,e){var i=e.nodeName.toLowerCase();"input"===i&&Kt.test(t.type)?e.checked=t.checked:"input"!==i&&"textarea"!==i||(e.defaultValue=t.defaultValue)}function A(t,e,n,o){e=lt.apply([],e);var s,r,a,c,l,u,d=0,h=t.length,f=h-1,p=e[0],m=vt(p);if(m||h>1&&"string"==typeof p&&!yt.checkClone&&ce.test(p))return t.each(function(i){var s=t.eq(i);m&&(e[0]=p.call(this,i,s.html())),A(s,e,n,o)});if(h&&(s=S(e,t[0].ownerDocument,!1,t,o),r=s.firstChild,1===s.childNodes.length&&(s=r),r||o)){for(a=_t.map(I(s,"script"),k),c=a.length;d<h;d++)l=s,d!==f&&(l=_t.clone(l,!0,!0),c&&_t.merge(a,I(l,"script"))),n.call(t[d],l,d);if(c)for(u=a[a.length-1].ownerDocument,_t.map(a,L),d=0;d<c;d++)l=a[d],Qt.test(l.type||"")&&!Ht.access(l,"globalEval")&&_t.contains(u,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?_t._evalUrl&&_t._evalUrl(l.src):i(l.textContent.replace(le,""),u,l))}return t}function j(t,e,i){for(var n,o=e?_t.filter(e,t):t,s=0;null!=(n=o[s]);s++)i||1!==n.nodeType||_t.cleanData(I(n)),n.parentNode&&(i&&_t.contains(n.ownerDocument,n)&&_(I(n,"script")),n.parentNode.removeChild(n));return t}function N(t,e,i){var n,o,s,r,a=t.style;return i=i||de(t),i&&(r=i.getPropertyValue(e)||i[e],""!==r||_t.contains(t.ownerDocument,t)||(r=_t.style(t,e)),!yt.pixelBoxStyles()&&ue.test(r)&&he.test(e)&&(n=a.width,o=a.minWidth,s=a.maxWidth,a.minWidth=a.maxWidth=a.width=r,r=i.width,a.width=n,a.minWidth=o,a.maxWidth=s)),void 0!==r?r+"":r}function R(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function q(t){if(t in ve)return t;for(var e=t[0].toUpperCase()+t.slice(1),i=ye.length;i--;)if(t=ye[i]+e,t in ve)return t}function P(t){var e=_t.cssProps[t];return e||(e=_t.cssProps[t]=q(t)||t),e}function B(t,e,i){var n=Gt.exec(e);return n?Math.max(0,n[2]-(i||0))+(n[3]||"px"):e}function F(t,e,i,n,o,s){var r="width"===e?1:0,a=0,c=0;if(i===(n?"border":"content"))return 0;for(;r<4;r+=2)"margin"===i&&(c+=_t.css(t,i+Vt[r],!0,o)),n?("content"===i&&(c-=_t.css(t,"padding"+Vt[r],!0,o)),"margin"!==i&&(c-=_t.css(t,"border"+Vt[r]+"Width",!0,o))):(c+=_t.css(t,"padding"+Vt[r],!0,o),"padding"!==i?c+=_t.css(t,"border"+Vt[r]+"Width",!0,o):a+=_t.css(t,"border"+Vt[r]+"Width",!0,o));return!n&&s>=0&&(c+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-s-c-a-.5))),c}function H(t,e,i){var n=de(t),o=N(t,e,n),s="border-box"===_t.css(t,"boxSizing",!1,n),r=s;if(ue.test(o)){if(!i)return o;o="auto"}return r=r&&(yt.boxSizingReliable()||o===t.style[e]),("auto"===o||!parseFloat(o)&&"inline"===_t.css(t,"display",!1,n))&&(o=t["offset"+e[0].toUpperCase()+e.slice(1)],r=!0),o=parseFloat(o)||0,o+F(t,e,i||(s?"border":"content"),r,n,o)+"px"}function Y(t,e,i,n,o){return new Y.prototype.init(t,e,i,n,o)}function W(){Oe&&(rt.hidden===!1&&t.requestAnimationFrame?t.requestAnimationFrame(W):t.setTimeout(W,_t.fx.interval),_t.fx.tick())}function U(){return t.setTimeout(function(){be=void 0}),be=Date.now()}function z(t,e){var i,n=0,o={height:t};for(e=e?1:0;n<4;n+=2-e)i=Vt[n],o["margin"+i]=o["padding"+i]=t;return e&&(o.opacity=o.width=t),o}function G(t,e,i){for(var n,o=(J.tweeners[e]||[]).concat(J.tweeners["*"]),s=0,r=o.length;s<r;s++)if(n=o[s].call(i,e,t))return n}function V(t,e,i){var n,o,s,r,a,c,l,u,d="width"in e||"height"in e,h=this,f={},p=t.style,m=t.nodeType&&$t(t),g=Ht.get(t,"fxshow");i.queue||(r=_t._queueHooks(t,"fx"),null==r.unqueued&&(r.unqueued=0,a=r.empty.fire,r.empty.fire=function(){r.unqueued||a()}),r.unqueued++,h.always(function(){h.always(function(){r.unqueued--,_t.queue(t,"fx").length||r.empty.fire()})}));for(n in e)if(o=e[n],Ie.test(o)){if(delete e[n],s=s||"toggle"===o,o===(m?"hide":"show")){if("show"!==o||!g||void 0===g[n])continue;m=!0}f[n]=g&&g[n]||_t.style(t,n)}if(c=!_t.isEmptyObject(e),c||!_t.isEmptyObject(f)){d&&1===t.nodeType&&(i.overflow=[p.overflow,p.overflowX,p.overflowY],l=g&&g.display,null==l&&(l=Ht.get(t,"display")),u=_t.css(t,"display"),"none"===u&&(l?u=l:(O([t],!0),l=t.style.display||l,u=_t.css(t,"display"),O([t]))),("inline"===u||"inline-block"===u&&null!=l)&&"none"===_t.css(t,"float")&&(c||(h.done(function(){p.display=l}),null==l&&(u=p.display,l="none"===u?"":u)),p.display="inline-block")),i.overflow&&(p.overflow="hidden",h.always(function(){p.overflow=i.overflow[0],p.overflowX=i.overflow[1],p.overflowY=i.overflow[2]})),c=!1;for(n in f)c||(g?"hidden"in g&&(m=g.hidden):g=Ht.access(t,"fxshow",{display:l}),s&&(g.hidden=!m),m&&O([t],!0),h.done(function(){m||O([t]),Ht.remove(t,"fxshow");for(n in f)_t.style(t,n,f[n])})),c=G(m?g[n]:0,n,h),n in g||(g[n]=c.start,m&&(c.end=c.start,c.start=0))}}function $(t,e){var i,n,o,s,r;for(i in t)if(n=p(i),o=e[n],s=t[i],Array.isArray(s)&&(o=s[1],s=t[i]=s[0]),i!==n&&(t[n]=s,delete t[i]),r=_t.cssHooks[n],r&&"expand"in r){s=r.expand(s),delete t[n];for(i in s)i in t||(t[i]=s[i],e[i]=o)}else e[n]=o}function J(t,e,i){var n,o,s=0,r=J.prefilters.length,a=_t.Deferred().always(function(){delete c.elem}),c=function(){if(o)return!1;for(var e=be||U(),i=Math.max(0,l.startTime+l.duration-e),n=i/l.duration||0,s=1-n,r=0,c=l.tweens.length;r<c;r++)l.tweens[r].run(s);return a.notifyWith(t,[l,s,i]),s<1&&c?i:(c||a.notifyWith(t,[l,1,0]),a.resolveWith(t,[l]),!1)},l=a.promise({elem:t,props:_t.extend({},e),opts:_t.extend(!0,{specialEasing:{},easing:_t.easing._default},i),originalProperties:e,originalOptions:i,startTime:be||U(),duration:i.duration,tweens:[],createTween:function(e,i){var n=_t.Tween(t,l.opts,e,i,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(n),n},stop:function(e){var i=0,n=e?l.tweens.length:0;if(o)return this;for(o=!0;i<n;i++)l.tweens[i].run(1);return e?(a.notifyWith(t,[l,1,0]),a.resolveWith(t,[l,e])):a.rejectWith(t,[l,e]),this}}),u=l.props;for($(u,l.opts.specialEasing);s<r;s++)if(n=J.prefilters[s].call(l,t,u,l.opts))return vt(n.stop)&&(_t._queueHooks(l.elem,l.opts.queue).stop=n.stop.bind(n)),n;return _t.map(u,G,l),vt(l.opts.start)&&l.opts.start.call(t,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),_t.fx.timer(_t.extend(c,{elem:t,anim:l,queue:l.opts.queue})),l}function X(t){var e=t.match(jt)||[];return e.join(" ")}function K(t){return t.getAttribute&&t.getAttribute("class")||""}function Z(t){return Array.isArray(t)?t:"string"==typeof t?t.match(jt)||[]:[]}function Q(t,e,i,o){var s;if(Array.isArray(e))_t.each(e,function(e,n){i||Ae.test(t)?o(t,n):Q(t+"["+("object"==typeof n&&null!=n?e:"")+"]",n,i,o)});else if(i||"object"!==n(e))o(t,e);else for(s in e)Q(t+"["+s+"]",e[s],i,o)}function tt(t){return function(e,i){"string"!=typeof e&&(i=e,e="*");var n,o=0,s=e.toLowerCase().match(jt)||[];if(vt(i))for(;n=s[o++];)"+"===n[0]?(n=n.slice(1)||"*",(t[n]=t[n]||[]).unshift(i)):(t[n]=t[n]||[]).push(i)}}function et(t,e,i,n){function o(a){var c;return s[a]=!0,_t.each(t[a]||[],function(t,a){var l=a(e,i,n);return"string"!=typeof l||r||s[l]?r?!(c=l):void 0:(e.dataTypes.unshift(l),o(l),!1)}),c}var s={},r=t===ze;return o(e.dataTypes[0])||!s["*"]&&o("*")}function it(t,e){var i,n,o=_t.ajaxSettings.flatOptions||{};for(i in e)void 0!==e[i]&&((o[i]?t:n||(n={}))[i]=e[i]);return n&&_t.extend(!0,t,n),t}function nt(t,e,i){for(var n,o,s,r,a=t.contents,c=t.dataTypes;"*"===c[0];)c.shift(),void 0===n&&(n=t.mimeType||e.getResponseHeader("Content-Type"));if(n)for(o in a)if(a[o]&&a[o].test(n)){c.unshift(o);break}if(c[0]in i)s=c[0];else{for(o in i){if(!c[0]||t.converters[o+" "+c[0]]){s=o;break}r||(r=o)}s=s||r}if(s)return s!==c[0]&&c.unshift(s),i[s]}function ot(t,e,i,n){var o,s,r,a,c,l={},u=t.dataTypes.slice();if(u[1])for(r in t.converters)l[r.toLowerCase()]=t.converters[r];for(s=u.shift();s;)if(t.responseFields[s]&&(i[t.responseFields[s]]=e),!c&&n&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),c=s,s=u.shift())if("*"===s)s=c;else if("*"!==c&&c!==s){if(r=l[c+" "+s]||l["* "+s],!r)for(o in l)if(a=o.split(" "),a[1]===s&&(r=l[c+" "+a[0]]||l["* "+a[0]])){r===!0?r=l[o]:l[o]!==!0&&(s=a[0],u.unshift(a[1]));break}if(r!==!0)if(r&&t["throws"])e=r(e);else try{e=r(e)}catch(d){return{state:"parsererror",error:r?d:"No conversion from "+c+" to "+s}}}return{state:"success",data:e}}var st=[],rt=t.document,at=Object.getPrototypeOf,ct=st.slice,lt=st.concat,ut=st.push,dt=st.indexOf,ht={},ft=ht.toString,pt=ht.hasOwnProperty,mt=pt.toString,gt=mt.call(Object),yt={},vt=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType},bt=function(t){return null!=t&&t===t.window},Ot={type:!0,src:!0,noModule:!0},It="3.3.1",_t=function(t,e){return new _t.fn.init(t,e)},St=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;_t.fn=_t.prototype={jquery:It,constructor:_t,length:0,toArray:function(){return ct.call(this)},get:function(t){return null==t?ct.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=_t.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return _t.each(this,t)},map:function(t){return this.pushStack(_t.map(this,function(e,i){return t.call(e,i,e)}))},slice:function(){return this.pushStack(ct.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,i=+t+(t<0?e:0);return this.pushStack(i>=0&&i<e?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:ut,sort:st.sort,splice:st.splice},_t.extend=_t.fn.extend=function(){var t,e,i,n,o,s,r=arguments[0]||{},a=1,c=arguments.length,l=!1;for("boolean"==typeof r&&(l=r,r=arguments[a]||{},a++),"object"==typeof r||vt(r)||(r={}),a===c&&(r=this,a--);a<c;a++)if(null!=(t=arguments[a]))for(e in t)i=r[e],n=t[e],r!==n&&(l&&n&&(_t.isPlainObject(n)||(o=Array.isArray(n)))?(o?(o=!1,s=i&&Array.isArray(i)?i:[]):s=i&&_t.isPlainObject(i)?i:{},r[e]=_t.extend(l,s,n)):void 0!==n&&(r[e]=n));return r},_t.extend({expando:"jQuery"+(It+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,i;return!(!t||"[object Object]"!==ft.call(t))&&(!(e=at(t))||(i=pt.call(e,"constructor")&&e.constructor,"function"==typeof i&&mt.call(i)===gt))},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t){i(t)},each:function(t,e){var i,n=0;if(o(t))for(i=t.length;n<i&&e.call(t[n],n,t[n])!==!1;n++);else for(n in t)if(e.call(t[n],n,t[n])===!1)break;return t},trim:function(t){return null==t?"":(t+"").replace(St,"")},makeArray:function(t,e){var i=e||[];return null!=t&&(o(Object(t))?_t.merge(i,"string"==typeof t?[t]:t):ut.call(i,t)),i},inArray:function(t,e,i){return null==e?-1:dt.call(e,t,i)},merge:function(t,e){for(var i=+e.length,n=0,o=t.length;n<i;n++)t[o++]=e[n];return t.length=o,t},grep:function(t,e,i){for(var n,o=[],s=0,r=t.length,a=!i;s<r;s++)n=!e(t[s],s),n!==a&&o.push(t[s]);return o},map:function(t,e,i){var n,s,r=0,a=[];if(o(t))for(n=t.length;r<n;r++)s=e(t[r],r,i),null!=s&&a.push(s);else for(r in t)s=e(t[r],r,i),null!=s&&a.push(s);return lt.apply([],a)},guid:1,support:yt}),"function"==typeof Symbol&&(_t.fn[Symbol.iterator]=st[Symbol.iterator]),_t.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){ht["[object "+e+"]"]=e.toLowerCase()});var Ct=function(t){function e(t,e,i,n){var o,s,r,a,c,l,u,h=e&&e.ownerDocument,p=e?e.nodeType:9;if(i=i||[],"string"!=typeof t||!t||1!==p&&9!==p&&11!==p)return i;if(!n&&((e?e.ownerDocument||e:H)!==A&&D(e),e=e||A,N)){if(11!==p&&(c=yt.exec(t)))if(o=c[1]){if(9===p){if(!(r=e.getElementById(o)))return i;if(r.id===o)return i.push(r),i}else if(h&&(r=h.getElementById(o))&&B(e,r)&&r.id===o)return i.push(r),i}else{if(c[2])return Z.apply(i,e.getElementsByTagName(t)),i;if((o=c[3])&&_.getElementsByClassName&&e.getElementsByClassName)return Z.apply(i,e.getElementsByClassName(o)),i}if(_.qsa&&!G[t+" "]&&(!R||!R.test(t))){if(1!==p)h=e,u=t;else if("object"!==e.nodeName.toLowerCase()){for((a=e.getAttribute("id"))?a=a.replace(It,_t):e.setAttribute("id",a=F),l=M(t),s=l.length;s--;)l[s]="#"+a+" "+f(l[s]);u=l.join(","),h=vt.test(t)&&d(e.parentNode)||e}if(u)try{return Z.apply(i,h.querySelectorAll(u)),i}catch(m){}finally{a===F&&e.removeAttribute("id")}}}return x(t.replace(at,"$1"),e,i,n)}function i(){function t(i,n){return e.push(i+" ")>S.cacheLength&&delete t[e.shift()],t[i+" "]=n}var e=[];return t}function n(t){return t[F]=!0,t}function o(t){var e=A.createElement("fieldset");try{return!!t(e)}catch(i){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function s(t,e){for(var i=t.split("|"),n=i.length;n--;)S.attrHandle[i[n]]=e}function r(t,e){var i=e&&t,n=i&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(n)return n;if(i)for(;i=i.nextSibling;)if(i===e)return-1;return t?1:-1}function a(t){return function(e){var i=e.nodeName.toLowerCase();return"input"===i&&e.type===t}}function c(t){return function(e){var i=e.nodeName.toLowerCase();return("input"===i||"button"===i)&&e.type===t}}function l(t){return function(e){return"form"in e?e.parentNode&&e.disabled===!1?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&Ct(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function u(t){return n(function(e){return e=+e,n(function(i,n){for(var o,s=t([],i.length,e),r=s.length;r--;)i[o=s[r]]&&(i[o]=!(n[o]=i[o]))})})}function d(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function h(){}function f(t){for(var e=0,i=t.length,n="";e<i;e++)n+=t[e].value;return n}function p(t,e,i){var n=e.dir,o=e.next,s=o||n,r=i&&"parentNode"===s,a=W++;return e.first?function(e,i,o){for(;e=e[n];)if(1===e.nodeType||r)return t(e,i,o);return!1}:function(e,i,c){var l,u,d,h=[Y,a];if(c){for(;e=e[n];)if((1===e.nodeType||r)&&t(e,i,c))return!0}else for(;e=e[n];)if(1===e.nodeType||r)if(d=e[F]||(e[F]={}),u=d[e.uniqueID]||(d[e.uniqueID]={}),o&&o===e.nodeName.toLowerCase())e=e[n]||e;else{if((l=u[s])&&l[0]===Y&&l[1]===a)return h[2]=l[2];if(u[s]=h,h[2]=t(e,i,c))return!0}return!1}}function m(t){return t.length>1?function(e,i,n){for(var o=t.length;o--;)if(!t[o](e,i,n))return!1;return!0}:t[0]}function g(t,i,n){for(var o=0,s=i.length;o<s;o++)e(t,i[o],n);return n}function y(t,e,i,n,o){for(var s,r=[],a=0,c=t.length,l=null!=e;a<c;a++)(s=t[a])&&(i&&!i(s,n,o)||(r.push(s),l&&e.push(a)));return r}function v(t,e,i,o,s,r){return o&&!o[F]&&(o=v(o)),s&&!s[F]&&(s=v(s,r)),n(function(n,r,a,c){var l,u,d,h=[],f=[],p=r.length,m=n||g(e||"*",a.nodeType?[a]:a,[]),v=!t||!n&&e?m:y(m,h,t,a,c),b=i?s||(n?t:p||o)?[]:r:v;if(i&&i(v,b,a,c),o)for(l=y(b,f),o(l,[],a,c),u=l.length;u--;)(d=l[u])&&(b[f[u]]=!(v[f[u]]=d));if(n){if(s||t){if(s){for(l=[],u=b.length;u--;)(d=b[u])&&l.push(v[u]=d);s(null,b=[],l,c)}for(u=b.length;u--;)(d=b[u])&&(l=s?tt(n,d):h[u])>-1&&(n[l]=!(r[l]=d))}}else b=y(b===r?b.splice(p,b.length):b),s?s(null,r,b,c):Z.apply(r,b)})}function b(t){for(var e,i,n,o=t.length,s=S.relative[t[0].type],r=s||S.relative[" "],a=s?1:0,c=p(function(t){return t===e},r,!0),l=p(function(t){return tt(e,t)>-1},r,!0),u=[function(t,i,n){var o=!s&&(n||i!==k)||((e=i).nodeType?c(t,i,n):l(t,i,n));return e=null,o}];a<o;a++)if(i=S.relative[t[a].type])u=[p(m(u),i)];else{if(i=S.filter[t[a].type].apply(null,t[a].matches),i[F]){for(n=++a;n<o&&!S.relative[t[n].type];n++);return v(a>1&&m(u),a>1&&f(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(at,"$1"),i,a<n&&b(t.slice(a,n)),n<o&&b(t=t.slice(n)),n<o&&f(t))}u.push(i)}return m(u)}function O(t,i){var o=i.length>0,s=t.length>0,r=function(n,r,a,c,l){var u,d,h,f=0,p="0",m=n&&[],g=[],v=k,b=n||s&&S.find.TAG("*",l),O=Y+=null==v?1:Math.random()||.1,I=b.length;for(l&&(k=r===A||r||l);p!==I&&null!=(u=b[p]);p++){if(s&&u){for(d=0,r||u.ownerDocument===A||(D(u),a=!N);h=t[d++];)if(h(u,r||A,a)){c.push(u);break}l&&(Y=O)}o&&((u=!h&&u)&&f--,n&&m.push(u))}if(f+=p,o&&p!==f){for(d=0;h=i[d++];)h(m,g,r,a);if(n){if(f>0)for(;p--;)m[p]||g[p]||(g[p]=X.call(c));g=y(g)}Z.apply(c,g),l&&!n&&g.length>0&&f+i.length>1&&e.uniqueSort(c)}return l&&(Y=O,k=v),m};return o?n(r):r}var I,_,S,C,w,M,E,x,k,L,T,D,A,j,N,R,q,P,B,F="sizzle"+1*new Date,H=t.document,Y=0,W=0,U=i(),z=i(),G=i(),V=function(t,e){return t===e&&(T=!0),0},$={}.hasOwnProperty,J=[],X=J.pop,K=J.push,Z=J.push,Q=J.slice,tt=function(t,e){for(var i=0,n=t.length;i<n;i++)if(t[i]===e)return i;return-1},et="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",it="[\\x20\\t\\r\\n\\f]",nt="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",ot="\\["+it+"*("+nt+")(?:"+it+"*([*^$|!~]?=)"+it+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+nt+"))|)"+it+"*\\]",st=":("+nt+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ot+")*)|.*)\\)|)",rt=new RegExp(it+"+","g"),at=new RegExp("^"+it+"+|((?:^|[^\\\\])(?:\\\\.)*)"+it+"+$","g"),ct=new RegExp("^"+it+"*,"+it+"*"),lt=new RegExp("^"+it+"*([>+~]|"+it+")"+it+"*"),ut=new RegExp("="+it+"*([^\\]'\"]*?)"+it+"*\\]","g"),dt=new RegExp(st),ht=new RegExp("^"+nt+"$"),ft={ID:new RegExp("^#("+nt+")"),CLASS:new RegExp("^\\.("+nt+")"),TAG:new RegExp("^("+nt+"|[*])"),ATTR:new RegExp("^"+ot),PSEUDO:new RegExp("^"+st),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+it+"*(even|odd|(([+-]|)(\\d*)n|)"+it+"*(?:([+-]|)"+it+"*(\\d+)|))"+it+"*\\)|)","i"),bool:new RegExp("^(?:"+et+")$","i"),needsContext:new RegExp("^"+it+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+it+"*((?:-\\d)?\\d*)"+it+"*\\)|)(?=[^-]|$)","i")},pt=/^(?:input|select|textarea|button)$/i,mt=/^h\d$/i,gt=/^[^{]+\{\s*\[native \w/,yt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,vt=/[+~]/,bt=new RegExp("\\\\([\\da-f]{1,6}"+it+"?|("+it+")|.)","ig"),Ot=function(t,e,i){var n="0x"+e-65536;return n!==n||i?e:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},It=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,_t=function(t,e){return e?"\0"===t?"�":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},St=function(){D()},Ct=p(function(t){return t.disabled===!0&&("form"in t||"label"in t)},{dir:"parentNode",next:"legend"});try{Z.apply(J=Q.call(H.childNodes),H.childNodes),J[H.childNodes.length].nodeType}catch(wt){Z={apply:J.length?function(t,e){K.apply(t,Q.call(e))}:function(t,e){for(var i=t.length,n=0;t[i++]=e[n++];);t.length=i-1}}}_=e.support={},w=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},D=e.setDocument=function(t){var e,i,n=t?t.ownerDocument||t:H;return n!==A&&9===n.nodeType&&n.documentElement?(A=n,j=A.documentElement,N=!w(A),H!==A&&(i=A.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",St,!1):i.attachEvent&&i.attachEvent("onunload",St)),_.attributes=o(function(t){return t.className="i",!t.getAttribute("className")}),_.getElementsByTagName=o(function(t){return t.appendChild(A.createComment("")),!t.getElementsByTagName("*").length}),_.getElementsByClassName=gt.test(A.getElementsByClassName),_.getById=o(function(t){return j.appendChild(t).id=F,!A.getElementsByName||!A.getElementsByName(F).length}),_.getById?(S.filter.ID=function(t){var e=t.replace(bt,Ot);return function(t){return t.getAttribute("id")===e}},S.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&N){var i=e.getElementById(t);return i?[i]:[]}}):(S.filter.ID=function(t){var e=t.replace(bt,Ot);return function(t){var i="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return i&&i.value===e}},S.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&N){var i,n,o,s=e.getElementById(t);if(s){if(i=s.getAttributeNode("id"),i&&i.value===t)return[s];for(o=e.getElementsByName(t),n=0;s=o[n++];)if(i=s.getAttributeNode("id"),i&&i.value===t)return[s]}return[]}}),S.find.TAG=_.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):_.qsa?e.querySelectorAll(t):void 0}:function(t,e){var i,n=[],o=0,s=e.getElementsByTagName(t);if("*"===t){for(;i=s[o++];)1===i.nodeType&&n.push(i);return n}return s},S.find.CLASS=_.getElementsByClassName&&function(t,e){if("undefined"!=typeof e.getElementsByClassName&&N)return e.getElementsByClassName(t)},q=[],R=[],(_.qsa=gt.test(A.querySelectorAll))&&(o(function(t){j.appendChild(t).innerHTML="<a id='"+F+"'></a><select id='"+F+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&R.push("[*^$]="+it+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||R.push("\\["+it+"*(?:value|"+et+")"),t.querySelectorAll("[id~="+F+"-]").length||R.push("~="),t.querySelectorAll(":checked").length||R.push(":checked"),t.querySelectorAll("a#"+F+"+*").length||R.push(".#.+[+~]")}),o(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=A.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&R.push("name"+it+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&R.push(":enabled",":disabled"),j.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&R.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),R.push(",.*:")})),(_.matchesSelector=gt.test(P=j.matches||j.webkitMatchesSelector||j.mozMatchesSelector||j.oMatchesSelector||j.msMatchesSelector))&&o(function(t){_.disconnectedMatch=P.call(t,"*"),P.call(t,"[s!='']:x"),q.push("!=",st)}),R=R.length&&new RegExp(R.join("|")),q=q.length&&new RegExp(q.join("|")),e=gt.test(j.compareDocumentPosition),B=e||gt.test(j.contains)?function(t,e){var i=9===t.nodeType?t.documentElement:t,n=e&&e.parentNode;return t===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):t.compareDocumentPosition&&16&t.compareDocumentPosition(n)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},V=e?function(t,e){if(t===e)return T=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i?i:(i=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&i||!_.sortDetached&&e.compareDocumentPosition(t)===i?t===A||t.ownerDocument===H&&B(H,t)?-1:e===A||e.ownerDocument===H&&B(H,e)?1:L?tt(L,t)-tt(L,e):0:4&i?-1:1)}:function(t,e){if(t===e)return T=!0,0;var i,n=0,o=t.parentNode,s=e.parentNode,a=[t],c=[e];if(!o||!s)return t===A?-1:e===A?1:o?-1:s?1:L?tt(L,t)-tt(L,e):0;if(o===s)return r(t,e);for(i=t;i=i.parentNode;)a.unshift(i);for(i=e;i=i.parentNode;)c.unshift(i);for(;a[n]===c[n];)n++;return n?r(a[n],c[n]):a[n]===H?-1:c[n]===H?1:0},A):A},e.matches=function(t,i){return e(t,null,null,i)},e.matchesSelector=function(t,i){if((t.ownerDocument||t)!==A&&D(t),i=i.replace(ut,"='$1']"),_.matchesSelector&&N&&!G[i+" "]&&(!q||!q.test(i))&&(!R||!R.test(i)))try{var n=P.call(t,i);if(n||_.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(o){}return e(i,A,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==A&&D(t),B(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==A&&D(t);var i=S.attrHandle[e.toLowerCase()],n=i&&$.call(S.attrHandle,e.toLowerCase())?i(t,e,!N):void 0;return void 0!==n?n:_.attributes||!N?t.getAttribute(e):(n=t.getAttributeNode(e))&&n.specified?n.value:null},e.escape=function(t){return(t+"").replace(It,_t)},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,i=[],n=0,o=0;if(T=!_.detectDuplicates,L=!_.sortStable&&t.slice(0),t.sort(V),T){for(;e=t[o++];)e===t[o]&&(n=i.push(o));for(;n--;)t.splice(i[n],1)}return L=null,t},C=e.getText=function(t){var e,i="",n=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)i+=C(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[n++];)i+=C(e);return i},S=e.selectors={cacheLength:50,createPseudo:n,match:ft,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(bt,Ot),t[3]=(t[3]||t[4]||t[5]||"").replace(bt,Ot),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,i=!t[6]&&t[2];return ft.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":i&&dt.test(i)&&(e=M(i,!0))&&(e=i.indexOf(")",i.length-e)-i.length)&&(t[0]=t[0].slice(0,e),t[2]=i.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(bt,Ot).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=U[t+" "];return e||(e=new RegExp("(^|"+it+")"+t+"("+it+"|$)"))&&U(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,i,n){return function(o){var s=e.attr(o,t);return null==s?"!="===i:!i||(s+="","="===i?s===n:"!="===i?s!==n:"^="===i?n&&0===s.indexOf(n):"*="===i?n&&s.indexOf(n)>-1:"$="===i?n&&s.slice(-n.length)===n:"~="===i?(" "+s.replace(rt," ")+" ").indexOf(n)>-1:"|="===i&&(s===n||s.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,i,n,o){var s="nth"!==t.slice(0,3),r="last"!==t.slice(-4),a="of-type"===e;return 1===n&&0===o?function(t){return!!t.parentNode}:function(e,i,c){var l,u,d,h,f,p,m=s!==r?"nextSibling":"previousSibling",g=e.parentNode,y=a&&e.nodeName.toLowerCase(),v=!c&&!a,b=!1;if(g){if(s){for(;m;){for(h=e;h=h[m];)if(a?h.nodeName.toLowerCase()===y:1===h.nodeType)return!1;p=m="only"===t&&!p&&"nextSibling"}return!0}if(p=[r?g.firstChild:g.lastChild],r&&v){for(h=g,d=h[F]||(h[F]={}),u=d[h.uniqueID]||(d[h.uniqueID]={}),l=u[t]||[],f=l[0]===Y&&l[1],b=f&&l[2],h=f&&g.childNodes[f];h=++f&&h&&h[m]||(b=f=0)||p.pop();)if(1===h.nodeType&&++b&&h===e){u[t]=[Y,f,b];break}}else if(v&&(h=e,d=h[F]||(h[F]={}),u=d[h.uniqueID]||(d[h.uniqueID]={}),l=u[t]||[],f=l[0]===Y&&l[1],b=f),b===!1)for(;(h=++f&&h&&h[m]||(b=f=0)||p.pop())&&((a?h.nodeName.toLowerCase()!==y:1!==h.nodeType)||!++b||(v&&(d=h[F]||(h[F]={}),u=d[h.uniqueID]||(d[h.uniqueID]={}),u[t]=[Y,b]),h!==e)););return b-=o,b===n||b%n===0&&b/n>=0}}},PSEUDO:function(t,i){var o,s=S.pseudos[t]||S.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return s[F]?s(i):s.length>1?(o=[t,t,"",i],S.setFilters.hasOwnProperty(t.toLowerCase())?n(function(t,e){for(var n,o=s(t,i),r=o.length;r--;)n=tt(t,o[r]),t[n]=!(e[n]=o[r])}):function(t){return s(t,0,o)}):s}},pseudos:{not:n(function(t){var e=[],i=[],o=E(t.replace(at,"$1"));return o[F]?n(function(t,e,i,n){for(var s,r=o(t,null,n,[]),a=t.length;a--;)(s=r[a])&&(t[a]=!(e[a]=s))}):function(t,n,s){return e[0]=t,o(e,null,s,i),e[0]=null,!i.pop()}}),has:n(function(t){return function(i){return e(t,i).length>0}}),contains:n(function(t){return t=t.replace(bt,Ot),function(e){return(e.textContent||e.innerText||C(e)).indexOf(t)>-1}}),lang:n(function(t){return ht.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(bt,Ot).toLowerCase(),function(e){var i;do if(i=N?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return i=i.toLowerCase(),i===t||0===i.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var i=t.location&&t.location.hash;return i&&i.slice(1)===e.id},root:function(t){return t===j},focus:function(t){return t===A.activeElement&&(!A.hasFocus||A.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:l(!1),disabled:l(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!S.pseudos.empty(t)},header:function(t){return mt.test(t.nodeName)},input:function(t){return pt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:u(function(){return[0]}),last:u(function(t,e){return[e-1]}),eq:u(function(t,e,i){return[i<0?i+e:i]}),even:u(function(t,e){for(var i=0;i<e;i+=2)t.push(i);return t}),odd:u(function(t,e){for(var i=1;i<e;i+=2)t.push(i);return t}),lt:u(function(t,e,i){for(var n=i<0?i+e:i;--n>=0;)t.push(n);return t}),gt:u(function(t,e,i){for(var n=i<0?i+e:i;++n<e;)t.push(n);return t})}},S.pseudos.nth=S.pseudos.eq;for(I in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})S.pseudos[I]=a(I);for(I in{submit:!0,reset:!0})S.pseudos[I]=c(I);return h.prototype=S.filters=S.pseudos,S.setFilters=new h,M=e.tokenize=function(t,i){var n,o,s,r,a,c,l,u=z[t+" "];if(u)return i?0:u.slice(0);for(a=t,c=[],l=S.preFilter;a;){n&&!(o=ct.exec(a))||(o&&(a=a.slice(o[0].length)||a),c.push(s=[])),n=!1,(o=lt.exec(a))&&(n=o.shift(),s.push({value:n,type:o[0].replace(at," ")}),a=a.slice(n.length));for(r in S.filter)!(o=ft[r].exec(a))||l[r]&&!(o=l[r](o))||(n=o.shift(),s.push({value:n,type:r,matches:o}),a=a.slice(n.length));if(!n)break}return i?a.length:a?e.error(t):z(t,c).slice(0)},E=e.compile=function(t,e){var i,n=[],o=[],s=G[t+" "];if(!s){for(e||(e=M(t)),i=e.length;i--;)s=b(e[i]),s[F]?n.push(s):o.push(s);s=G(t,O(o,n)),s.selector=t}return s},x=e.select=function(t,e,i,n){var o,s,r,a,c,l="function"==typeof t&&t,u=!n&&M(t=l.selector||t);if(i=i||[],1===u.length){if(s=u[0]=u[0].slice(0),s.length>2&&"ID"===(r=s[0]).type&&9===e.nodeType&&N&&S.relative[s[1].type]){if(e=(S.find.ID(r.matches[0].replace(bt,Ot),e)||[])[0],!e)return i;l&&(e=e.parentNode),t=t.slice(s.shift().value.length)}for(o=ft.needsContext.test(t)?0:s.length;o--&&(r=s[o],!S.relative[a=r.type]);)if((c=S.find[a])&&(n=c(r.matches[0].replace(bt,Ot),vt.test(s[0].type)&&d(e.parentNode)||e))){if(s.splice(o,1),t=n.length&&f(s),!t)return Z.apply(i,n),i;break}}return(l||E(t,u))(n,e,!N,i,!e||vt.test(t)&&d(e.parentNode)||e),i},_.sortStable=F.split("").sort(V).join("")===F,_.detectDuplicates=!!T,D(),_.sortDetached=o(function(t){return 1&t.compareDocumentPosition(A.createElement("fieldset"))}),o(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||s("type|href|height|width",function(t,e,i){if(!i)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),_.attributes&&o(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||s("value",function(t,e,i){if(!i&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),o(function(t){return null==t.getAttribute("disabled")})||s(et,function(t,e,i){var n;if(!i)return t[e]===!0?e.toLowerCase():(n=t.getAttributeNode(e))&&n.specified?n.value:null}),e}(t);_t.find=Ct,_t.expr=Ct.selectors,_t.expr[":"]=_t.expr.pseudos,_t.uniqueSort=_t.unique=Ct.uniqueSort,_t.text=Ct.getText,_t.isXMLDoc=Ct.isXML,_t.contains=Ct.contains,_t.escapeSelector=Ct.escape;var wt=function(t,e,i){for(var n=[],o=void 0!==i;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(o&&_t(t).is(i))break;n.push(t)}return n},Mt=function(t,e){for(var i=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&i.push(t);return i},Et=_t.expr.match.needsContext,xt=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;_t.filter=function(t,e,i){var n=e[0];return i&&(t=":not("+t+")"),1===e.length&&1===n.nodeType?_t.find.matchesSelector(n,t)?[n]:[]:_t.find.matches(t,_t.grep(e,function(t){return 1===t.nodeType}))},_t.fn.extend({find:function(t){var e,i,n=this.length,o=this;if("string"!=typeof t)return this.pushStack(_t(t).filter(function(){for(e=0;e<n;e++)if(_t.contains(o[e],this))return!0}));for(i=this.pushStack([]),e=0;e<n;e++)_t.find(t,o[e],i);return n>1?_t.uniqueSort(i):i},filter:function(t){return this.pushStack(r(this,t||[],!1))},not:function(t){return this.pushStack(r(this,t||[],!0))},is:function(t){return!!r(this,"string"==typeof t&&Et.test(t)?_t(t):t||[],!1).length}});var kt,Lt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Tt=_t.fn.init=function(t,e,i){var n,o;if(!t)return this;if(i=i||kt,"string"==typeof t){if(n="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:Lt.exec(t),!n||!n[1]&&e)return!e||e.jquery?(e||i).find(t):this.constructor(e).find(t);if(n[1]){if(e=e instanceof _t?e[0]:e,_t.merge(this,_t.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:rt,!0)),xt.test(n[1])&&_t.isPlainObject(e))for(n in e)vt(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}return o=rt.getElementById(n[2]),o&&(this[0]=o,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):vt(t)?void 0!==i.ready?i.ready(t):t(_t):_t.makeArray(t,this)};Tt.prototype=_t.fn,kt=_t(rt);var Dt=/^(?:parents|prev(?:Until|All))/,At={children:!0,contents:!0,next:!0,prev:!0};_t.fn.extend({has:function(t){var e=_t(t,this),i=e.length;return this.filter(function(){for(var t=0;t<i;t++)if(_t.contains(this,e[t]))return!0})},closest:function(t,e){var i,n=0,o=this.length,s=[],r="string"!=typeof t&&_t(t);if(!Et.test(t))for(;n<o;n++)for(i=this[n];i&&i!==e;i=i.parentNode)if(i.nodeType<11&&(r?r.index(i)>-1:1===i.nodeType&&_t.find.matchesSelector(i,t))){s.push(i);break}return this.pushStack(s.length>1?_t.uniqueSort(s):s)},index:function(t){return t?"string"==typeof t?dt.call(_t(t),this[0]):dt.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(_t.uniqueSort(_t.merge(this.get(),_t(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),_t.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return wt(t,"parentNode")},parentsUntil:function(t,e,i){return wt(t,"parentNode",i)},next:function(t){return a(t,"nextSibling")},prev:function(t){return a(t,"previousSibling")},nextAll:function(t){return wt(t,"nextSibling")},prevAll:function(t){return wt(t,"previousSibling")},nextUntil:function(t,e,i){return wt(t,"nextSibling",i)},prevUntil:function(t,e,i){return wt(t,"previousSibling",i)},siblings:function(t){return Mt((t.parentNode||{}).firstChild,t)},children:function(t){return Mt(t.firstChild)},contents:function(t){return s(t,"iframe")?t.contentDocument:(s(t,"template")&&(t=t.content||t),_t.merge([],t.childNodes))}},function(t,e){_t.fn[t]=function(i,n){var o=_t.map(this,e,i);return"Until"!==t.slice(-5)&&(n=i),n&&"string"==typeof n&&(o=_t.filter(n,o)),this.length>1&&(At[t]||_t.uniqueSort(o),Dt.test(t)&&o.reverse()),this.pushStack(o)}});var jt=/[^\x20\t\r\n\f]+/g;_t.Callbacks=function(t){t="string"==typeof t?c(t):_t.extend({},t);var e,i,o,s,r=[],a=[],l=-1,u=function(){for(s=s||t.once,o=e=!0;a.length;l=-1)for(i=a.shift();++l<r.length;)r[l].apply(i[0],i[1])===!1&&t.stopOnFalse&&(l=r.length,i=!1);t.memory||(i=!1),e=!1,s&&(r=i?[]:"")},d={add:function(){return r&&(i&&!e&&(l=r.length-1,a.push(i)),function o(e){_t.each(e,function(e,i){vt(i)?t.unique&&d.has(i)||r.push(i):i&&i.length&&"string"!==n(i)&&o(i)})}(arguments),i&&!e&&u()),this},remove:function(){return _t.each(arguments,function(t,e){for(var i;(i=_t.inArray(e,r,i))>-1;)r.splice(i,1),i<=l&&l--}),this},has:function(t){return t?_t.inArray(t,r)>-1:r.length>0},empty:function(){return r&&(r=[]),this},disable:function(){return s=a=[],r=i="",this},disabled:function(){return!r},lock:function(){return s=a=[],i||e||(r=i=""),this},locked:function(){return!!s},fireWith:function(t,i){return s||(i=i||[],i=[t,i.slice?i.slice():i],a.push(i),e||u()),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!o}};return d},_t.extend({Deferred:function(e){var i=[["notify","progress",_t.Callbacks("memory"),_t.Callbacks("memory"),2],["resolve","done",_t.Callbacks("once memory"),_t.Callbacks("once memory"),0,"resolved"],["reject","fail",_t.Callbacks("once memory"),_t.Callbacks("once memory"),1,"rejected"]],n="pending",o={state:function(){return n},always:function(){return s.done(arguments).fail(arguments),this},"catch":function(t){return o.then(null,t)},pipe:function(){var t=arguments;return _t.Deferred(function(e){_t.each(i,function(i,n){var o=vt(t[n[4]])&&t[n[4]];s[n[1]](function(){var t=o&&o.apply(this,arguments);t&&vt(t.promise)?t.promise().progress(e.notify).done(e.resolve).fail(e.reject):e[n[0]+"With"](this,o?[t]:arguments)})}),t=null}).promise()},then:function(e,n,o){function s(e,i,n,o){return function(){var a=this,c=arguments,d=function(){var t,d;if(!(e<r)){if(t=n.apply(a,c),t===i.promise())throw new TypeError("Thenable self-resolution");d=t&&("object"==typeof t||"function"==typeof t)&&t.then,vt(d)?o?d.call(t,s(r,i,l,o),s(r,i,u,o)):(r++,d.call(t,s(r,i,l,o),s(r,i,u,o),s(r,i,l,i.notifyWith))):(n!==l&&(a=void 0,c=[t]),(o||i.resolveWith)(a,c))}},h=o?d:function(){try{d()}catch(t){_t.Deferred.exceptionHook&&_t.Deferred.exceptionHook(t,h.stackTrace),e+1>=r&&(n!==u&&(a=void 0,c=[t]),i.rejectWith(a,c))}};e?h():(_t.Deferred.getStackHook&&(h.stackTrace=_t.Deferred.getStackHook()),t.setTimeout(h))}}var r=0;return _t.Deferred(function(t){i[0][3].add(s(0,t,vt(o)?o:l,t.notifyWith)),i[1][3].add(s(0,t,vt(e)?e:l)),i[2][3].add(s(0,t,vt(n)?n:u))}).promise()},promise:function(t){return null!=t?_t.extend(t,o):o}},s={};return _t.each(i,function(t,e){var r=e[2],a=e[5];o[e[1]]=r.add,a&&r.add(function(){n=a},i[3-t][2].disable,i[3-t][3].disable,i[0][2].lock,i[0][3].lock),r.add(e[3].fire),s[e[0]]=function(){return s[e[0]+"With"](this===s?void 0:this,arguments),this},s[e[0]+"With"]=r.fireWith}),o.promise(s),e&&e.call(s,s),s},when:function(t){var e=arguments.length,i=e,n=Array(i),o=ct.call(arguments),s=_t.Deferred(),r=function(t){return function(i){n[t]=this,o[t]=arguments.length>1?ct.call(arguments):i,--e||s.resolveWith(n,o)}};if(e<=1&&(d(t,s.done(r(i)).resolve,s.reject,!e),"pending"===s.state()||vt(o[i]&&o[i].then)))return s.then();for(;i--;)d(o[i],r(i),s.reject);return s.promise()}});var Nt=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;_t.Deferred.exceptionHook=function(e,i){t.console&&t.console.warn&&e&&Nt.test(e.name)&&t.console.warn("jQuery.Deferred exception: "+e.message,e.stack,i)},_t.readyException=function(e){t.setTimeout(function(){throw e})};var Rt=_t.Deferred();_t.fn.ready=function(t){return Rt.then(t)["catch"](function(t){_t.readyException(t)}),this},_t.extend({isReady:!1,readyWait:1,ready:function(t){(t===!0?--_t.readyWait:_t.isReady)||(_t.isReady=!0,t!==!0&&--_t.readyWait>0||Rt.resolveWith(rt,[_t]))}}),_t.ready.then=Rt.then,"complete"===rt.readyState||"loading"!==rt.readyState&&!rt.documentElement.doScroll?t.setTimeout(_t.ready):(rt.addEventListener("DOMContentLoaded",h),t.addEventListener("load",h));var qt=function(t,e,i,o,s,r,a){var c=0,l=t.length,u=null==i;if("object"===n(i)){s=!0;for(c in i)qt(t,e,c,i[c],!0,r,a)}else if(void 0!==o&&(s=!0,vt(o)||(a=!0),u&&(a?(e.call(t,o),e=null):(u=e,e=function(t,e,i){return u.call(_t(t),i)})),e))for(;c<l;c++)e(t[c],i,a?o:o.call(t[c],c,e(t[c],i)));return s?t:u?e.call(t):l?e(t[0],i):r},Pt=/^-ms-/,Bt=/-([a-z])/g,Ft=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};m.uid=1,m.prototype={cache:function(t){var e=t[this.expando];return e||(e={},Ft(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,i){var n,o=this.cache(t);if("string"==typeof e)o[p(e)]=i;else for(n in e)o[p(n)]=e[n];return o},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][p(e)]},access:function(t,e,i){return void 0===e||e&&"string"==typeof e&&void 0===i?this.get(t,e):(this.set(t,e,i),void 0!==i?i:e)},remove:function(t,e){var i,n=t[this.expando];if(void 0!==n){if(void 0!==e){Array.isArray(e)?e=e.map(p):(e=p(e),e=e in n?[e]:e.match(jt)||[]),i=e.length;for(;i--;)delete n[e[i]]}(void 0===e||_t.isEmptyObject(n))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!_t.isEmptyObject(e)}};var Ht=new m,Yt=new m,Wt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ut=/[A-Z]/g;_t.extend({hasData:function(t){return Yt.hasData(t)||Ht.hasData(t)},data:function(t,e,i){return Yt.access(t,e,i)},removeData:function(t,e){Yt.remove(t,e)},_data:function(t,e,i){return Ht.access(t,e,i)},_removeData:function(t,e){Ht.remove(t,e)}}),_t.fn.extend({data:function(t,e){var i,n,o,s=this[0],r=s&&s.attributes;if(void 0===t){if(this.length&&(o=Yt.get(s),1===s.nodeType&&!Ht.get(s,"hasDataAttrs"))){for(i=r.length;i--;)r[i]&&(n=r[i].name,0===n.indexOf("data-")&&(n=p(n.slice(5)),y(s,n,o[n])));Ht.set(s,"hasDataAttrs",!0)}return o}return"object"==typeof t?this.each(function(){Yt.set(this,t)}):qt(this,function(e){var i;if(s&&void 0===e){if(i=Yt.get(s,t),void 0!==i)return i;if(i=y(s,t),void 0!==i)return i}else this.each(function(){Yt.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){Yt.remove(this,t)})}}),_t.extend({queue:function(t,e,i){var n;if(t)return e=(e||"fx")+"queue",n=Ht.get(t,e),i&&(!n||Array.isArray(i)?n=Ht.access(t,e,_t.makeArray(i)):n.push(i)),n||[]},dequeue:function(t,e){e=e||"fx";var i=_t.queue(t,e),n=i.length,o=i.shift(),s=_t._queueHooks(t,e),r=function(){_t.dequeue(t,e)};"inprogress"===o&&(o=i.shift(),n--),o&&("fx"===e&&i.unshift("inprogress"),delete s.stop,o.call(t,r,s)),!n&&s&&s.empty.fire()},_queueHooks:function(t,e){var i=e+"queueHooks";return Ht.get(t,i)||Ht.access(t,i,{empty:_t.Callbacks("once memory").add(function(){Ht.remove(t,[e+"queue",i])})})}}),_t.fn.extend({queue:function(t,e){var i=2;return"string"!=typeof t&&(e=t,t="fx",i--),arguments.length<i?_t.queue(this[0],t):void 0===e?this:this.each(function(){var i=_t.queue(this,t,e);_t._queueHooks(this,t),"fx"===t&&"inprogress"!==i[0]&&_t.dequeue(this,t)})},dequeue:function(t){return this.each(function(){_t.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var i,n=1,o=_t.Deferred(),s=this,r=this.length,a=function(){--n||o.resolveWith(s,[s])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";r--;)i=Ht.get(s[r],t+"queueHooks"),i&&i.empty&&(n++,i.empty.add(a));return a(),o.promise(e)}});var zt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Gt=new RegExp("^(?:([+-])=|)("+zt+")([a-z%]*)$","i"),Vt=["Top","Right","Bottom","Left"],$t=function(t,e){return t=e||t,"none"===t.style.display||""===t.style.display&&_t.contains(t.ownerDocument,t)&&"none"===_t.css(t,"display")},Jt=function(t,e,i,n){var o,s,r={};for(s in e)r[s]=t.style[s],t.style[s]=e[s];o=i.apply(t,n||[]);for(s in e)t.style[s]=r[s];return o},Xt={};_t.fn.extend({show:function(){return O(this,!0)},hide:function(){return O(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){$t(this)?_t(this).show():_t(this).hide()})}});var Kt=/^(?:checkbox|radio)$/i,Zt=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,Qt=/^$|^module$|\/(?:java|ecma)script/i,te={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};te.optgroup=te.option,te.tbody=te.tfoot=te.colgroup=te.caption=te.thead,te.th=te.td;var ee=/<|&#?\w+;/;!function(){var t=rt.createDocumentFragment(),e=t.appendChild(rt.createElement("div")),i=rt.createElement("input");i.setAttribute("type","radio"),i.setAttribute("checked","checked"),i.setAttribute("name","t"),e.appendChild(i),yt.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",yt.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var ie=rt.documentElement,ne=/^key/,oe=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,se=/^([^.]*)(?:\.(.+)|)/;_t.event={global:{},add:function(t,e,i,n,o){var s,r,a,c,l,u,d,h,f,p,m,g=Ht.get(t);if(g)for(i.handler&&(s=i,i=s.handler,o=s.selector),o&&_t.find.matchesSelector(ie,o),i.guid||(i.guid=_t.guid++),(c=g.events)||(c=g.events={}),(r=g.handle)||(r=g.handle=function(e){return"undefined"!=typeof _t&&_t.event.triggered!==e.type?_t.event.dispatch.apply(t,arguments):void 0}),e=(e||"").match(jt)||[""],l=e.length;l--;)a=se.exec(e[l])||[],f=m=a[1],p=(a[2]||"").split(".").sort(),f&&(d=_t.event.special[f]||{},f=(o?d.delegateType:d.bindType)||f,d=_t.event.special[f]||{},u=_t.extend({type:f,origType:m,data:n,handler:i,guid:i.guid,selector:o,needsContext:o&&_t.expr.match.needsContext.test(o),namespace:p.join(".")},s),(h=c[f])||(h=c[f]=[],h.delegateCount=0,d.setup&&d.setup.call(t,n,p,r)!==!1||t.addEventListener&&t.addEventListener(f,r)),d.add&&(d.add.call(t,u),u.handler.guid||(u.handler.guid=i.guid)),o?h.splice(h.delegateCount++,0,u):h.push(u),_t.event.global[f]=!0)},remove:function(t,e,i,n,o){var s,r,a,c,l,u,d,h,f,p,m,g=Ht.hasData(t)&&Ht.get(t);if(g&&(c=g.events)){for(e=(e||"").match(jt)||[""],l=e.length;l--;)if(a=se.exec(e[l])||[],f=m=a[1],p=(a[2]||"").split(".").sort(),f){for(d=_t.event.special[f]||{},f=(n?d.delegateType:d.bindType)||f,h=c[f]||[],a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),r=s=h.length;s--;)u=h[s],!o&&m!==u.origType||i&&i.guid!==u.guid||a&&!a.test(u.namespace)||n&&n!==u.selector&&("**"!==n||!u.selector)||(h.splice(s,1),u.selector&&h.delegateCount--,d.remove&&d.remove.call(t,u));r&&!h.length&&(d.teardown&&d.teardown.call(t,p,g.handle)!==!1||_t.removeEvent(t,f,g.handle),delete c[f])}else for(f in c)_t.event.remove(t,f+e[l],i,n,!0);_t.isEmptyObject(c)&&Ht.remove(t,"handle events")}},dispatch:function(t){var e,i,n,o,s,r,a=_t.event.fix(t),c=new Array(arguments.length),l=(Ht.get(this,"events")||{})[a.type]||[],u=_t.event.special[a.type]||{};for(c[0]=a,e=1;e<arguments.length;e++)c[e]=arguments[e];if(a.delegateTarget=this,!u.preDispatch||u.preDispatch.call(this,a)!==!1){for(r=_t.event.handlers.call(this,a,l),e=0;(o=r[e++])&&!a.isPropagationStopped();)for(a.currentTarget=o.elem,i=0;(s=o.handlers[i++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!a.rnamespace.test(s.namespace)||(a.handleObj=s,a.data=s.data,n=((_t.event.special[s.origType]||{}).handle||s.handler).apply(o.elem,c),void 0!==n&&(a.result=n)===!1&&(a.preventDefault(),a.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,a),a.result}},handlers:function(t,e){var i,n,o,s,r,a=[],c=e.delegateCount,l=t.target;if(c&&l.nodeType&&!("click"===t.type&&t.button>=1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==t.type||l.disabled!==!0)){for(s=[],r={},i=0;i<c;i++)n=e[i],o=n.selector+" ",void 0===r[o]&&(r[o]=n.needsContext?_t(o,this).index(l)>-1:_t.find(o,this,null,[l]).length),r[o]&&s.push(n);s.length&&a.push({elem:l,handlers:s})}return l=this,c<e.length&&a.push({elem:l,handlers:e.slice(c)}),a},addProp:function(t,e){Object.defineProperty(_t.Event.prototype,t,{enumerable:!0,configurable:!0,get:vt(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[_t.expando]?t:new _t.Event(t)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==M()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===M()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&s(this,"input"))return this.click(),!1},_default:function(t){return s(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},_t.removeEvent=function(t,e,i){t.removeEventListener&&t.removeEventListener(e,i)},_t.Event=function(t,e){return this instanceof _t.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&t.returnValue===!1?C:w,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&_t.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),void(this[_t.expando]=!0)):new _t.Event(t,e)},_t.Event.prototype={constructor:_t.Event,isDefaultPrevented:w,isPropagationStopped:w,isImmediatePropagationStopped:w,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=C,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=C,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=C,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},_t.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&ne.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&oe.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},_t.event.addProp),_t.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){_t.event.special[t]={delegateType:e,bindType:e,handle:function(t){var i,n=this,o=t.relatedTarget,s=t.handleObj;return o&&(o===n||_t.contains(n,o))||(t.type=s.origType,i=s.handler.apply(this,arguments),t.type=e),i}}}),_t.fn.extend({on:function(t,e,i,n){return E(this,t,e,i,n)},one:function(t,e,i,n){return E(this,t,e,i,n,1)},off:function(t,e,i){var n,o;if(t&&t.preventDefault&&t.handleObj)return n=t.handleObj,_t(t.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof t){for(o in t)this.off(o,e,t[o]);return this}return e!==!1&&"function"!=typeof e||(i=e,e=void 0),i===!1&&(i=w),this.each(function(){_t.event.remove(this,t,i,e)})}});var re=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,ae=/<script|<style|<link/i,ce=/checked\s*(?:[^=]|=\s*.checked.)/i,le=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;_t.extend({htmlPrefilter:function(t){return t.replace(re,"<$1></$2>")},clone:function(t,e,i){var n,o,s,r,a=t.cloneNode(!0),c=_t.contains(t.ownerDocument,t);if(!(yt.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||_t.isXMLDoc(t)))for(r=I(a),s=I(t),n=0,o=s.length;n<o;n++)D(s[n],r[n]);if(e)if(i)for(s=s||I(t),r=r||I(a),n=0,o=s.length;n<o;n++)T(s[n],r[n]);else T(t,a);return r=I(a,"script"),r.length>0&&_(r,!c&&I(t,"script")),a},cleanData:function(t){for(var e,i,n,o=_t.event.special,s=0;void 0!==(i=t[s]);s++)if(Ft(i)){if(e=i[Ht.expando]){if(e.events)for(n in e.events)o[n]?_t.event.remove(i,n):_t.removeEvent(i,n,e.handle);i[Ht.expando]=void 0}i[Yt.expando]&&(i[Yt.expando]=void 0)}}}),_t.fn.extend({detach:function(t){return j(this,t,!0)},remove:function(t){return j(this,t)},text:function(t){return qt(this,function(t){return void 0===t?_t.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return A(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=x(this,t);e.appendChild(t)}})},prepend:function(){return A(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=x(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return A(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return A(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(_t.cleanData(I(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return _t.clone(this,t,e)})},html:function(t){return qt(this,function(t){var e=this[0]||{},i=0,n=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!ae.test(t)&&!te[(Zt.exec(t)||["",""])[1].toLowerCase()]){t=_t.htmlPrefilter(t);try{for(;i<n;i++)e=this[i]||{},1===e.nodeType&&(_t.cleanData(I(e,!1)),e.innerHTML=t);e=0}catch(o){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return A(this,arguments,function(e){var i=this.parentNode;_t.inArray(this,t)<0&&(_t.cleanData(I(this)),i&&i.replaceChild(e,this))},t)}}),_t.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){_t.fn[t]=function(t){for(var i,n=[],o=_t(t),s=o.length-1,r=0;r<=s;r++)i=r===s?this:this.clone(!0),_t(o[r])[e](i),ut.apply(n,i.get());return this.pushStack(n)}});var ue=new RegExp("^("+zt+")(?!px)[a-z%]+$","i"),de=function(e){var i=e.ownerDocument.defaultView;return i&&i.opener||(i=t),i.getComputedStyle(e)},he=new RegExp(Vt.join("|"),"i");!function(){function e(){if(l){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",l.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ie.appendChild(c).appendChild(l);var e=t.getComputedStyle(l);n="1%"!==e.top,a=12===i(e.marginLeft),l.style.right="60%",r=36===i(e.right),o=36===i(e.width),l.style.position="absolute",s=36===l.offsetWidth||"absolute",ie.removeChild(c),l=null}}function i(t){return Math.round(parseFloat(t))}var n,o,s,r,a,c=rt.createElement("div"),l=rt.createElement("div");l.style&&(l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",yt.clearCloneStyle="content-box"===l.style.backgroundClip,_t.extend(yt,{boxSizingReliable:function(){return e(),o},pixelBoxStyles:function(){return e(),r},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),a},scrollboxSize:function(){return e(),s}}))}();var fe=/^(none|table(?!-c[ea]).+)/,pe=/^--/,me={position:"absolute",visibility:"hidden",display:"block"},ge={letterSpacing:"0",fontWeight:"400"},ye=["Webkit","Moz","ms"],ve=rt.createElement("div").style;_t.extend({cssHooks:{opacity:{get:function(t,e){if(e){var i=N(t,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,i,n){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var o,s,r,a=p(e),c=pe.test(e),l=t.style;return c||(e=P(a)),r=_t.cssHooks[e]||_t.cssHooks[a],void 0===i?r&&"get"in r&&void 0!==(o=r.get(t,!1,n))?o:l[e]:(s=typeof i,"string"===s&&(o=Gt.exec(i))&&o[1]&&(i=v(t,e,o),s="number"),null!=i&&i===i&&("number"===s&&(i+=o&&o[3]||(_t.cssNumber[a]?"":"px")),yt.clearCloneStyle||""!==i||0!==e.indexOf("background")||(l[e]="inherit"),r&&"set"in r&&void 0===(i=r.set(t,i,n))||(c?l.setProperty(e,i):l[e]=i)),void 0)}},css:function(t,e,i,n){var o,s,r,a=p(e),c=pe.test(e);return c||(e=P(a)),r=_t.cssHooks[e]||_t.cssHooks[a],r&&"get"in r&&(o=r.get(t,!0,i)),void 0===o&&(o=N(t,e,n)),"normal"===o&&e in ge&&(o=ge[e]),""===i||i?(s=parseFloat(o),i===!0||isFinite(s)?s||0:o):o}}),_t.each(["height","width"],function(t,e){_t.cssHooks[e]={get:function(t,i,n){if(i)return!fe.test(_t.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?H(t,e,n):Jt(t,me,function(){return H(t,e,n)})},set:function(t,i,n){var o,s=de(t),r="border-box"===_t.css(t,"boxSizing",!1,s),a=n&&F(t,e,n,r,s);return r&&yt.scrollboxSize()===s.position&&(a-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(s[e])-F(t,e,"border",!1,s)-.5)),a&&(o=Gt.exec(i))&&"px"!==(o[3]||"px")&&(t.style[e]=i,i=_t.css(t,e)),B(t,i,a)}}}),_t.cssHooks.marginLeft=R(yt.reliableMarginLeft,function(t,e){if(e)return(parseFloat(N(t,"marginLeft"))||t.getBoundingClientRect().left-Jt(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),_t.each({margin:"",padding:"",border:"Width"},function(t,e){_t.cssHooks[t+e]={expand:function(i){for(var n=0,o={},s="string"==typeof i?i.split(" "):[i];n<4;n++)o[t+Vt[n]+e]=s[n]||s[n-2]||s[0];return o}},"margin"!==t&&(_t.cssHooks[t+e].set=B)}),_t.fn.extend({css:function(t,e){return qt(this,function(t,e,i){var n,o,s={},r=0;if(Array.isArray(e)){for(n=de(t),o=e.length;r<o;r++)s[e[r]]=_t.css(t,e[r],!1,n);return s}return void 0!==i?_t.style(t,e,i):_t.css(t,e)},t,e,arguments.length>1)}}),_t.Tween=Y,Y.prototype={constructor:Y,init:function(t,e,i,n,o,s){this.elem=t,this.prop=i,this.easing=o||_t.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=n,this.unit=s||(_t.cssNumber[i]?"":"px")},cur:function(){var t=Y.propHooks[this.prop];return t&&t.get?t.get(this):Y.propHooks._default.get(this)},run:function(t){var e,i=Y.propHooks[this.prop];return this.options.duration?this.pos=e=_t.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):Y.propHooks._default.set(this),this}},Y.prototype.init.prototype=Y.prototype,Y.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=_t.css(t.elem,t.prop,""),e&&"auto"!==e?e:0)},set:function(t){_t.fx.step[t.prop]?_t.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[_t.cssProps[t.prop]]&&!_t.cssHooks[t.prop]?t.elem[t.prop]=t.now:_t.style(t.elem,t.prop,t.now+t.unit)}}},Y.propHooks.scrollTop=Y.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},_t.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},_t.fx=Y.prototype.init,_t.fx.step={};var be,Oe,Ie=/^(?:toggle|show|hide)$/,_e=/queueHooks$/;_t.Animation=_t.extend(J,{tweeners:{"*":[function(t,e){var i=this.createTween(t,e);return v(i.elem,t,Gt.exec(e),i),i}]},tweener:function(t,e){vt(t)?(e=t,t=["*"]):t=t.match(jt);for(var i,n=0,o=t.length;n<o;n++)i=t[n],J.tweeners[i]=J.tweeners[i]||[],J.tweeners[i].unshift(e)},prefilters:[V],prefilter:function(t,e){e?J.prefilters.unshift(t):J.prefilters.push(t)}}),_t.speed=function(t,e,i){var n=t&&"object"==typeof t?_t.extend({},t):{complete:i||!i&&e||vt(t)&&t,duration:t,easing:i&&e||e&&!vt(e)&&e};return _t.fx.off?n.duration=0:"number"!=typeof n.duration&&(n.duration in _t.fx.speeds?n.duration=_t.fx.speeds[n.duration]:n.duration=_t.fx.speeds._default),null!=n.queue&&n.queue!==!0||(n.queue="fx"),n.old=n.complete,n.complete=function(){vt(n.old)&&n.old.call(this),n.queue&&_t.dequeue(this,n.queue)},n},_t.fn.extend({fadeTo:function(t,e,i,n){return this.filter($t).css("opacity",0).show().end().animate({opacity:e},t,i,n)},animate:function(t,e,i,n){var o=_t.isEmptyObject(t),s=_t.speed(e,i,n),r=function(){var e=J(this,_t.extend({},t),s);(o||Ht.get(this,"finish"))&&e.stop(!0)};return r.finish=r,o||s.queue===!1?this.each(r):this.queue(s.queue,r)},stop:function(t,e,i){var n=function(t){var e=t.stop;delete t.stop,e(i)};return"string"!=typeof t&&(i=e,e=t,t=void 0),e&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,o=null!=t&&t+"queueHooks",s=_t.timers,r=Ht.get(this);if(o)r[o]&&r[o].stop&&n(r[o]);else for(o in r)r[o]&&r[o].stop&&_e.test(o)&&n(r[o]);for(o=s.length;o--;)s[o].elem!==this||null!=t&&s[o].queue!==t||(s[o].anim.stop(i),e=!1,s.splice(o,1));!e&&i||_t.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,i=Ht.get(this),n=i[t+"queue"],o=i[t+"queueHooks"],s=_t.timers,r=n?n.length:0;for(i.finish=!0,_t.queue(this,t,[]),o&&o.stop&&o.stop.call(this,!0),e=s.length;e--;)s[e].elem===this&&s[e].queue===t&&(s[e].anim.stop(!0),s.splice(e,1));for(e=0;e<r;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete i.finish})}}),_t.each(["toggle","show","hide"],function(t,e){var i=_t.fn[e];_t.fn[e]=function(t,n,o){return null==t||"boolean"==typeof t?i.apply(this,arguments):this.animate(z(e,!0),t,n,o)}}),_t.each({slideDown:z("show"),slideUp:z("hide"),slideToggle:z("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){_t.fn[t]=function(t,i,n){return this.animate(e,t,i,n)}}),_t.timers=[],_t.fx.tick=function(){var t,e=0,i=_t.timers;for(be=Date.now();e<i.length;e++)t=i[e],t()||i[e]!==t||i.splice(e--,1);i.length||_t.fx.stop(),be=void 0},_t.fx.timer=function(t){_t.timers.push(t),_t.fx.start()},_t.fx.interval=13,_t.fx.start=function(){Oe||(Oe=!0,W())},_t.fx.stop=function(){Oe=null},_t.fx.speeds={slow:600,fast:200,_default:400},_t.fn.delay=function(e,i){return e=_t.fx?_t.fx.speeds[e]||e:e,i=i||"fx",this.queue(i,function(i,n){var o=t.setTimeout(i,e);n.stop=function(){t.clearTimeout(o)}})},function(){var t=rt.createElement("input"),e=rt.createElement("select"),i=e.appendChild(rt.createElement("option"));t.type="checkbox",yt.checkOn=""!==t.value,yt.optSelected=i.selected,t=rt.createElement("input"),t.value="t",t.type="radio",yt.radioValue="t"===t.value}();var Se,Ce=_t.expr.attrHandle;_t.fn.extend({attr:function(t,e){return qt(this,_t.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){_t.removeAttr(this,t)})}}),_t.extend({attr:function(t,e,i){var n,o,s=t.nodeType;if(3!==s&&8!==s&&2!==s)return"undefined"==typeof t.getAttribute?_t.prop(t,e,i):(1===s&&_t.isXMLDoc(t)||(o=_t.attrHooks[e.toLowerCase()]||(_t.expr.match.bool.test(e)?Se:void 0)),void 0!==i?null===i?void _t.removeAttr(t,e):o&&"set"in o&&void 0!==(n=o.set(t,i,e))?n:(t.setAttribute(e,i+""),i):o&&"get"in o&&null!==(n=o.get(t,e))?n:(n=_t.find.attr(t,e),null==n?void 0:n))},attrHooks:{type:{set:function(t,e){if(!yt.radioValue&&"radio"===e&&s(t,"input")){var i=t.value;return t.setAttribute("type",e),i&&(t.value=i),e}}}},removeAttr:function(t,e){var i,n=0,o=e&&e.match(jt);if(o&&1===t.nodeType)for(;i=o[n++];)t.removeAttribute(i)}}),Se={set:function(t,e,i){return e===!1?_t.removeAttr(t,i):t.setAttribute(i,i),i}},_t.each(_t.expr.match.bool.source.match(/\w+/g),function(t,e){var i=Ce[e]||_t.find.attr;Ce[e]=function(t,e,n){var o,s,r=e.toLowerCase();return n||(s=Ce[r],Ce[r]=o,o=null!=i(t,e,n)?r:null,Ce[r]=s),o}});var we=/^(?:input|select|textarea|button)$/i,Me=/^(?:a|area)$/i;_t.fn.extend({prop:function(t,e){return qt(this,_t.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[_t.propFix[t]||t]})}}),_t.extend({prop:function(t,e,i){var n,o,s=t.nodeType;if(3!==s&&8!==s&&2!==s)return 1===s&&_t.isXMLDoc(t)||(e=_t.propFix[e]||e,o=_t.propHooks[e]),void 0!==i?o&&"set"in o&&void 0!==(n=o.set(t,i,e))?n:t[e]=i:o&&"get"in o&&null!==(n=o.get(t,e))?n:t[e]},propHooks:{tabIndex:{get:function(t){var e=_t.find.attr(t,"tabindex");return e?parseInt(e,10):we.test(t.nodeName)||Me.test(t.nodeName)&&t.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),yt.optSelected||(_t.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),_t.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){_t.propFix[this.toLowerCase()]=this}),_t.fn.extend({addClass:function(t){var e,i,n,o,s,r,a,c=0;if(vt(t))return this.each(function(e){_t(this).addClass(t.call(this,e,K(this)))});if(e=Z(t),e.length)for(;i=this[c++];)if(o=K(i),n=1===i.nodeType&&" "+X(o)+" "){for(r=0;s=e[r++];)n.indexOf(" "+s+" ")<0&&(n+=s+" ");a=X(n),o!==a&&i.setAttribute("class",a)}return this},removeClass:function(t){var e,i,n,o,s,r,a,c=0;if(vt(t))return this.each(function(e){_t(this).removeClass(t.call(this,e,K(this)))});if(!arguments.length)return this.attr("class","");if(e=Z(t),e.length)for(;i=this[c++];)if(o=K(i),n=1===i.nodeType&&" "+X(o)+" "){for(r=0;s=e[r++];)for(;n.indexOf(" "+s+" ")>-1;)n=n.replace(" "+s+" "," ");a=X(n),o!==a&&i.setAttribute("class",a)}return this},toggleClass:function(t,e){var i=typeof t,n="string"===i||Array.isArray(t);return"boolean"==typeof e&&n?e?this.addClass(t):this.removeClass(t):vt(t)?this.each(function(i){_t(this).toggleClass(t.call(this,i,K(this),e),e)}):this.each(function(){var e,o,s,r;if(n)for(o=0,s=_t(this),r=Z(t);e=r[o++];)s.hasClass(e)?s.removeClass(e):s.addClass(e);else void 0!==t&&"boolean"!==i||(e=K(this),e&&Ht.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||t===!1?"":Ht.get(this,"__className__")||""))})},hasClass:function(t){var e,i,n=0;for(e=" "+t+" ";i=this[n++];)if(1===i.nodeType&&(" "+X(K(i))+" ").indexOf(e)>-1)return!0;return!1}});var Ee=/\r/g;_t.fn.extend({val:function(t){var e,i,n,o=this[0];{if(arguments.length)return n=vt(t),this.each(function(i){var o;1===this.nodeType&&(o=n?t.call(this,i,_t(this).val()):t,null==o?o="":"number"==typeof o?o+="":Array.isArray(o)&&(o=_t.map(o,function(t){return null==t?"":t+""})),e=_t.valHooks[this.type]||_t.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,o,"value")||(this.value=o))});if(o)return e=_t.valHooks[o.type]||_t.valHooks[o.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(i=e.get(o,"value"))?i:(i=o.value,"string"==typeof i?i.replace(Ee,""):null==i?"":i)}}}),_t.extend({valHooks:{option:{get:function(t){var e=_t.find.attr(t,"value");return null!=e?e:X(_t.text(t))}},select:{get:function(t){var e,i,n,o=t.options,r=t.selectedIndex,a="select-one"===t.type,c=a?null:[],l=a?r+1:o.length;for(n=r<0?l:a?r:0;n<l;n++)if(i=o[n],(i.selected||n===r)&&!i.disabled&&(!i.parentNode.disabled||!s(i.parentNode,"optgroup"))){if(e=_t(i).val(),a)return e;c.push(e)}return c},set:function(t,e){for(var i,n,o=t.options,s=_t.makeArray(e),r=o.length;r--;)n=o[r],(n.selected=_t.inArray(_t.valHooks.option.get(n),s)>-1)&&(i=!0);return i||(t.selectedIndex=-1),s}}}}),_t.each(["radio","checkbox"],function(){_t.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=_t.inArray(_t(t).val(),e)>-1}},yt.checkOn||(_t.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),yt.focusin="onfocusin"in t;var xe=/^(?:focusinfocus|focusoutblur)$/,ke=function(t){t.stopPropagation()};_t.extend(_t.event,{trigger:function(e,i,n,o){var s,r,a,c,l,u,d,h,f=[n||rt],p=pt.call(e,"type")?e.type:e,m=pt.call(e,"namespace")?e.namespace.split("."):[];if(r=h=a=n=n||rt,3!==n.nodeType&&8!==n.nodeType&&!xe.test(p+_t.event.triggered)&&(p.indexOf(".")>-1&&(m=p.split("."),p=m.shift(),m.sort()),l=p.indexOf(":")<0&&"on"+p,e=e[_t.expando]?e:new _t.Event(p,"object"==typeof e&&e),e.isTrigger=o?2:3,e.namespace=m.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),i=null==i?[e]:_t.makeArray(i,[e]),d=_t.event.special[p]||{},o||!d.trigger||d.trigger.apply(n,i)!==!1)){if(!o&&!d.noBubble&&!bt(n)){for(c=d.delegateType||p,xe.test(c+p)||(r=r.parentNode);r;r=r.parentNode)f.push(r),a=r;a===(n.ownerDocument||rt)&&f.push(a.defaultView||a.parentWindow||t)}for(s=0;(r=f[s++])&&!e.isPropagationStopped();)h=r,e.type=s>1?c:d.bindType||p,u=(Ht.get(r,"events")||{})[e.type]&&Ht.get(r,"handle"),u&&u.apply(r,i),u=l&&r[l],u&&u.apply&&Ft(r)&&(e.result=u.apply(r,i),e.result===!1&&e.preventDefault());return e.type=p,o||e.isDefaultPrevented()||d._default&&d._default.apply(f.pop(),i)!==!1||!Ft(n)||l&&vt(n[p])&&!bt(n)&&(a=n[l],a&&(n[l]=null),_t.event.triggered=p,e.isPropagationStopped()&&h.addEventListener(p,ke),n[p](),e.isPropagationStopped()&&h.removeEventListener(p,ke),_t.event.triggered=void 0,a&&(n[l]=a)),e.result}},simulate:function(t,e,i){var n=_t.extend(new _t.Event,i,{type:t,isSimulated:!0});_t.event.trigger(n,null,e)}}),_t.fn.extend({trigger:function(t,e){return this.each(function(){_t.event.trigger(t,e,this)})},triggerHandler:function(t,e){var i=this[0];if(i)return _t.event.trigger(t,e,i,!0)}}),yt.focusin||_t.each({focus:"focusin",blur:"focusout"},function(t,e){var i=function(t){_t.event.simulate(e,t.target,_t.event.fix(t))};_t.event.special[e]={setup:function(){var n=this.ownerDocument||this,o=Ht.access(n,e);o||n.addEventListener(t,i,!0),Ht.access(n,e,(o||0)+1)},teardown:function(){var n=this.ownerDocument||this,o=Ht.access(n,e)-1;o?Ht.access(n,e,o):(n.removeEventListener(t,i,!0),Ht.remove(n,e))}}});var Le=t.location,Te=Date.now(),De=/\?/;_t.parseXML=function(e){var i;if(!e||"string"!=typeof e)return null;try{i=(new t.DOMParser).parseFromString(e,"text/xml")}catch(n){i=void 0}return i&&!i.getElementsByTagName("parsererror").length||_t.error("Invalid XML: "+e),i};var Ae=/\[\]$/,je=/\r?\n/g,Ne=/^(?:submit|button|image|reset|file)$/i,Re=/^(?:input|select|textarea|keygen)/i;_t.param=function(t,e){var i,n=[],o=function(t,e){var i=vt(e)?e():e;n[n.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==i?"":i)};if(Array.isArray(t)||t.jquery&&!_t.isPlainObject(t))_t.each(t,function(){o(this.name,this.value)});else for(i in t)Q(i,t[i],e,o);return n.join("&")},_t.fn.extend({serialize:function(){return _t.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=_t.prop(this,"elements");return t?_t.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!_t(this).is(":disabled")&&Re.test(this.nodeName)&&!Ne.test(t)&&(this.checked||!Kt.test(t))}).map(function(t,e){var i=_t(this).val();return null==i?null:Array.isArray(i)?_t.map(i,function(t){return{name:e.name,value:t.replace(je,"\r\n")}}):{name:e.name,value:i.replace(je,"\r\n")}}).get()}});var qe=/%20/g,Pe=/#.*$/,Be=/([?&])_=[^&]*/,Fe=/^(.*?):[ \t]*([^\r\n]*)$/gm,He=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ye=/^(?:GET|HEAD)$/,We=/^\/\//,Ue={},ze={},Ge="*/".concat("*"),Ve=rt.createElement("a");Ve.href=Le.href,_t.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Le.href,type:"GET",isLocal:He.test(Le.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ge,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":_t.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?it(it(t,_t.ajaxSettings),e):it(_t.ajaxSettings,t)},ajaxPrefilter:tt(Ue),ajaxTransport:tt(ze),ajax:function(e,i){function n(e,i,n,a){var l,h,f,O,I,_=i;u||(u=!0,c&&t.clearTimeout(c),o=void 0,r=a||"",S.readyState=e>0?4:0,l=e>=200&&e<300||304===e,n&&(O=nt(p,S,n)),O=ot(p,O,S,l),l?(p.ifModified&&(I=S.getResponseHeader("Last-Modified"),I&&(_t.lastModified[s]=I),I=S.getResponseHeader("etag"),I&&(_t.etag[s]=I)),204===e||"HEAD"===p.type?_="nocontent":304===e?_="notmodified":(_=O.state,h=O.data,f=O.error,l=!f)):(f=_,!e&&_||(_="error",e<0&&(e=0))),S.status=e,S.statusText=(i||_)+"",l?y.resolveWith(m,[h,_,S]):y.rejectWith(m,[S,_,f]),S.statusCode(b),b=void 0,d&&g.trigger(l?"ajaxSuccess":"ajaxError",[S,p,l?h:f]),v.fireWith(m,[S,_]),d&&(g.trigger("ajaxComplete",[S,p]),--_t.active||_t.event.trigger("ajaxStop")))}"object"==typeof e&&(i=e,e=void 0),i=i||{};var o,s,r,a,c,l,u,d,h,f,p=_t.ajaxSetup({},i),m=p.context||p,g=p.context&&(m.nodeType||m.jquery)?_t(m):_t.event,y=_t.Deferred(),v=_t.Callbacks("once memory"),b=p.statusCode||{},O={},I={},_="canceled",S={readyState:0,getResponseHeader:function(t){var e;if(u){if(!a)for(a={};e=Fe.exec(r);)a[e[1].toLowerCase()]=e[2];e=a[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return u?r:null},setRequestHeader:function(t,e){return null==u&&(t=I[t.toLowerCase()]=I[t.toLowerCase()]||t,O[t]=e),this},overrideMimeType:function(t){return null==u&&(p.mimeType=t),this},statusCode:function(t){var e;if(t)if(u)S.always(t[S.status]);else for(e in t)b[e]=[b[e],t[e]];return this},abort:function(t){var e=t||_;return o&&o.abort(e),n(0,e),this}};if(y.promise(S),p.url=((e||p.url||Le.href)+"").replace(We,Le.protocol+"//"),p.type=i.method||i.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(jt)||[""],null==p.crossDomain){l=rt.createElement("a");try{l.href=p.url,l.href=l.href,p.crossDomain=Ve.protocol+"//"+Ve.host!=l.protocol+"//"+l.host}catch(C){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=_t.param(p.data,p.traditional)),et(Ue,p,i,S),u)return S;d=_t.event&&p.global,d&&0===_t.active++&&_t.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Ye.test(p.type),s=p.url.replace(Pe,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(qe,"+")):(f=p.url.slice(s.length),p.data&&(p.processData||"string"==typeof p.data)&&(s+=(De.test(s)?"&":"?")+p.data,delete p.data),p.cache===!1&&(s=s.replace(Be,"$1"),f=(De.test(s)?"&":"?")+"_="+Te++ +f),p.url=s+f),p.ifModified&&(_t.lastModified[s]&&S.setRequestHeader("If-Modified-Since",_t.lastModified[s]),_t.etag[s]&&S.setRequestHeader("If-None-Match",_t.etag[s])),(p.data&&p.hasContent&&p.contentType!==!1||i.contentType)&&S.setRequestHeader("Content-Type",p.contentType),S.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Ge+"; q=0.01":""):p.accepts["*"]);for(h in p.headers)S.setRequestHeader(h,p.headers[h]);if(p.beforeSend&&(p.beforeSend.call(m,S,p)===!1||u))return S.abort();if(_="abort",v.add(p.complete),S.done(p.success),S.fail(p.error),o=et(ze,p,i,S)){if(S.readyState=1,d&&g.trigger("ajaxSend",[S,p]),u)return S;p.async&&p.timeout>0&&(c=t.setTimeout(function(){S.abort("timeout")},p.timeout));try{u=!1,o.send(O,n)}catch(C){if(u)throw C;n(-1,C)}}else n(-1,"No Transport");return S},getJSON:function(t,e,i){return _t.get(t,e,i,"json")},getScript:function(t,e){return _t.get(t,void 0,e,"script")}}),_t.each(["get","post"],function(t,e){_t[e]=function(t,i,n,o){return vt(i)&&(o=o||n,n=i,i=void 0),_t.ajax(_t.extend({url:t,type:e,dataType:o,data:i,success:n},_t.isPlainObject(t)&&t))}}),_t._evalUrl=function(t){return _t.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})},_t.fn.extend({wrapAll:function(t){var e;return this[0]&&(vt(t)&&(t=t.call(this[0])),e=_t(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(t){return vt(t)?this.each(function(e){_t(this).wrapInner(t.call(this,e))}):this.each(function(){var e=_t(this),i=e.contents();i.length?i.wrapAll(t):e.append(t)})},wrap:function(t){var e=vt(t);return this.each(function(i){_t(this).wrapAll(e?t.call(this,i):t)})},unwrap:function(t){return this.parent(t).not("body").each(function(){_t(this).replaceWith(this.childNodes)}),this}}),_t.expr.pseudos.hidden=function(t){return!_t.expr.pseudos.visible(t)},_t.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},_t.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch(e){}};var $e={0:200,1223:204},Je=_t.ajaxSettings.xhr();yt.cors=!!Je&&"withCredentials"in Je,yt.ajax=Je=!!Je,_t.ajaxTransport(function(e){var i,n;if(yt.cors||Je&&!e.crossDomain)return{send:function(o,s){var r,a=e.xhr();if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(r in e.xhrFields)a[r]=e.xhrFields[r];e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest");for(r in o)a.setRequestHeader(r,o[r]);i=function(t){return function(){i&&(i=n=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,"abort"===t?a.abort():"error"===t?"number"!=typeof a.status?s(0,"error"):s(a.status,a.statusText):s($e[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=i(),n=a.onerror=a.ontimeout=i("error"),void 0!==a.onabort?a.onabort=n:a.onreadystatechange=function(){4===a.readyState&&t.setTimeout(function(){i&&n()})},i=i("abort");try{a.send(e.hasContent&&e.data||null)}catch(c){if(i)throw c}},abort:function(){i&&i()}}}),_t.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),_t.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return _t.globalEval(t),t}}}),_t.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),_t.ajaxTransport("script",function(t){if(t.crossDomain){var e,i;return{send:function(n,o){e=_t("<script>").prop({charset:t.scriptCharset,src:t.url}).on("load error",i=function(t){e.remove(),i=null,t&&o("error"===t.type?404:200,t.type)}),rt.head.appendChild(e[0])},abort:function(){i&&i()}}}});var Xe=[],Ke=/(=)\?(?=&|$)|\?\?/;_t.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Xe.pop()||_t.expando+"_"+Te++;return this[t]=!0,t}}),_t.ajaxPrefilter("json jsonp",function(e,i,n){var o,s,r,a=e.jsonp!==!1&&(Ke.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ke.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return o=e.jsonpCallback=vt(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Ke,"$1"+o):e.jsonp!==!1&&(e.url+=(De.test(e.url)?"&":"?")+e.jsonp+"="+o),e.converters["script json"]=function(){return r||_t.error(o+" was not called"),r[0]},e.dataTypes[0]="json",s=t[o],t[o]=function(){r=arguments},n.always(function(){void 0===s?_t(t).removeProp(o):t[o]=s,e[o]&&(e.jsonpCallback=i.jsonpCallback,Xe.push(o)),r&&vt(s)&&s(r[0]),r=s=void 0}),"script"}),yt.createHTMLDocument=function(){var t=rt.implementation.createHTMLDocument("").body;return t.innerHTML="<form></form><form></form>",2===t.childNodes.length}(),_t.parseHTML=function(t,e,i){if("string"!=typeof t)return[];"boolean"==typeof e&&(i=e,e=!1);var n,o,s;return e||(yt.createHTMLDocument?(e=rt.implementation.createHTMLDocument(""),n=e.createElement("base"),n.href=rt.location.href,e.head.appendChild(n)):e=rt),o=xt.exec(t),s=!i&&[],o?[e.createElement(o[1])]:(o=S([t],e,s),s&&s.length&&_t(s).remove(),_t.merge([],o.childNodes))},_t.fn.load=function(t,e,i){var n,o,s,r=this,a=t.indexOf(" ");return a>-1&&(n=X(t.slice(a)),t=t.slice(0,a)),vt(e)?(i=e,e=void 0):e&&"object"==typeof e&&(o="POST"),r.length>0&&_t.ajax({url:t,type:o||"GET",dataType:"html",data:e}).done(function(t){s=arguments,r.html(n?_t("<div>").append(_t.parseHTML(t)).find(n):t)}).always(i&&function(t,e){r.each(function(){i.apply(this,s||[t.responseText,e,t])})}),this},_t.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){_t.fn[e]=function(t){return this.on(e,t)}}),_t.expr.pseudos.animated=function(t){return _t.grep(_t.timers,function(e){return t===e.elem}).length},_t.offset={setOffset:function(t,e,i){var n,o,s,r,a,c,l,u=_t.css(t,"position"),d=_t(t),h={};"static"===u&&(t.style.position="relative"),a=d.offset(),s=_t.css(t,"top"),c=_t.css(t,"left"),l=("absolute"===u||"fixed"===u)&&(s+c).indexOf("auto")>-1,l?(n=d.position(),r=n.top,o=n.left):(r=parseFloat(s)||0,o=parseFloat(c)||0),vt(e)&&(e=e.call(t,i,_t.extend({},a))),null!=e.top&&(h.top=e.top-a.top+r),null!=e.left&&(h.left=e.left-a.left+o),"using"in e?e.using.call(t,h):d.css(h)}},_t.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){_t.offset.setOffset(this,t,e)});var e,i,n=this[0];if(n)return n.getClientRects().length?(e=n.getBoundingClientRect(),i=n.ownerDocument.defaultView,{top:e.top+i.pageYOffset,left:e.left+i.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var t,e,i,n=this[0],o={top:0,left:0};if("fixed"===_t.css(n,"position"))e=n.getBoundingClientRect();else{for(e=this.offset(),i=n.ownerDocument,t=n.offsetParent||i.documentElement;t&&(t===i.body||t===i.documentElement)&&"static"===_t.css(t,"position");)t=t.parentNode;t&&t!==n&&1===t.nodeType&&(o=_t(t).offset(),o.top+=_t.css(t,"borderTopWidth",!0),o.left+=_t.css(t,"borderLeftWidth",!0))}return{top:e.top-o.top-_t.css(n,"marginTop",!0),left:e.left-o.left-_t.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===_t.css(t,"position");)t=t.offsetParent;return t||ie})}}),_t.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var i="pageYOffset"===e;_t.fn[t]=function(n){return qt(this,function(t,n,o){var s;return bt(t)?s=t:9===t.nodeType&&(s=t.defaultView),void 0===o?s?s[e]:t[n]:void(s?s.scrollTo(i?s.pageXOffset:o,i?o:s.pageYOffset):t[n]=o)},t,n,arguments.length)}}),_t.each(["top","left"],function(t,e){_t.cssHooks[e]=R(yt.pixelPosition,function(t,i){if(i)return i=N(t,e),ue.test(i)?_t(t).position()[e]+"px":i})}),_t.each({Height:"height",Width:"width"},function(t,e){_t.each({padding:"inner"+t,content:e,"":"outer"+t},function(i,n){_t.fn[n]=function(o,s){var r=arguments.length&&(i||"boolean"!=typeof o),a=i||(o===!0||s===!0?"margin":"border");return qt(this,function(e,i,o){var s;return bt(e)?0===n.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(s=e.documentElement,Math.max(e.body["scroll"+t],s["scroll"+t],e.body["offset"+t],s["offset"+t],s["client"+t])):void 0===o?_t.css(e,i,a):_t.style(e,i,o,a)},e,r?o:void 0,r)}})}),_t.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,e){_t.fn[e]=function(t,i){return arguments.length>0?this.on(e,null,t,i):this.trigger(e)}}),_t.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),_t.fn.extend({bind:function(t,e,i){return this.on(t,null,e,i)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,i,n){return this.on(e,t,i,n)},undelegate:function(t,e,i){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",i)}}),_t.proxy=function(t,e){var i,n,o;if("string"==typeof e&&(i=t[e],e=t,t=i),vt(t))return n=ct.call(arguments,2),o=function(){return t.apply(e||this,n.concat(ct.call(arguments)))},o.guid=t.guid=t.guid||_t.guid++,o},_t.holdReady=function(t){t?_t.readyWait++:_t.ready(!0)},_t.isArray=Array.isArray,_t.parseJSON=JSON.parse,_t.nodeName=s,_t.isFunction=vt,_t.isWindow=bt,_t.camelCase=p,_t.type=n,_t.now=Date.now,_t.isNumeric=function(t){var e=_t.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},"function"==typeof define&&define.amd&&define("jquery",[],function(){return _t});var Ze=SOCIOMILE.jq,Qe=SOCIOMILE.jq;return _t.noConflict=function(t){return SOCIOMILE.jq===_t&&(SOCIOMILE.jq=Qe),t&&SOCIOMILE.jq===_t&&(SOCIOMILE.jq=Ze),_t},e||(SOCIOMILE.jq=SOCIOMILE.jq=_t),_t}),SOCIOMILE.init=function(){if(SOCIOMILE.isMobile="undefined"!=typeof window.orientation||navigator.userAgent.indexOf("IEMobile")!==-1,null==SOCIOMILE.jq){if(window.jQuery)try{SOCIOMILE.jq=window.jQuery.noConflict()}catch(t){SOCIOMILE.jq=window.jQuery}if(window.$)try{SOCIOMILE.jq=window.$.noConflict()}catch(t){SOCIOMILE.jq=window.$}if(null==SOCIOMILE.jq)return"error"}SOCIOMILE.jq.ajaxSetup({beforeSend:function(t,e){"POST"!=e.type&&"PUT"!=e.type&&"DELETE"!=e.type||(e.url+="?id="+SOCIOMILE.id+"&token="+SOCIOMILE.localStorageGet("sociomile_token"))},data:{id:SOCIOMILE.id},headers:{"X-CSRF-TOKEN":SOCIOMILE.csrf}}),SOCIOMILE.div=document.createElement("div"),"undefined"!=typeof lc_setting?document.getElementById("chat-app").appendChild(SOCIOMILE.div):document.getElementsByTagName("body")[0].appendChild(SOCIOMILE.div),null!=SOCIOMILE.localStorageGet("sociomile_token")&&""!=SOCIOMILE.localStorageGet("sociomile_token")?SOCIOMILE.to("chat",{status:!0,token:SOCIOMILE.localStorageGet("sociomile_token")}):"undefined"!=typeof lc_setting?SOCIOMILE.id?SOCIOMILE.to("login"):(SOCIOMILE.livechat=lc_setting,SOCIOMILE.to("multi-chat-selector")):SOCIOMILE.to("init")},SOCIOMILE.to=function(t,e){e=e||{},SOCIOMILE.Chat=SOCIOMILE.riot.observable(),"chat"==t?SOCIOMILE.riot.mount(SOCIOMILE.div,"sociomile-chat",e):"multi-chat-selector"==t?SOCIOMILE.riot.mount(SOCIOMILE.div,"sociomile-multi-chat-selector",e):"login"==t?(SOCIOMILE.Login=SOCIOMILE.riot.observable(),null!=SOCIOMILE.localStorageGet("sociomile_token")&&""!=SOCIOMILE.localStorageGet("sociomile_token")?SOCIOMILE.to("chat",{status:!0,token:SOCIOMILE.localStorageGet("sociomile_token")}):SOCIOMILE.riot.mount(SOCIOMILE.div,"sociomile-login",e)):"init"==t?"undefined"!=typeof lc_setting?SOCIOMILE.to("login"):SOCIOMILE.riot.mount(SOCIOMILE.div,"sociomile-init",e):"survey"==t?SOCIOMILE.riot.mount(SOCIOMILE.div,"sociomile-survey",e):"chatbot"==t&&SOCIOMILE.riot.mount(SOCIOMILE.div,"sociomile-chatbot",e)},SOCIOMILE.error=function(t,e){if(t.status&&401==t.status);else{var i="Oops error...";t.responseJSON&&t.responseJSON.message?(i=t.responseJSON.message,_.isObject(t.responseJSON.message)):t.responseText?i=t.responseText:t.statusText&&(i=t.statusText),alert(i)}},SOCIOMILE.alert=function(t){var e=SOCIOMILE.jq("<div/>");SOCIOMILE.jq(t.target).append(e),SOCIOMILE.riot.mount(e,"sociomile-alert",t)},SOCIOMILE.draggable=function(){if(window.$)try{$(".sociomile-container").draggable()}catch(t){}},SOCIOMILE.nl2br=function(t,e){var i=e||"undefined"==typeof e?"<br />":"<br>";return(SOCIOMILE.stripTags(t)+"").replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g,"$1"+i+"$2")},SOCIOMILE.stripTags=function(t,e){e=(((e||"")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join("");var i=/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,n=/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>/gi;return t.replace(n,"").replace(i,function(t,i){return e.indexOf("<"+i.toLowerCase()+">")>-1?t:""})},SOCIOMILE.findIndex=function(t,e,i){for(var n=0;n<t.length;n++)if(t[n][e]==i)return n;return-1},SOCIOMILE.noScroll=function(t){return!!SOCIOMILE.isMobile&&void(t&&SOCIOMILE.jq('meta[name="viewport"]').attr("content","width=device-width, initial-scale=1, shrink-to-fit=no, user-scalable=no"))},SOCIOMILE.DataLayer=function(t){"undefined"!=typeof dataLayer&&dataLayer.push({event:t.message?t.message.replace(/ /g,""):"",attributes:{event_id:t.id?t.id:"",event_name:t.message?t.message:""}})},SOCIOMILE.hitOnEvent=function(t){var e={id:t.tiketId,name:t.name,email:t.email,hp:t.phone,section:t.status};try{"open"==t.status?SOCIOMILE_EVENT&&SOCIOMILE_EVENT.open&&"function"==typeof SOCIOMILE_EVENT.open&&SOCIOMILE_EVENT.open(e):SOCIOMILE_EVENT&&SOCIOMILE_EVENT.close&&"function"==typeof SOCIOMILE_EVENT.close&&SOCIOMILE_EVENT.close(e)}catch(i){}},SOCIOMILE.stripTags=function(t){return t.replace(/(<([^>]+)>)/gi,"")},SOCIOMILE.localStorageGet=function(t){return localStorage.getItem(this.id+"-"+t)},SOCIOMILE.localStorageSet=function(t,e){null===e?localStorage.removeItem(this.id+"-"+t):localStorage.setItem(this.id+"-"+t,e)},SOCIOMILE.localStorageRemove=function(t){localStorage.removeItem(this.id+"-"+t)},SOCIOMILE.init();
